#!/bin/bash
# 运行诊断并自动发送到Telegram

cd ~/cryptosignal

echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "🔍 CryptoSignal 系统诊断（自动发送到Telegram）"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
echo "📋 诊断内容："
echo "   1. ✅ 检查代码版本和配置"
echo "   2. ✅ 验证关键修复是否生效"
echo "   3. 🧪 运行测试扫描（10个币种）"
echo "   4. 📊 详细分析信号产生过程"
echo "   5. 📈 生成统计报告"
echo "   6. 📤 自动发送到Telegram群"
echo ""
echo "⏱️  预计耗时: 1-3分钟"
echo "📱 结果将自动发送到配置的Telegram群"
echo ""
echo "按 Enter 开始，或 Ctrl+C 取消..."
read

# 运行带Telegram通知的诊断脚本
python3 diagnostic_with_telegram.py

echo ""
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo "✅ 完成！请查看Telegram群组中的诊断报告"
echo "━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"
echo ""
