# CryptoSignal v7.2 å®Œæ•´ç³»ç»Ÿæ¶æ„åˆ†æ

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æ›´æ–°æ—¥æœŸ**: 2025-11-11
**é€‚ç”¨ç‰ˆæœ¬**: CryptoSignal v7.2.24

---

## ç›®å½•

1. [ç³»ç»Ÿå¯åŠ¨æµç¨‹](#1-ç³»ç»Ÿå¯åŠ¨æµç¨‹)
2. [ä¿¡å·ç”Ÿæˆå®Œæ•´æµç¨‹](#2-ä¿¡å·ç”Ÿæˆå®Œæ•´æµç¨‹)
3. [å› å­è®¡ç®—è¯¦è§£](#3-å› å­è®¡ç®—è¯¦è§£)
4. [é˜ˆå€¼é…ç½®ä½“ç³»](#4-é˜ˆå€¼é…ç½®ä½“ç³»)
5. [æƒé‡åˆ†é…æœºåˆ¶](#5-æƒé‡åˆ†é…æœºåˆ¶)
6. [äº”é“é—¸é—¨ç³»ç»Ÿ](#6-äº”é“é—¸é—¨ç³»ç»Ÿ)
7. [Telegramæ¶ˆæ¯å‘å¸ƒ](#7-telegramæ¶ˆæ¯å‘å¸ƒ)
8. [é…ç½®æ–‡ä»¶ç´¢å¼•](#8-é…ç½®æ–‡ä»¶ç´¢å¼•)

---

## 1. ç³»ç»Ÿå¯åŠ¨æµç¨‹

### 1.1 éƒ¨ç½²å…¥å£ï¼šsetup.sh

**æ‰§è¡Œå‘½ä»¤**:
```bash
cd ~/cryptosignal
./setup.sh
```

**å¯åŠ¨æµç¨‹**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SETUP.SH éƒ¨ç½²è„šæœ¬                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤0: ä»£ç æ›´æ–° (lines 36-62)                                   â”‚
â”‚  â”œâ”€ git fetch origin                                             â”‚
â”‚  â”œâ”€ git pull --rebase                                            â”‚
â”‚  â”œâ”€ æ¸…ç†Pythonç¼“å­˜ (find . -name "__pycache__")                 â”‚
â”‚  â””â”€ éªŒè¯v7.2ç›®å½•ç»“æ„                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤1: ç¯å¢ƒæ£€æŸ¥ (lines 90-111)                                  â”‚
â”‚  â”œâ”€ æ£€æµ‹Python3 (python3 --version)                             â”‚
â”‚  â”œâ”€ æ£€æµ‹pip3                                                     â”‚
â”‚  â””â”€ å®‰è£…ä¾èµ– (pip3 install -r requirements.txt)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤2: é…ç½®æ–‡ä»¶æ£€æŸ¥ (lines 114-139)                             â”‚
â”‚  â”œâ”€ config/binance_credentials.json (å¿…éœ€)                      â”‚
â”‚  â””â”€ config/telegram.json (å¯é€‰ï¼Œé»˜è®¤ç¦ç”¨)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤3: æ•°æ®åº“åˆå§‹åŒ– (lines 154-161)                             â”‚
â”‚  â”œâ”€ python3 scripts/init_databases.py                           â”‚
â”‚  â”œâ”€ åˆ›å»º data/trade_history.db (TradeRecorder)                  â”‚
â”‚  â””â”€ åˆ›å»º data/analysis.db (AnalysisDB - 7å¼ è¡¨)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤4: å¯åŠ¨æ‰«æå™¨ (lines 172-185)                               â”‚
â”‚  â”œâ”€ pkill -f realtime_signal_scanner (åœæ­¢æ—§è¿›ç¨‹)               â”‚
â”‚  â”œâ”€ export AUTO_COMMIT_REPORTS=false                            â”‚
â”‚  â””â”€ nohup python3 scripts/realtime_signal_scanner.py \          â”‚
â”‚     --interval 300 > ~/cryptosignal_*.log 2>&1 &                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åå°è¿è¡Œ (PID: xxxxx)                                           â”‚
â”‚  â”œâ”€ æ—¥å¿—: ~/cryptosignal_YYYYMMDD_HHMMSS.log                    â”‚
â”‚  â”œâ”€ æ‰«æé—´éš”: 300ç§’ (5åˆ†é’Ÿ)                                      â”‚
â”‚  â””â”€ SSHæ–­å¼€åç»§ç»­è¿è¡Œ (nohup)                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 å®šæ—¶ä»»åŠ¡é…ç½®

**Crontab** (setup.sh lines 142-149):
```bash
# æ¯2å°æ—¶è‡ªåŠ¨é‡å¯æ‰«æå™¨
0 */2 * * * ~/cryptosignal/auto_restart.sh

# æ¯å¤©å‡Œæ™¨1ç‚¹æ¸…ç†7å¤©å‰çš„æ—¥å¿—
0 1 * * * find ~ -name 'cryptosignal_*.log' -mtime +7 -delete
```

---

## 2. ä¿¡å·ç”Ÿæˆå®Œæ•´æµç¨‹

### 2.1 æµç¨‹æ€»è§ˆå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            realtime_signal_scanner.py (ä¸»æ‰«æå™¨)                  â”‚
â”‚                     æ‰«æé—´éš”: 5åˆ†é’Ÿ                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ1: åˆå§‹åŒ– (2-4åˆ†é’Ÿï¼Œä»…é¦–æ¬¡)                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ 1. åŠ è½½Telegramé…ç½® (telegram.json)                    â”‚     â”‚
â”‚  â”‚ 2. åˆå§‹åŒ–OptimizedBatchScanner                         â”‚     â”‚
â”‚  â”‚    â”œâ”€ è·å–å¸å®‰USDTæ°¸ç»­åˆçº¦åˆ—è¡¨ (~140ä¸ª)                â”‚     â”‚
â”‚  â”‚    â”œâ”€ é¢„åŠ è½½Kçº¿ç¼“å­˜ (1h/4h/15m/1d)                     â”‚     â”‚
â”‚  â”‚    â””â”€ è·å–å¸‚åœºæ•°æ® (OI/funding/spot/orderbook)        â”‚     â”‚
â”‚  â”‚ 3. åˆå§‹åŒ–AntiJitterç³»ç»Ÿ                                â”‚     â”‚
â”‚  â”‚ 4. åˆå§‹åŒ–æ•°æ®è®°å½•å™¨ (TradeRecorder + AnalysisDB)      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ2: æ‰¹é‡æ‰«æ (12-15ç§’)                                       â”‚
â”‚  batch_scan_optimized.py::batch_scan()                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ å¯¹140+ä¸ªå¸ç§å¹¶è¡Œå¤„ç†:                                   â”‚     â”‚
â”‚  â”‚                                                         â”‚     â”‚
â”‚  â”‚ â‘  ä»ç¼“å­˜åŠ è½½Kçº¿ (0 APIè°ƒç”¨!)                           â”‚     â”‚
â”‚  â”‚ â‘¡ æ•°æ®è´¨é‡æ£€æŸ¥ (æœ€å°‘96-150æ ¹Kçº¿)                       â”‚     â”‚
â”‚  â”‚ â‘¢ è°ƒç”¨ analyze_symbol_with_preloaded_klines()          â”‚     â”‚
â”‚  â”‚    â”œâ”€ è®¡ç®—6ä¸ªAå±‚å› å­: T, M, C, V, O, B                â”‚     â”‚
â”‚  â”‚    â”œâ”€ è®¡ç®—4ä¸ªBå±‚è°ƒåˆ¶å™¨: L, S, F, I                    â”‚     â”‚
â”‚  â”‚    â”œâ”€ åº”ç”¨4é—¸é—¨è¿‡æ»¤ (æ—§ç‰ˆ)                             â”‚     â”‚
â”‚  â”‚    â””â”€ è®¡ç®—åŠ æƒåˆ†æ•° + ä¿¡å¿ƒåº¦                            â”‚     â”‚
â”‚  â”‚ â‘£ è¿‡æ»¤å€™é€‰ä¿¡å· (confidence >= 15)                      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                  â”‚
â”‚  è¾“å‡º: 40-80ä¸ªå€™é€‰ä¿¡å· (çº¦10-20%é€šè¿‡ç‡)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ3: v7.2å¢å¼ºå±‚ (1-2ç§’)                                       â”‚
â”‚  analyze_symbol_v72.py::analyze_symbol_v72()                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ å¯¹æ¯ä¸ªå€™é€‰ä¿¡å·:                                         â”‚     â”‚
â”‚  â”‚                                                         â”‚     â”‚
â”‚  â”‚ â‘  é‡æ–°è®¡ç®—Få› å­ (v2ç‰ˆæœ¬ï¼Œä¿®å¤é¥±å’Œé—®é¢˜)                 â”‚     â”‚
â”‚  â”‚ â‘¡ åº”ç”¨å› å­åˆ†ç»„ (TCç»„50% + VOMç»„35% + Bç»„15%)          â”‚     â”‚
â”‚  â”‚ â‘¢ ç»Ÿè®¡æ ¡å‡† (EmpiricalCalibrator)                       â”‚     â”‚
â”‚  â”‚    â”œâ”€ å†·å¯åŠ¨: base_p=60% + FåŠ æˆ + IåŠ æˆ               â”‚     â”‚
â”‚  â”‚    â””â”€ çƒ­å¯åŠ¨: å†å²æ•°æ®ç»Ÿè®¡æ ¡å‡† (éœ€30+æ ·æœ¬)             â”‚     â”‚
â”‚  â”‚ â‘£ è®¡ç®—æœŸæœ›æ”¶ç›Š EV = PÃ—TP - (1-P)Ã—SL - cost            â”‚     â”‚
â”‚  â”‚ â‘¤ åº”ç”¨äº”é“é—¸é—¨:                                        â”‚     â”‚
â”‚  â”‚    â”œâ”€ Gate1: æ•°æ®è´¨é‡ (â‰¥150æ ¹Kçº¿)                     â”‚     â”‚
â”‚  â”‚    â”œâ”€ Gate2: èµ„é‡‘æ”¯æ’‘ (F â‰¥ -10)                       â”‚     â”‚
â”‚  â”‚    â”œâ”€ Gate3: æœŸæœ›æ”¶ç›Š (EV â‰¥ 1.5%)                     â”‚     â”‚
â”‚  â”‚    â”œâ”€ Gate4: èƒœç‡é—¨æ§› (P â‰¥ 50%)                       â”‚     â”‚
â”‚  â”‚    â””â”€ Gate5: IÃ—Marketå¯¹é½æ£€æŸ¥                         â”‚     â”‚
â”‚  â”‚ â‘¥ æ ‡è®°åŠ¨é‡çŠ¶æ€ (F>40 â†’ "è“„åŠ¿å¾…å‘")                    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                  â”‚
â”‚  è¾“å‡º: 5-15ä¸ªPrimeä¿¡å· (å…¨éƒ¨5é—¸é—¨é€šè¿‡)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ4: é˜²æŠ–è¿‡æ»¤ (ç¬æ—¶)                                          â”‚
â”‚  anti_jitter.py                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ å¯¹æ¯ä¸ªPrimeä¿¡å·:                                        â”‚     â”‚
â”‚  â”‚ â”œâ”€ æ£€æŸ¥ä¿¡å·å†å² (5åˆ†é’Ÿå†·å´)                            â”‚     â”‚
â”‚  â”‚ â”œâ”€ è¦æ±‚K/Næ¬¡ç¡®è®¤ (é»˜è®¤1/1)                             â”‚     â”‚
â”‚  â”‚ â””â”€ é˜²æ­¢é‡å¤é€šçŸ¥                                        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                  â”‚
â”‚  è¾“å‡º: 1-5ä¸ªå¯å‘å¸ƒä¿¡å· (ä»…å‘å¸ƒTop 1)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é˜¶æ®µ5: Telegramå‘å¸ƒ (ç¬æ—¶)                                      â”‚
â”‚  telegram_fmt.py::render_trade_v72()                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ â‘  æŒ‰confidence_adjustedæ’åº (IÃ—MarketåŠ æˆ)             â”‚     â”‚
â”‚  â”‚ â‘¡ é€‰æ‹©Top 1ä¿¡å·                                        â”‚     â”‚
â”‚  â”‚ â‘¢ æ ¼å¼åŒ–v7.2æ¶ˆæ¯æ¨¡æ¿                                   â”‚     â”‚
â”‚  â”‚ â‘£ å‘é€åˆ°Telegram (HTTP POST)                           â”‚     â”‚
â”‚  â”‚ â‘¤ è®°å½•åˆ°æ•°æ®åº“ (trade_history.db + analysis.db)       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 å…³é”®æ–‡ä»¶è·¯å¾„

| é˜¶æ®µ | æ–‡ä»¶è·¯å¾„ | å…³é”®å‡½æ•° | è¡Œå· |
|------|---------|---------|------|
| **å¯åŠ¨** | `scripts/realtime_signal_scanner.py` | `main()` | 1-635 |
| **æ‰¹é‡æ‰«æ** | `ats_core/pipeline/batch_scan_optimized.py` | `batch_scan()` | 420-1046 |
| **åŸºç¡€åˆ†æ** | `ats_core/pipeline/analyze_symbol.py` | `analyze_symbol_with_preloaded_klines()` | 108-200 |
| **v7.2å¢å¼º** | `ats_core/pipeline/analyze_symbol_v72.py` | `analyze_symbol_v72()` | 46-407 |
| **å› å­åˆ†ç»„** | `ats_core/scoring/factor_groups.py` | `compute_factor_groups()` | 24-115 |
| **ç»Ÿè®¡æ ¡å‡†** | `ats_core/calibration/empirical_calibration.py` | `calibrate_signal()` | - |
| **äº”é“é—¸é—¨** | `ats_core/gates/integrated_gates.py` | `evaluate_gates_v72()` | 64-319 |
| **é˜²æŠ–è¿‡æ»¤** | `ats_core/publishing/anti_jitter.py` | `should_publish()` | - |
| **æ¶ˆæ¯æ ¼å¼** | `ats_core/outputs/telegram_fmt.py` | `render_trade_v72()` | 2243-2635 |

---

## 3. å› å­è®¡ç®—è¯¦è§£

### 3.1 å› å­å±‚çº§æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CryptoSignal å› å­ç³»ç»Ÿ                      â”‚
â”‚                      (10å› å­, 2å±‚æ¶æ„)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                               â”‚
         â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Aå±‚: æ ¸å¿ƒå› å­      â”‚       â”‚   Bå±‚: è°ƒåˆ¶å™¨        â”‚
â”‚   (6å› å­, 100%æƒé‡)  â”‚       â”‚   (4å› å­, 0%æƒé‡)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                               â”‚
         â”œâ”€ T: è¶‹åŠ¿ (24%)                 â”œâ”€ L: æµåŠ¨æ€§ (è°ƒåˆ¶ä»“ä½)
         â”œâ”€ M: åŠ¨é‡ (10%)                 â”œâ”€ S: ç»“æ„ (è°ƒåˆ¶Teff)
         â”œâ”€ C: èµ„é‡‘æµ (27%)               â”œâ”€ F: èµ„é‡‘é¢†å…ˆ (è“„åŠ¿å¾…å‘)
         â”œâ”€ V: é‡èƒ½ (12%)                 â””â”€ I: ç‹¬ç«‹æ€§ (å¸‚åœºå¯¹é½)
         â”œâ”€ O: æŒä»“é‡ (21%)
         â””â”€ B: åŸºå·® (6%)
```

### 3.2 Aå±‚å› å­è¯¦ç»†è®¡ç®—

#### 3.2.1 Tå› å­ - è¶‹åŠ¿å¼ºåº¦ (Trend)

**æƒé‡**: 24% (v6.7 P2.2è°ƒæ•´)
**èŒƒå›´**: -100 (å¼ºä¸‹è·Œè¶‹åŠ¿) ~ +100 (å¼ºä¸Šæ¶¨è¶‹åŠ¿)
**æ–‡ä»¶**: `ats_core/features/trend.py`

**è®¡ç®—æ­¥éª¤**:

```python
# æ­¥éª¤1: EMAäº¤å‰åˆ†æ
ema5 = EMA(close, 5)
ema20 = EMA(close, 20)
ema_diff = ema5 - ema20

# æ­¥éª¤2: çº¿æ€§å›å½’æ–œç‡
slope, r_squared = linear_regression(close, lookback=12)
slope_normalized = slope / ATR(14)  # ATRå½’ä¸€åŒ–

# æ­¥éª¤3: ç»¼åˆè¯„åˆ†
T_raw = tanh(ema_diff / scale) * 100 * r_squared

# æ­¥éª¤4: StandardizationChain (5æ­¥ç¨³å¥åŒ–)
T_final = StandardizationChain.transform(T_raw, factor="T")
```

**é…ç½®å‚æ•°** (`config/params.json`):
```json
{
  "trend": {
    "ema_order_min_bars": 6,      // EMAæ’åˆ—æœ€å°‘Kçº¿æ•°
    "slope_atr_min_long": 0.06,   // å¤šå¤´æœ€å°æ–œç‡ (ATRå€æ•°)
    "slope_atr_min_short": 0.04,  // ç©ºå¤´æœ€å°æ–œç‡
    "slope_lookback": 12,          // æ–œç‡å›çœ‹å‘¨æœŸ
    "atr_period": 14               // ATRå‘¨æœŸ
  }
}
```

**å½’ä¸€åŒ–å‚æ•°** (`config/factors_unified.json`):
```json
{
  "factors": {
    "T": {
      "params": {
        "slope_scale": 0.08,       // æ–œç‡ç¼©æ”¾ç³»æ•°
        "ema_bonus": 12.5,         // EMAäº¤å‰åŠ æˆ
        "r2_weight": 0.15          // RÂ²æƒé‡
      }
    }
  },
  "global": {
    "standardization": {
      "factor_overrides": {
        "T": {
          "alpha": 0.15,           // EWå¹³æ»‘ç³»æ•°
          "tau": 3.0,              // Huberæˆªæ–­
          "z0": 2.5                // Z-scoreä¸­æ€§åŒº
        }
      }
    }
  }
}
```

**è¾“å‡ºç¤ºä¾‹**:
- T = +85: å¼ºåŠ²ä¸Šæ¶¨è¶‹åŠ¿ (EMA5>>EMA20, æ–œç‡é™¡å³­, RÂ²é«˜)
- T = +55: æ¸©å’Œä¸Šæ¶¨è¶‹åŠ¿
- T = 0: æ¨ªç›˜éœ‡è¡
- T = -65: ç¨³æ­¥ä¸‹è·Œè¶‹åŠ¿
- T = -96: å¼ºåŠ²ä¸‹è·Œè¶‹åŠ¿

---

#### 3.2.2 Må› å­ - åŠ¨é‡ (Momentum)

**æƒé‡**: 10% (v6.7 P2.2è°ƒæ•´ï¼Œä»17%é™ä½)
**èŒƒå›´**: -100 ~ +100
**æ–‡ä»¶**: `ats_core/features/momentum.py`

**è®¾è®¡åŸåˆ™**: **ä¸Tå› å­æ­£äº¤åŒ–**
- Tå› å­: EMA5/20 æ•æ‰å¤§è¶‹åŠ¿ (æ…¢)
- Må› å­: EMA3/5 æ•æ‰å¿«é€ŸåŠ¨é‡ (å¿«)
- ç›®æ ‡: é™ä½T-Mç›¸å…³æ€§ä»70.8% â†’ <50%

**è®¡ç®—æ­¥éª¤**:

```python
# æ­¥éª¤1: çŸ­çª—å£EMA (å¿«é€Ÿå“åº”)
ema3 = EMA(close, 3)
ema5 = EMA(close, 5)
ema_diff = ema3 - ema5

# æ­¥éª¤2: ä»·æ ¼åŠ é€Ÿåº¦
slope = (close[-1] - close[-6]) / 6
acceleration = slope - prev_slope

# æ­¥éª¤3: åŠ æƒåˆæˆ
M_raw = (ema_diff * slope_weight + acceleration * accel_weight) / ATR

# æ­¥éª¤4: ç›¸å¯¹å†å²å½’ä¸€åŒ– (Relative Historical)
M_final = normalize_relative_historical(M_raw, window=30)
```

**é…ç½®å‚æ•°** (`config/params.json`):
```json
{
  "momentum": {
    "ema_fast": 3,                // å¿«é€ŸEMA
    "ema_slow": 5,                // æ…¢é€ŸEMA
    "slope_lookback": 6,          // æ–œç‡å›çœ‹
    "slope_scale": 1.00,          // æ–œç‡ç¼©æ”¾
    "accel_scale": 1.00,          // åŠ é€Ÿåº¦ç¼©æ”¾
    "slope_weight": 0.6,          // æ–œç‡æƒé‡
    "accel_weight": 0.4,          // åŠ é€Ÿåº¦æƒé‡
    "_p22_rationale": "Tå› å­ç”¨EMA5/20æ•æ‰å¤§è¶‹åŠ¿ï¼ŒMå› å­ç”¨EMA3/5æ•æ‰å¿«é€ŸåŠ¨é‡â†’æ­£äº¤åŒ–"
  }
}
```

**æƒé‡è°ƒæ•´é€»è¾‘** (`config/params.json`):
```json
{
  "weights": {
    "M": 10.0,
    "_p22_adjustment": "M: 17%â†’10% (T-Mç›¸å…³66.4%), ç©ºä½™7%åˆ†é…: C+3%, O+4%"
  }
}
```

---

#### 3.2.3 Cå› å­ - èµ„é‡‘æµ (Capital Flow / CVD)

**æƒé‡**: 27% (v6.7 P2.2è°ƒæ•´ï¼Œä»24%å¢åŠ )
**èŒƒå›´**: -100 (å¼ºåŠ²èµ„é‡‘æµå‡º) ~ +100 (å¼ºåŠ²èµ„é‡‘æµå…¥)
**æ–‡ä»¶**: `ats_core/features/cvd.py`

**è®¡ç®—æ­¥éª¤**:

```python
# æ­¥éª¤1: ç´¯ç§¯æˆäº¤é‡å·® (CVD)
# buy_volume: ä¸»åŠ¨ä¹°å•æˆäº¤é‡
# sell_volume: ä¸»åŠ¨å–å•æˆäº¤é‡
cvd = cumsum(buy_volume - sell_volume)

# æ­¥éª¤2: CVDå˜åŒ–ç‡ (6å°æ—¶çª—å£)
cvd_change_6h = (cvd[-1] - cvd[-6h]) / total_volume_6h

# æ­¥éª¤3: æ··åˆOIå’Œä»·æ ¼å˜åŒ–
cvd_mix = cvd_change_6h * 0.6 + oi_change * 0.3 + price_change * 0.1

# æ­¥éª¤4: å†å²æ³¢åŠ¨ç‡å½’ä¸€åŒ–
C_raw = cvd_mix / historical_volatility

# æ­¥éª¤5: æ‹¥æŒ¤åº¦æƒ©ç½š (P95æ£€æµ‹)
if cvd_mix > percentile_95(historical_cvd):
    C_raw *= (1 - crowding_penalty)  # æƒ©ç½š10åˆ†

C_final = StandardizationChain.transform(C_raw)
```

**é…ç½®å‚æ•°** (`config/params.json`):
```json
{
  "cvd_flow": {
    "lookback_hours": 6,          // CVDå›çœ‹æ—¶é•¿
    "cvd_scale": 0.02             // CVDç¼©æ”¾ç³»æ•°
  }
}
```

**æ‹¥æŒ¤åº¦æ£€æµ‹** (`config/factors_unified.json`):
```json
{
  "factors": {
    "C+": {
      "params": {
        "crowding_p95_penalty": 10,  // æ‹¥æŒ¤åº¦æƒ©ç½š (10åˆ†)
        "normalization_method": "relative_historical"
      }
    }
  }
}
```

---

#### 3.2.4 Vå› å­ - é‡èƒ½ (Volume)

**æƒé‡**: 12%
**èŒƒå›´**: -100 (é‡èƒ½æåº¦èç¼©) ~ +100 (é‡èƒ½æåº¦æ”¾å¤§)
**æ–‡ä»¶**: `ats_core/features/volume.py`

**è®¡ç®—æ­¥éª¤**:

```python
# æ­¥éª¤1: é‡èƒ½æ¯”ç‡
v5 = SMA(volume, 5)
v20 = SMA(volume, 20)
vratio = v5 / v20

# æ­¥éª¤2: é‡èƒ½å˜åŒ–ç‡
vroc = (volume[-1] - volume[-5]) / volume[-5]

# æ­¥éª¤3: ä»·æ ¼æ–¹å‘é…åˆåº¦
if (price_up and volume_up) or (price_down and volume_up):
    direction_bonus = 1.0
else:
    direction_bonus = 0.5

# æ­¥éª¤4: ATRå½’ä¸€åŒ–
V_raw = (vratio * 0.6 + vroc * 0.4) * direction_bonus / ATR

# æ­¥éª¤5: è‡ªé€‚åº”é˜ˆå€¼ (Hybridæ¨¡å¼)
V_final = adaptive_normalize(V_raw, mode="hybrid", lookback=50)
```

**é…ç½®å‚æ•°** (`config/factors_unified.json`):
```json
{
  "factors": {
    "V+": {
      "params": {
        "vlevel_scale": 0.9,         // é‡èƒ½æ°´å¹³ç¼©æ”¾
        "vroc_scale": 0.9,           // é‡èƒ½å˜åŒ–ç¼©æ”¾
        "vlevel_weight": 0.6,        // é‡èƒ½æ°´å¹³æƒé‡
        "vroc_weight": 0.4,          // é‡èƒ½å˜åŒ–æƒé‡
        "price_lookback": 5,         // ä»·æ ¼å›çœ‹å‘¨æœŸ
        "adaptive_threshold_mode": "hybrid"  // è‡ªé€‚åº”æ¨¡å¼
      }
    }
  }
}
```

**è‡ªé€‚åº”é˜ˆå€¼** (`config/params.json`):
```json
{
  "factor_optimization_v2": {
    "volume_adaptive": {
      "enabled": true,
      "lookback": 20,               // å†å²å›çœ‹å‘¨æœŸ
      "percentile": 50,             // ä¸­ä½æ•°åŸºå‡†
      "min_threshold_pct": 0.001,   // æœ€å°é˜ˆå€¼
      "max_threshold_pct": 0.02     // æœ€å¤§é˜ˆå€¼
    }
  }
}
```

---

#### 3.2.5 Oå› å­ - æŒä»“é‡ (Open Interest)

**æƒé‡**: 21% (v6.7 P2.2è°ƒæ•´ï¼Œä»17%å¢åŠ )
**èŒƒå›´**: -100 (æŒä»“æ€¥å‰§ä¸‹é™) ~ +100 (æŒä»“æ€¥å‰§ä¸Šå‡)
**æ–‡ä»¶**: `ats_core/features/open_interest.py`

**è®¡ç®—æ­¥éª¤**:

```python
# æ­¥éª¤1: åä¹‰æŒä»“é‡ (Notional OI, P1.2æ–°å¢)
# ä¿®å¤ï¼šä½¿ç”¨ åˆçº¦æ•° Ã— ä»·æ ¼ï¼Œè€Œéä»…åˆçº¦æ•°
notional_oi = open_interest_contracts * mark_price

# æ­¥éª¤2: 24å°æ—¶å˜åŒ–ç‡
oi_change_24h = (oi[-1] - oi[-24h]) / oi[-24h]

# æ­¥éª¤3: è¶‹åŠ¿å¯¹é½åº¦
if (price_up and oi_up) or (price_down and oi_up):
    # ä»·æ¶¨é‡å¢ æˆ– ä»·è·Œé‡å¢ â†’ è¶‹åŠ¿å¯¹é½
    alignment_score = oi_change_24h
else:
    # ä»·æ¶¨é‡å‡ â†’ è¶‹åŠ¿èƒŒç¦»ï¼Œå‡å¼±ä¿¡å·
    alignment_score = 0

# æ­¥éª¤4: åŠ æƒåˆæˆ
O_raw = oi_change_24h * 0.7 + alignment_score * 0.3

# æ­¥éª¤5: æ‹¥æŒ¤åº¦æƒ©ç½š
if oi_change_24h > percentile_95:
    O_raw *= (1 - 0.1)

O_final = adaptive_normalize(O_raw, mode="hybrid")
```

**é…ç½®å‚æ•°** (`config/params.json`):
```json
{
  "open_interest": {
    "long_oi24_lo": 1.0,          // å¤šå¤´OI24hä¸‹é™ (%)
    "long_oi24_hi": 8.0,          // å¤šå¤´OI24hä¸Šé™
    "short_oi24_lo": 2.0,         // ç©ºå¤´OI24hä¸‹é™
    "short_oi24_hi": 10.0,        // ç©ºå¤´OI24hä¸Šé™
    "crowding_p95_penalty": 10,   // æ‹¥æŒ¤åº¦æƒ©ç½š
    "w_change": 0.7,              // OIå˜åŒ–æƒé‡
    "w_align": 0.3                // è¶‹åŠ¿å¯¹é½æƒé‡
  },
  "factor_optimization_v2": {
    "use_notional_oi": {
      "enabled": true,            // å¯ç”¨åä¹‰OI
      "contract_multiplier": 1.0
    }
  }
}
```

---

#### 3.2.6 Bå› å­ - åŸºå·®+èµ„é‡‘è´¹ (Basis + Funding)

**æƒé‡**: 6%
**èŒƒå›´**: -100 (æåº¦è´Ÿæº¢ä»·) ~ +100 (æåº¦æ­£æº¢ä»·)
**æ–‡ä»¶**: `ats_core/factors_v2/basis_funding.py`

**è®¡ç®—æ­¥éª¤**:

```python
# æ­¥éª¤1: åŸºå·®è®¡ç®—
# basis = (æœŸè´§ä»·æ ¼ - ç°è´§ä»·æ ¼) / ç°è´§ä»·æ ¼ * 10000  # bps
basis_bps = (mark_price - spot_price) / spot_price * 10000

# æ­¥éª¤2: åŸºå·®è¯„åˆ†
if abs(basis_bps) < neutral_bps:  # 50 bps
    basis_score = tanh(basis_bps / neutral_bps) * 50
elif abs(basis_bps) < extreme_bps:  # 100 bps
    basis_score = 50 + tanh((basis_bps - neutral_bps) / extreme_bps) * 50
else:
    basis_score = 100 * sign(basis_bps)

# æ­¥éª¤3: èµ„é‡‘è´¹ç‡è¯„åˆ†
# funding_rate: 8å°æ—¶èµ„é‡‘è´¹ç‡
if abs(funding_rate) < neutral_rate:  # 0.001
    funding_score = tanh(funding_rate / neutral_rate) * 50
elif abs(funding_rate) < extreme_rate:  # 0.002
    funding_score = 50 + tanh((funding_rate - neutral_rate) / extreme_rate) * 50
else:
    funding_score = 100 * sign(funding_rate)

# æ­¥éª¤4: åŠ æƒåˆæˆ
B_raw = basis_score * 0.6 + funding_score * 0.4

# æ­¥éª¤5: è‡ªé€‚åº”é˜ˆå€¼ (P0.1ä¼˜åŒ–)
B_final = adaptive_normalize(B_raw, mode="hybrid", lookback=100)
```

**é…ç½®å‚æ•°** (`config/params.json`):
```json
{
  "basis_funding": {
    "basis_neutral_bps": 50,      // åŸºå·®ä¸­æ€§é˜ˆå€¼ (50 bps)
    "basis_extreme_bps": 100,     // åŸºå·®æç«¯é˜ˆå€¼ (100 bps)
    "funding_neutral_rate": 0.001,  // èµ„é‡‘è´¹ä¸­æ€§é˜ˆå€¼ (0.1%)
    "funding_extreme_rate": 0.002,  // èµ„é‡‘è´¹æç«¯é˜ˆå€¼ (0.2%)
    "basis_weight": 0.6,          // åŸºå·®æƒé‡
    "funding_weight": 0.4         // èµ„é‡‘è´¹æƒé‡
  },
  "factor_optimization_v2": {
    "basis_funding_adaptive": {
      "enabled": true,
      "lookback": 100,            // å†å²å›çœ‹å‘¨æœŸ
      "neutral_percentile": 50,   // ä¸­æ€§é˜ˆå€¼ç™¾åˆ†ä½
      "extreme_percentile": 90,   // æç«¯é˜ˆå€¼ç™¾åˆ†ä½
      "neutral_min_bps": 20.0,
      "neutral_max_bps": 200.0,
      "extreme_min_bps": 50.0,
      "extreme_max_bps": 300.0
    }
  }
}
```

---

### 3.3 Bå±‚è°ƒåˆ¶å™¨è¯¦ç»†è®¡ç®—

#### 3.3.1 Få› å­ - èµ„é‡‘é¢†å…ˆæ€§ (Fund Leading)

**æƒé‡**: 0% (è°ƒåˆ¶å™¨ï¼Œä¸å‚ä¸è¯„åˆ†)
**èŒƒå›´**: -100 (ä»·æ ¼é¢†å…ˆèµ„é‡‘) ~ +100 (èµ„é‡‘é¢†å…ˆä»·æ ¼)
**æ–‡ä»¶**: `ats_core/features/fund_leading.py`

**ç”¨é€”**:
1. **Gate 2**: F â‰¥ -10 é€šè¿‡ (é˜²æ­¢è¿½é«˜)
2. **è“„åŠ¿å¾…å‘æ ‡è®°**: F > 40 æ˜¾ç¤º"ğŸš€ è“„åŠ¿å¾…å‘"
3. **æ¦‚ç‡åŠ æˆ**: F > 40 æ—¶ P += 5%

**è®¡ç®—æ­¥éª¤**:

```python
# æ­¥éª¤1: èµ„é‡‘åŠ¨é‡ (Fund Momentum)
oi_momentum = (oi[-1] - oi[-6h]) / oi[-6h] * oi_scale  # æŒä»“å˜åŒ–
vol_momentum = (vol[-1] - vol[-20]) / vol[-20] * vol_scale  # é‡èƒ½å˜åŒ–
cvd_momentum = (cvd[-1] - cvd[-6h]) / total_vol * cvd_scale  # CVDå˜åŒ–

fund_momentum = oi_momentum * 0.4 + vol_momentum * 0.3 + cvd_momentum * 0.3

# æ­¥éª¤2: ä»·æ ¼åŠ¨é‡ (Price Momentum)
trend_score = T_factor  # è¶‹åŠ¿å› å­
slope_score = (close[-1] - close[-12]) / ATR  # æ–œç‡

price_momentum = trend_score * 0.6 + slope_score * 0.4

# æ­¥éª¤3: é¢†å…ˆæ€§è®¡ç®—
F_raw = tanh((fund_momentum - price_momentum) / leading_scale) * 100

# æ­¥éª¤4: æ‹¥æŒ¤åº¦veto (P0.4æ–°å¢)
if (basis_bps > percentile_90 or funding_rate > percentile_90):
    F_raw *= crowding_penalty  # æƒ©ç½š50%
```

**v7.2.8ä¿®å¤ - F_v2ç‰ˆæœ¬** (`config/factors_unified.json`):

```json
{
  "factors": {
    "F": {
      "params": {
        "v2": {
          "cvd_weight": 0.6,       // CVDæƒé‡æå‡
          "oi_weight": 0.4,        // OIæƒé‡
          "window_hours": 6,       // 6å°æ—¶çª—å£
          "scale": 0.50,           // v7.2.8ä¿®å¤: 0.10â†’0.50
          "_comment": "ä¿®å¤Få› å­é¥±å’Œé—®é¢˜ï¼šF_raw=0.47æ—¶F=74è€Œé100"
        }
      }
    }
  }
}
```

**é…ç½®å‚æ•°** (`config/params.json`):
```json
{
  "fund_leading": {
    "oi_weight": 0.4,
    "vol_weight": 0.3,
    "cvd_weight": 0.3,
    "trend_weight": 0.6,
    "slope_weight": 0.4,
    "oi_scale": 3.0,
    "vol_scale": 0.3,
    "cvd_scale": 0.02,
    "price_scale": 3.0,
    "slope_scale": 0.01,
    "leading_scale": 20.0,
    "crowding_veto": {
      "enabled": true,
      "basis_lookback": 100,
      "funding_lookback": 100,
      "percentile": 90,
      "crowding_penalty": 0.5
    }
  }
}
```

**é˜ˆå€¼åº”ç”¨** (`config/signal_thresholds.json`):
```json
{
  "Få› å­åŠ¨é‡é˜ˆå€¼": {
    "F_strong_momentum": 40,      // å¼ºåŠ¿åŠ¨é‡ â†’ "ğŸš€ è“„åŠ¿å¾…å‘"
    "F_moderate_momentum": 20     // ä¸­ç­‰åŠ¨é‡
  },
  "v72é—¸é—¨é˜ˆå€¼": {
    "gate2_fund_support": {
      "F_min": -10,               // Gate 2é˜ˆå€¼
      "F_extreme_min": -60
    }
  }
}
```

---

#### 3.3.2 Iå› å­ - ç‹¬ç«‹æ€§ (Independence)

**æƒé‡**: 0% (è°ƒåˆ¶å™¨)
**èŒƒå›´**: -100 (å®Œå…¨è·Ÿéšå¤§ç›˜) ~ +100 (å®Œå…¨ç‹¬ç«‹èµ°åŠ¿)
**æ–‡ä»¶**: `ats_core/factors_v2/independence.py`

**ç”¨é€”**:
1. **Gate 5**: IÃ—Marketå¯¹é½æ£€æŸ¥
2. **ä¿¡å¿ƒåº¦åŠ æˆ**: é¡ºåŠ¿ + I<0 æ—¶ confidence Ã— 1.2
3. **æ¦‚ç‡åŠ æˆ**: I > 60 æ—¶ P += 3%

**è®¡ç®—æ­¥éª¤**:

```python
# æ­¥éª¤1: Betaå›å½’ (48å°æ—¶çª—å£)
returns_coin = (price_coin[t] - price_coin[t-1]) / price_coin[t-1]
returns_btc = (price_btc[t] - price_btc[t-1]) / price_btc[t-1]
returns_eth = (price_eth[t] - price_eth[t-1]) / price_eth[t-1]

# OLSçº¿æ€§å›å½’
beta_btc = regression(returns_coin, returns_btc).slope
beta_eth = regression(returns_coin, returns_eth).slope

# æ­¥éª¤2: ç‹¬ç«‹æ€§è¯„åˆ†
max_beta = max(abs(beta_btc), abs(beta_eth))
I_raw = 100 * (1 - max_beta)

# æ­¥éª¤3: Betaå€¼è¾“å‡º
I_meta = {
    "beta_btc": beta_btc,
    "beta_eth": beta_eth,
    "max_beta": max_beta
}
```

**é…ç½®å‚æ•°** (`config/factors_unified.json`):
```json
{
  "factors": {
    "I": {
      "params": {
        "window_hours": 24,           // Betaè®¡ç®—çª—å£
        "beta_threshold_high": 1.5,   // é«˜Betaé˜ˆå€¼
        "beta_threshold_low": 0.5,    // ä½Betaé˜ˆå€¼
        "regression_method": "ols",   // å›å½’æ–¹æ³•
        "btc_weight": 0.6,            // BTCæƒé‡
        "eth_weight": 0.4             // ETHæƒé‡
      }
    }
  }
}
```

**Gate 5é€»è¾‘** (`analyze_symbol_v72.py` lines 201-251):
```python
# Gate 5: Independence Ã— Market Alignment

if I >= 60:
    # é«˜ç‹¬ç«‹æ€§ â†’ æ— éœ€æ£€æŸ¥å¸‚åœºå¯¹é½
    gate_pass = True

elif I < 0:  # ä½ç‹¬ç«‹æ€§ï¼ˆé«˜åº¦è·Ÿéšå¤§ç›˜ï¼‰
    market_regime = analyze_market_regime()  # -100 ~ +100
    signal_direction = "LONG" if score > 0 else "SHORT"

    # æ£€æµ‹é€†åŠ¿é£é™©
    if (signal_direction == "LONG" and market_regime < -30) or \
       (signal_direction == "SHORT" and market_regime > 30):
        # é€†åŠ¿ + ä½ç‹¬ç«‹æ€§ â†’ å±é™©ï¼æ‹’ç»
        gate_pass = False
        reason = f"é€†åŠ¿é£é™©: {signal_direction}ä¿¡å·ä½†å¤§ç›˜{market_regime:+d}"

    # æ£€æµ‹é¡ºåŠ¿æœºä¼š
    elif (signal_direction == "LONG" and market_regime > 30) or \
         (signal_direction == "SHORT" and market_regime < -30):
        # é¡ºåŠ¿ + ä½ç‹¬ç«‹æ€§ â†’ ä¼˜ç§€ï¼åŠ æˆ
        gate_pass = True
        confidence_adjusted = confidence * 1.2  # ä¿¡å¿ƒåº¦Ã—1.2
        reason = f"é¡ºåŠ¿åŠ æˆ: {signal_direction}ä¿¡å·+å¤§ç›˜{market_regime:+d}"

    else:
        # ä¸­æ€§å¸‚åœº
        gate_pass = True

else:  # ä¸­ç­‰ç‹¬ç«‹æ€§
    gate_pass = True
```

---

#### 3.3.3 Lå› å­ - æµåŠ¨æ€§ (Liquidity)

**æƒé‡**: 0% (è°ƒåˆ¶å™¨)
**æ–‡ä»¶**: `ats_core/features/liquidity_priceband.py`

**ç”¨é€”**: è°ƒåˆ¶ä»“ä½å¤§å° (position_mult: 0.5-1.5)

**è®¡ç®—æ­¥éª¤**:

```python
# æ­¥éª¤1: ä»·æ ¼å¸¦æ·±åº¦ (Â±40 bps)
band_bps = 40.0
price_range = (mark_price * (1 - band_bps/10000), mark_price * (1 + band_bps/10000))
bid_depth = sum(bid_volume for bid in bids if bid_price in price_range)
ask_depth = sum(ask_volume for ask in asks if ask_price in price_range)

# æ­¥éª¤2: ä»·å·®è¯„åˆ†
spread_bps = (best_ask - best_bid) / mid_price * 10000
if spread_bps < 2.0:
    spread_score = 100
elif spread_bps > 10.0:
    spread_score = 0
else:
    spread_score = 100 - (spread_bps - 2) / 8 * 100

# æ­¥éª¤3: å†²å‡»æˆæœ¬è¯„åˆ† (50k USDTè®¢å•)
impact_bps = estimate_slippage(notional=50000, orderbook)
if impact_bps < 5:
    impact_score = 100
elif impact_bps > 20:
    impact_score = 0
else:
    impact_score = 100 - (impact_bps - 5) / 15 * 100

# æ­¥éª¤4: åŠ æƒåˆæˆ
L_score = spread_score * 0.25 + depth_score * 0.40 + impact_score * 0.35

# æ­¥éª¤5: ä»“ä½è°ƒåˆ¶
if L_score >= 80:
    position_mult = 1.5  # é«˜æµåŠ¨æ€§ â†’ æ”¾å¤§ä»“ä½
elif L_score >= 60:
    position_mult = 1.0
else:
    position_mult = 0.5  # ä½æµåŠ¨æ€§ â†’ å‡å°ä»“ä½
```

**é…ç½®å‚æ•°** (`config/params.json`):
```json
{
  "liquidity": {
    "band_bps": 40.0,             // ä»·æ ¼å¸¦å®½åº¦ (Â±40 bps)
    "impact_notional_usdt": 50000.0,  // å†²å‡»æˆæœ¬æµ‹è¯•é‡‘é¢
    "impact_threshold_bps": 10.0,  // å†²å‡»æˆæœ¬é˜ˆå€¼
    "spread_threshold_bps": 25.0,  // ä»·å·®é˜ˆå€¼
    "spread_weight": 0.25,
    "impact_weight": 0.40,
    "coverage_weight": 0.15
  }
}
```

---

#### 3.3.4 Så› å­ - ç»“æ„ (Structure)

**æƒé‡**: 0% (è°ƒåˆ¶å™¨)
**æ–‡ä»¶**: `ats_core/features/structure_sq.py`

**ç”¨é€”**: è°ƒåˆ¶æœ‰æ•ˆè¶‹åŠ¿ (Teff = T Ã— structure_multiplier)

**è®¡ç®—æ­¥éª¤**:

```python
# æ­¥éª¤1: å¤šå‘¨æœŸè¶‹åŠ¿ä¸€è‡´æ€§
trend_1h = analyze_trend(klines_1h)   # -1/0/+1
trend_4h = analyze_trend(klines_4h)
trend_1d = analyze_trend(klines_1d)

# æ­¥éª¤2: ä¸€è‡´æ€§è¯„åˆ†
if trend_1h == trend_4h == trend_1d:
    consistency_score = 100  # å®Œå…¨ä¸€è‡´
elif trend_1h == trend_4h or trend_4h == trend_1d:
    consistency_score = 60   # éƒ¨åˆ†ä¸€è‡´
else:
    consistency_score = 20   # ä¸ä¸€è‡´

# æ­¥éª¤3: ZigZagæ¨¡å¼è¯†åˆ«
zigzag_pattern = detect_zigzag_pattern(klines)
impulse_correction_ratio = len(impulse_waves) / len(correction_waves)

# æ­¥éª¤4: å›æ’¤å¥åº·åº¦
current_drawdown = (peak_price - current_price) / peak_price
if current_drawdown < 0.1:
    retracement_score = 100
else:
    retracement_score = max(0, 100 - current_drawdown * 500)

# æ­¥éª¤5: ç»¼åˆè¯„åˆ†
S_score = (consistency * 0.22 +
           impulse_ratio * 0.18 +
           retracement * 0.18 +
           timing * 0.14 +
           not_overextended * 0.20 +
           m15_confirm * 0.08)

# æ­¥éª¤6: Teffè°ƒåˆ¶
structure_multiplier = S_score / 100
Teff = T * structure_multiplier
```

**é…ç½®å‚æ•°** (`config/params.json`):
```json
{
  "structure": {
    "theta": {
      "big": 0.35,                // å¤§å¸‚å€¼å¸ç§é˜ˆå€¼
      "small": 0.40,              // å°å¸‚å€¼å¸ç§é˜ˆå€¼
      "overlay_add": 0.05,        // Overlayå¸ç§åŠ æˆ
      "new_phaseA_add": 0.10,     // æ–°å¸PhaseAåŠ æˆ
      "strong_regime_sub": 0.05   // å¼ºåŠ¿å¸‚åœºæƒ©ç½š
    }
  }
}
```

---

## 4. é˜ˆå€¼é…ç½®ä½“ç³»

### 4.1 é…ç½®æ–‡ä»¶å±‚çº§

```
config/
â”œâ”€â”€ signal_thresholds.json      â† ä¸»é…ç½® (v7.2 é˜ˆå€¼ä½“ç³»)
â”œâ”€â”€ params.json                 â† å› å­å‚æ•° (æ—§ç‰ˆï¼Œéƒ¨åˆ†å…¼å®¹)
â””â”€â”€ factors_unified.json        â† ç»Ÿä¸€å› å­é…ç½® (v3.0)
```

### 4.2 åŸºç¡€åˆ†æé˜ˆå€¼

**æ–‡ä»¶**: `config/signal_thresholds.json`

```json
{
  "åŸºç¡€åˆ†æé˜ˆå€¼": {
    "mature_coin": {
      "confidence_min": 15,       // â˜… ä¿¡å¿ƒåº¦æœ€ä½15 (æ‰¹é‡æ‰«æè¿‡æ»¤)
      "prime_strength_min": 42,   // ä¿¡å·å¼ºåº¦æœ€ä½42
      "edge_min": 0.12,           // ä¼˜åŠ¿æœ€ä½12%
      "prime_prob_min": 0.50,     // èƒœç‡æœ€ä½50%
      "gate_multiplier_min": 0.84,
      "base_strength_min": 40,
      "dims_ok_min": 3,           // è‡³å°‘3ä¸ªç»´åº¦OK
      "prime_dim_threshold": 50
    }
  }
}
```

**æ•°æ®ä¾æ®** (æ–‡æ¡£æ³¨é‡Š):
- åŸºäº2025-11-11æ‰«ææŠ¥å‘Š
- 405ä¸ªå¸ç§æ‰«æç»“æœ:
  - confidenceä¸­ä½æ•° = 9
  - P75 = 15
  - Max = 32
- **confidence_min=15**: çº¦10-20%å¸ç§é€šè¿‡ (40-80ä¸ªå€™é€‰)

---

### 4.3 v7.2 äº”é“é—¸é—¨é˜ˆå€¼

**æ–‡ä»¶**: `config/signal_thresholds.json`

```json
{
  "v72é—¸é—¨é˜ˆå€¼": {
    "gate1_data_quality": {
      "min_klines": 150,          // â˜… Gate 1: æœ€å°‘150æ ¹Kçº¿
      "_comment": "å®é™…æ•°æ®min=191ï¼Œåˆç†"
    },

    "gate2_fund_support": {
      "F_min": -10,               // â˜… Gate 2: F â‰¥ -10
      "F_extreme_min": -60,
      "comment": "å…è®¸é€‚åº¦æµå‡ºï¼ŒFä¸­ä½=-1, P75=1"
    },

    "gate3_ev": {
      "EV_min": 0.015,            // â˜… Gate 3: EV â‰¥ 1.5%
      "_comment": "ç•¥ä½äºå®é™…ä¸­ä½2%"
    },

    "gate4_probability": {
      "P_min": 0.50,              // â˜… Gate 4: P â‰¥ 50%
      "comment": "èƒœç‡50%ï¼ˆåŸ40%â†’50%ï¼‰"
    },

    "gate5_independence_market": {
      "I_min": 0,                 // â˜… Gate 5: IÃ—Marketè”åˆæ£€æŸ¥
      "market_regime_threshold": 30,
      "I_high_independence": 60,
      "confidence_boost_aligned": 1.2,
      "description": "åªæ£€æŸ¥å¼ºç›¸å…³å¤§ç›˜(I<0)çš„é€†åŠ¿é£é™©"
    }
  }
}
```

---

### 4.4 ç»Ÿè®¡æ ¡å‡†å‚æ•°

**æ–‡ä»¶**: `config/signal_thresholds.json`

```json
{
  "ç»Ÿè®¡æ ¡å‡†å‚æ•°": {
    "bootstrap_base_p": 0.60,     // å†·å¯åŠ¨åŸºå‡†èƒœç‡ 60%
    "bootstrap_max_p": 0.75,      // æœ€é«˜èƒœç‡ä¸Šé™ 75%
    "F_bonus_threshold": 40,      // F>40æ—¶è§¦å‘åŠ æˆ
    "F_bonus_value": 0.05,        // FåŠ æˆ: +5%
    "I_bonus_threshold": 60,      // I>60æ—¶è§¦å‘åŠ æˆ
    "I_bonus_value": 0.03,        // IåŠ æˆ: +3%
    "_comment": "æé«˜åŸºå‡†æ¦‚ç‡ï¼š0.45â†’0.60"
  }
}
```

**æ ¡å‡†é€»è¾‘** (`ats_core/calibration/empirical_calibration.py`):

```python
# å†·å¯åŠ¨ (å†å²æ•°æ®<30æ¡)
if len(history) < 30:
    base_p = 0.60  # åŸºå‡†èƒœç‡

    # Få› å­åŠ æˆ
    if F_v2 > 40:
        base_p += 0.05  # +5%

    # Iå› å­åŠ æˆ
    if I_v2 > 60:
        base_p += 0.03  # +3%

    P_calibrated = min(0.75, base_p)  # ä¸Šé™75%

# çƒ­å¯åŠ¨ (å†å²æ•°æ®â‰¥30æ¡)
else:
    # åŸºäºå†å²æ•°æ®ç»Ÿè®¡æ ¡å‡†
    historical_win_rate = calculate_historical_win_rate(history)
    P_calibrated = statistical_calibration(score, historical_win_rate)
```

---

### 4.5 Få› å­åŠ¨é‡é˜ˆå€¼

**æ–‡ä»¶**: `config/signal_thresholds.json`

```json
{
  "Få› å­åŠ¨é‡é˜ˆå€¼": {
    "F_strong_momentum": 40,      // F>40 â†’ "ğŸš€ è“„åŠ¿å¾…å‘"
    "F_moderate_momentum": 20,    // F>20 â†’ "åå¼ºèµ„é‡‘æµå…¥"
    "_comment": "æé«˜åŠ¨é‡è¦æ±‚ï¼šå¼ºåŠ¿30â†’40"
  }
}
```

**åº”ç”¨ç¤ºä¾‹** (`telegram_fmt.py`):

```python
if F_v2_int >= 80:
    F_icon = "ğŸš€"
    F_desc = "å¼ºåŠ²èµ„é‡‘æµå…¥ [è“„åŠ¿å¾…å‘]"
elif F_v2_int >= 60:
    F_icon = "ğŸ”¥"
    F_desc = "åå¼ºèµ„é‡‘æµå…¥ [å³å°†çˆ†å‘]"
elif F_v2_int >= 40:
    F_icon = "ğŸŸ¢"
    F_desc = "ä¸­ç­‰èµ„é‡‘æµå…¥"
    # è§¦å‘"è“„åŠ¿å¾…å‘"æ ‡è®°
```

---

## 5. æƒé‡åˆ†é…æœºåˆ¶

### 5.1 v7.2å› å­åˆ†ç»„æƒé‡

**æ–‡ä»¶**: `config/signal_thresholds.json`

```json
{
  "åˆ†ç»„æƒé‡": {
    "TC_weight": 0.50,            // TCç»„: 50%
    "VOM_weight": 0.35,           // VOMç»„: 35%
    "B_weight": 0.15,             // Bç»„: 15%

    // TCç»„å†…éƒ¨æƒé‡ (50%)
    "TC_T_weight": 0.70,          // T: 70% Ã— 50% = 35%
    "TC_C_weight": 0.30,          // C: 30% Ã— 50% = 15%

    // VOMç»„å†…éƒ¨æƒé‡ (35%)
    "VOM_V_weight": 0.50,         // V: 50% Ã— 35% = 17.5%
    "VOM_O_weight": 0.30,         // O: 30% Ã— 35% = 10.5%
    "VOM_M_weight": 0.20          // M: 20% Ã— 35% = 7%
  }
}
```

**è®¡ç®—é€»è¾‘** (`ats_core/scoring/factor_groups.py`):

```python
# æ­¥éª¤1: ç»„å†…è®¡ç®—
TC_group = T Ã— 0.70 + C Ã— 0.30
VOM_group = V Ã— 0.50 + O Ã— 0.30 + M Ã— 0.20
B_group = B

# æ­¥éª¤2: ç»„é—´åŠ æƒ
weighted_score = TC_group Ã— 0.50 + VOM_group Ã— 0.35 + B_group Ã— 0.15

# æ­¥éª¤3: ä¿¡å¿ƒåº¦
confidence = abs(weighted_score)
```

**å®é™…æƒé‡åˆ†å¸ƒ**:

| å› å­ | ç»„å†…æƒé‡ | ç»„æƒé‡ | æœ€ç»ˆæƒé‡ |
|------|---------|--------|---------|
| **T** | 70% | 50% | **35.0%** |
| **C** | 30% | 50% | **15.0%** |
| **V** | 50% | 35% | **17.5%** |
| **O** | 30% | 35% | **10.5%** |
| **M** | 20% | 35% | **7.0%** |
| **B** | 100% | 15% | **15.0%** |
| **æ€»è®¡** | - | - | **100%** |

---

### 5.2 æ—§ç‰ˆæƒé‡ä½“ç³» (v6.7)

**æ–‡ä»¶**: `config/params.json`

```json
{
  "weights": {
    "T": 24.0,      // è¶‹åŠ¿: 24%
    "M": 10.0,      // åŠ¨é‡: 10% (P2.2è°ƒæ•´: 17%â†’10%)
    "C": 27.0,      // èµ„é‡‘æµ: 27% (P2.2è°ƒæ•´: 24%â†’27%)
    "V": 12.0,      // é‡èƒ½: 12%
    "O": 21.0,      // æŒä»“: 21% (P2.2è°ƒæ•´: 17%â†’21%)
    "B": 6.0,       // åŸºå·®: 6%

    "_b_layer": "ä»¥ä¸‹ä¸ºBå±‚è°ƒåˆ¶å™¨ï¼Œä¸å‚ä¸è¯„åˆ†",
    "L": 0.0,
    "S": 0.0,
    "F": 0.0,
    "I": 0.0,

    "_p22_adjustment": "M: 17%â†’10% (T-Mç›¸å…³66.4%), ç©ºä½™7%åˆ†é…: C+3%, O+4%"
  }
}
```

**P2.2æƒé‡è°ƒæ•´åŸå› **:
- **é—®é¢˜**: T-Må› å­ç›¸å…³æ€§é«˜è¾¾66.4%
- **è§£å†³**: é™ä½Mæƒé‡ä»17% â†’ 10%ï¼Œå‡å°‘ä¿¡æ¯é‡å 
- **å†åˆ†é…**: ç©ºä½™7%åˆ†é…ç»™C(+3%)å’ŒO(+4%)

---

### 5.3 ç»Ÿä¸€å› å­é…ç½® (v3.0)

**æ–‡ä»¶**: `config/factors_unified.json`

```json
{
  "factors": {
    "T": {"layer": "price_action", "weight": 25},
    "M": {"layer": "price_action", "weight": 15},
    "C+": {"layer": "money_flow", "weight": 20},
    "S": {"layer": "price_action", "weight": 10},
    "V+": {"layer": "price_action", "weight": 15},
    "O+": {"layer": "money_flow", "weight": 20},
    "L": {"layer": "microstructure", "weight": 20},
    "B": {"layer": "microstructure", "weight": 15},
    "Q": {"layer": "microstructure", "weight": 10},
    "I": {"layer": "market_context", "weight": 10}
  },

  "weights_config": {
    "total_weight": 160,
    "normalization_factor": 1.6,
    "layer_distribution": {
      "price_action": 65,    // T+M+S+V = 65
      "money_flow": 40,      // C+O = 40
      "microstructure": 45,  // L+B+Q = 45
      "market_context": 10   // I = 10
    }
  }
}
```

**æ³¨æ„**: æ­¤é…ç½®ä¸ºv3.0ç»Ÿä¸€æ¡†æ¶ï¼Œå®é™…è¿è¡Œä½¿ç”¨`signal_thresholds.json`çš„v7.2åˆ†ç»„æƒé‡ã€‚

---

## 6. äº”é“é—¸é—¨ç³»ç»Ÿ

### 6.1 é—¸é—¨æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              v7.2 äº”é“é—¸é—¨è´¨é‡æ§åˆ¶ç³»ç»Ÿ                        â”‚
â”‚           (analyze_symbol_v72.py lines 169-285)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                               â”‚
         â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¡¬æ€§é—¸é—¨ (3ä¸ª)   â”‚           â”‚  è½¯æ€§é—¸é—¨ (2ä¸ª)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                               â”‚
    â”œâ”€ Gate 1: æ•°æ®è´¨é‡                  â”œâ”€ Gate 4: èƒœç‡é—¨æ§›
    â”œâ”€ Gate 2: èµ„é‡‘æ”¯æ’‘                  â””â”€ Gate 5: IÃ—Market
    â””â”€ Gate 3: æœŸæœ›æ”¶ç›Š

    â†“ ä¸é€šè¿‡ â†’ ç›´æ¥æ‹’ç»                   â†“ ä¸é€šè¿‡ â†’ ä¿¡å·ç”Ÿæˆä½†ä¸å‘å¸ƒ
```

### 6.2 Gate 1: æ•°æ®è´¨é‡

**é˜ˆå€¼**: min_klines â‰¥ 150

**æ£€æŸ¥å†…å®¹**:
```python
# 1. Kçº¿æ•°é‡æ£€æŸ¥
if len(klines_1h) < 150:
    return {
        "pass": False,
        "reason": f"æ•°æ®ä¸è¶³({len(klines_1h)}/150)"
    }

# 2. CVDæ•°æ®ç‚¹æ£€æŸ¥
if len(cvd_points) < 20:
    return {
        "pass": False,
        "reason": f"CVDæ•°æ®ä¸è¶³({len(cvd_points)}/20)"
    }

# 3. æ•°æ®æ–°é²œåº¦æ£€æŸ¥
if (now - last_kline_time) > 3600:  # è¶…è¿‡1å°æ—¶
    return {
        "pass": False,
        "reason": "æ•°æ®è¿‡æœŸ"
    }
```

**é…ç½®**:
```json
{
  "v72å¢å¼ºå‚æ•°": {
    "min_klines_for_v72": 150,
    "min_cvd_points": 20
  }
}
```

---

### 6.3 Gate 2: èµ„é‡‘æ”¯æ’‘

**é˜ˆå€¼**: F â‰¥ -10

**æ£€æŸ¥é€»è¾‘**:
```python
if F_v2 < -10:
    return {
        "pass": False,
        "reason": f"èµ„é‡‘æµå‡ºè¿‡å¼º(F={F_v2:.0f} < -10)ï¼Œé˜²æ­¢è¿½é«˜"
    }

# é€šè¿‡æ—¶çš„é¢å¤–æ ‡è®°
if F_v2 > 40:
    momentum_label = "ğŸš€ è“„åŠ¿å¾…å‘"
elif F_v2 > 20:
    momentum_label = "åå¼ºèµ„é‡‘æµå…¥"
```

**ç›®çš„**: é˜²æ­¢"ä»·æ ¼é¢†å…ˆèµ„é‡‘"çš„è¿½é«˜é£é™©

---

### 6.4 Gate 3: æœŸæœ›æ”¶ç›Š

**é˜ˆå€¼**: EV â‰¥ 1.5%

**è®¡ç®—å…¬å¼**:
```python
# æ­¥éª¤1: æ­¢æŸ/æ­¢ç›ˆè·ç¦»ä¼°ç®—
ATR = calculate_atr(klines, period=14)
SL_distance = ATR Ã— 1.5  # æ­¢æŸè·ç¦»
TP_distance = SL_distance Ã— 2.0  # æ­¢ç›ˆè·ç¦» (RR=2:1)

# æ­¥éª¤2: æˆæœ¬ä¼°ç®—
spread_bps = 2.5          # ä¹°å–ä»·å·®æˆæœ¬
impact_bps = 3.0          # ä»·æ ¼å†²å‡»æˆæœ¬
funding_cost_bps = abs(funding_rate) Ã— (hold_hours / 8) Ã— 10000

total_cost_bps = spread_bps + impact_bps + funding_cost_bps
total_cost_pct = total_cost_bps / 10000

# æ­¥éª¤3: EVè®¡ç®—
P_calibrated = 0.614  # æ ¡å‡†åèƒœç‡ (ç¤ºä¾‹)
EV_net = (P_calibrated Ã— TP_distance) - ((1 - P_calibrated) Ã— SL_distance) - total_cost_pct

# Gate 3åˆ¤å®š
if EV_net < 0.015:  # 1.5%
    gate_pass = False
```

**é…ç½®**:
```json
{
  "gate3_ev": {
    "EV_min": 0.015,
    "cost_components": {
      "spread_bps": 2.5,
      "impact_bps": 3.0,
      "funding_hold_hours": 4.0
    },
    "default_RR": 2.0,
    "atr_multiplier": 1.5
  }
}
```

---

### 6.5 Gate 4: èƒœç‡é—¨æ§›

**é˜ˆå€¼**: P â‰¥ 50%

**æ ¡å‡†æµç¨‹**:
```python
# 1. åŠ è½½å†å²è®°å½•
calibrator = EmpiricalCalibrator()
history = calibrator.load_history()

# 2. å†·å¯åŠ¨ (å†å²<30æ¡)
if len(history) < 30:
    base_p = 0.60

    if F_v2 > 40:
        base_p += 0.05
    if I_v2 > 60:
        base_p += 0.03

    P_calibrated = min(0.75, base_p)

# 3. çƒ­å¯åŠ¨ (å†å²â‰¥30æ¡)
else:
    P_calibrated = statistical_calibration(
        score=weighted_score,
        history=history
    )

# 4. Gate 4åˆ¤å®š
if P_calibrated < 0.50:
    gate_pass = False
```

---

### 6.6 Gate 5: IÃ—Marketå¯¹é½

**é˜ˆå€¼**: å¤æ‚é€»è¾‘ (è§ä¸‹)

**æ£€æŸ¥æµç¨‹**:
```python
# æ­¥éª¤1: è·å–å¸‚åœºçŠ¶æ€
market_regime = analyze_market_regime(btc_price, eth_price)
# -100 (å¼ºç©º) ~ +100 (å¼ºå¤š)

signal_direction = "LONG" if weighted_score > 0 else "SHORT"

# æ­¥éª¤2: Iå› å­åˆ†çº§æ£€æŸ¥
if I_v2 >= 60:
    # é«˜ç‹¬ç«‹æ€§ â†’ ç›´æ¥é€šè¿‡ï¼Œæ— éœ€æ£€æŸ¥å¸‚åœº
    gate_pass = True
    reason = f"é«˜ç‹¬ç«‹æ€§(I={I_v2:.0f})ï¼Œæ— éœ€æ£€æŸ¥å¤§ç›˜"

elif I_v2 < 0:
    # ä½ç‹¬ç«‹æ€§ (é«˜åº¦è·Ÿéšå¤§ç›˜) â†’ æ£€æŸ¥å¯¹é½

    # é€†åŠ¿é£é™©æ£€æµ‹
    if (signal_direction == "LONG" and market_regime < -30) or \
       (signal_direction == "SHORT" and market_regime > 30):
        gate_pass = False
        reason = f"é€†åŠ¿é£é™©: {signal_direction}ä¿¡å·ä½†å¤§ç›˜{market_regime:+d}"

    # é¡ºåŠ¿åŠ æˆæ£€æµ‹
    elif (signal_direction == "LONG" and market_regime > 30) or \
         (signal_direction == "SHORT" and market_regime < -30):
        gate_pass = True
        confidence_adjusted = confidence Ã— 1.2  # ä¿¡å¿ƒåº¦åŠ æˆ
        reason = f"é¡ºåŠ¿åŠ æˆ: {signal_direction}ä¿¡å·+å¤§ç›˜{market_regime:+d}"

    # ä¸­æ€§å¸‚åœº
    else:
        gate_pass = True
        reason = "å¤§ç›˜ä¸­æ€§ï¼Œæ­£å¸¸é€šè¿‡"

else:
    # ä¸­ç­‰ç‹¬ç«‹æ€§ â†’ ç›´æ¥é€šè¿‡
    gate_pass = True
    reason = f"ä¸­ç­‰ç‹¬ç«‹æ€§(I={I_v2:.0f})"
```

**é…ç½®**:
```json
{
  "gate5_independence_market": {
    "I_min": 0,
    "market_regime_threshold": 30,      // Â±30ä¸ºå¼ºè¶‹åŠ¿é˜ˆå€¼
    "I_high_independence": 60,          // Iâ‰¥60ä¸ºé«˜ç‹¬ç«‹æ€§
    "confidence_boost_aligned": 1.2     // é¡ºåŠ¿åŠ æˆå€æ•°
  }
}
```

---

### 6.7 é—¸é—¨ç»Ÿè®¡ç¤ºä¾‹

**æ¶ˆæ¯ä¸­çš„é—¸é—¨æ˜¾ç¤º**:
```
â”â”â” âœ… è´¨é‡æ£€æŸ¥ï¼ˆäº”é“é—¸é—¨ï¼‰â”â”â”

âœ… Gate1 æ•°æ®å……è¶³ (191æ ¹Kçº¿)
âœ… Gate2 èµ„é‡‘æ”¯æ’‘ (F=45 â‰¥ -10)
âœ… Gate3 æœŸæœ›æ”¶ç›Š (2.3% â‰¥ 1.5%)
âœ… Gate4 èƒœç‡æ ¡å‡† (58% â‰¥ 50%)
âœ… Gate5 å¸‚åœºå¯¹é½ (é¡ºåŠ¿+1.2å€)
```

---

## 7. Telegramæ¶ˆæ¯å‘å¸ƒ

### 7.1 æ¶ˆæ¯æ¨¡æ¿ (v7.2.24)

**æ–‡ä»¶**: `ats_core/outputs/telegram_fmt.py` (lines 2243-2635)

**å®Œæ•´æ¶ˆæ¯ç¤ºä¾‹**:
```
ğŸš€ è“„åŠ¿å¾…å‘
ğŸ”¹ ETHUSDT Â· ç°ä»· 3,500.0
ğŸŸ© åšå¤š èƒœç‡68% Â· æœ‰æ•ˆæœŸ8h
æœŸæœ›æ”¶ç›Š +3.5% Â· ç›ˆäºæ¯” 2.0:1 âœ…

ğŸ“ å…¥åœºä»·: 3,500.0
ğŸ›‘ æ­¢æŸ: 3,447.5 (-1.5%)
ğŸ¯ æ­¢ç›ˆ: 3,605.0 (+3.0%)

ğŸ’¼ ä»“ä½å»ºè®®
â€¢ åŸºå‡†ä»“ä½: 5.0%

â”â”â” ğŸ”¬ v7.2æ ¸å¿ƒå› å­ â”â”â”

ğŸ”¥ Fèµ„é‡‘é¢†å…ˆ   72  åå¼ºèµ„é‡‘æµå…¥ [å³å°†çˆ†å‘]
ğŸŸ¡ Iå¸‚åœºç‹¬ç«‹  -15  è·Ÿéšå¤§ç›˜
   Beta: BTC=0.85 ETH=0.92
   â†”ï¸ å¤§ç›˜éœ‡è¡(+0)

â”â”â” ğŸ“Š å› å­åˆ†ç»„è¯¦æƒ… â”â”â”

TCç»„(50%)   78  [è¶‹åŠ¿+èµ„é‡‘æµ]
  ğŸŸ© è¶‹åŠ¿ T   85  å¼ºåŠ²ä¸Šæ¶¨
  ğŸŸ© åŠ¨é‡ M   65  ç¨³æ­¥ä¸Šæ¶¨
  ğŸŸ¢ èµ„é‡‘ C   55  æ¸©å’Œä¸Šæ¶¨

VOMç»„(35%)  68  [é‡èƒ½+æŒä»“+åŠ¨é‡]
  ğŸ’š é‡èƒ½ V   70  æ¸©å’Œæ”¾é‡
  ğŸ’š æŒä»“ O   60  æ¸©å’Œæ”¾é‡

Bç»„(15%)    45  [åŸºå·®]
  ğŸŸ¢ åŸºå·® B   45  æ¸©å’Œæ­£æº¢ä»·

â”â”â” âœ… è´¨é‡æ£€æŸ¥ï¼ˆäº”é“é—¸é—¨ï¼‰â”â”â”

âœ… Gate1 æ•°æ®å……è¶³ (191æ ¹Kçº¿)
âœ… Gate2 èµ„é‡‘æ”¯æ’‘ (F=72)
âœ… Gate3 æœŸæœ›æ”¶ç›Š (EV=+3.50%)
âœ… Gate4 èƒœç‡æ ¡å‡† (P=68.0%)
âœ… Gate5 å¸‚åœºå¯¹é½ (I=-15)

â± â€”
ğŸ· v7.2

#trade #ETHUSDT
```

### 7.2 æ¶ˆæ¯ç»“æ„è§£æ

| åŒºåŸŸ | å†…å®¹ | æ•°æ®æ¥æº |
|------|------|---------|
| **Header** | ğŸš€ è“„åŠ¿å¾…å‘ | `F_v2 > 40` |
| **Symbol** | ETHUSDT Â· ç°ä»· 3,500.0 | `signal['symbol']`, `signal['price']` |
| **Direction** | ğŸŸ© åšå¤š èƒœç‡68% | `signal['side']`, `v72['P_calibrated']` |
| **æœŸæœ›æ”¶ç›Š** | +3.5% Â· ç›ˆäºæ¯” 2.0:1 | `v72['EV_net']`, `v72['RR_ratio']` |
| **Entry/SL/TP** | å…¥åœº/æ­¢æŸ/æ­¢ç›ˆ | `signal['entry']`, `signal['stop_loss']`, `signal['take_profit']` |
| **ä»“ä½** | åŸºå‡†ä»“ä½: 5.0% | `v72['kelly_size']` |
| **Få› å­** | ğŸ”¥ Fèµ„é‡‘é¢†å…ˆ 72 | `v72['F_v2']` + 9çº§åˆ†ç±»æè¿° |
| **Iå› å­** | ğŸŸ¡ Iå¸‚åœºç‹¬ç«‹ -15 | `v72['I_v2']` + Betaå€¼ |
| **TCç»„** | TCç»„(50%) 78 | `v72['group_scores']['TC']` |
| **T/M/C** | è¶‹åŠ¿/åŠ¨é‡/èµ„é‡‘ | `signal['scores']['T/M/C']` + é€šä¿—æè¿° |
| **VOMç»„** | VOMç»„(35%) 68 | `v72['group_scores']['VOM']` |
| **V/O** | é‡èƒ½/æŒä»“ | `signal['scores']['V/O']` + é‡èƒ½æè¿° |
| **Bç»„** | Bç»„(15%) 45 | `v72['group_scores']['B']` |
| **B** | åŸºå·® | `signal['scores']['B']` + æº¢ä»·æè¿° |
| **äº”é“é—¸é—¨** | Gate 1-5çŠ¶æ€ | `v72['gates']['details']` |
| **Footer** | æœ‰æ•ˆæœŸ/ç‰ˆæœ¬æ ‡ç­¾ | `v72['validity_hours']` |

### 7.3 Emojié…è‰²æ–¹æ¡ˆ (v7.2.24)

**5è‰²ç»Ÿä¸€æ–¹æ¡ˆ**:

| åˆ†æ•°èŒƒå›´ | Emoji (TCç»„) | Emoji (VOMç»„) | Emoji (Bç»„) | è¯­ä¹‰ |
|---------|-------------|--------------|------------|------|
| â‰¥ +60 | ğŸŸ© | ğŸ’š | â¬†ï¸ | å¼ºåŠ¿ |
| +20 ~ +60 | ğŸŸ¢ | ğŸŸ¢ | ğŸŸ¢ | åå¼º |
| -20 ~ +20 | ğŸŸ¡ | ğŸŸ¡ | ğŸŸ¡ | ä¸­æ€§ |
| -60 ~ -20 | ğŸŸ  | ğŸŸ  | ğŸŸ  | åå¼± |
| â‰¤ -60 | ğŸ”´ | ğŸ”» | â¬‡ï¸ | å¼±åŠ¿ |

**ç‰¹æ®ŠEmoji**:
- Få› å­: ğŸš€ (â‰¥80), ğŸ”¥ (â‰¥60)
- Iå› å­: ğŸ’ (â‰¥80), âœ¨ (â‰¥60)

### 7.4 å› å­æè¿°åº“ (v7.2.24)

**Iå› å­ (9çº§åˆ†ç±»)**:
```python
if I >= 80:  "ğŸ’ å®Œå…¨ç‹¬ç«‹èµ°åŠ¿"
elif I >= 60:  "âœ¨ å¼ºç‹¬ç«‹èµ°åŠ¿"
elif I >= 40:  "ğŸŸ¢ ä¸­åº¦ç‹¬ç«‹"
elif I >= 20:  "ğŸŸ¢ è½»åº¦ç‹¬ç«‹"
elif I >= -20: "ğŸŸ¡ è·Ÿéšå¤§ç›˜"
elif I >= -40: "ğŸŸ  é«˜åº¦è·Ÿéš"
elif I >= -60: "ğŸŸ  å¼ºçƒˆè·Ÿéš"
elif I >= -80: "ğŸ”´ å®Œå…¨è·Ÿéš"
else:          "ğŸ”´ æç«¯è·Ÿéš"
```

**TCç»„ (è¶‹åŠ¿æè¿°)**:
```python
if val >= 75:  "ğŸŸ© å¼ºåŠ²ä¸Šæ¶¨"
elif val >= 60: "ğŸŸ© ç¨³æ­¥ä¸Šæ¶¨"
elif val >= 20: "ğŸŸ¢ æ¸©å’Œä¸Šæ¶¨"
elif val >= -20: "ğŸŸ¡ æ¨ªç›˜éœ‡è¡"
elif val >= -60: "ğŸŸ  æ¸©å’Œä¸‹è·Œ"
elif val >= -75: "ğŸ”´ ç¨³æ­¥ä¸‹è·Œ"
else:           "ğŸ”´ å¼ºåŠ²ä¸‹è·Œ"
```

**VOMç»„ (é‡èƒ½æè¿°)**:
```python
if val >= 75:  "ğŸ’š æ´»è·ƒæ”¾é‡"
elif val >= 60: "ğŸ’š æ¸©å’Œæ”¾é‡"
elif val >= 20: "ğŸŸ¢ å°å¹…æ”¾é‡"
elif val >= -20: "ğŸŸ¡ é‡èƒ½å¹³è¡¡"
elif val >= -60: "ğŸŸ  å°å¹…ç¼©é‡"
elif val >= -75: "ğŸ”» æ¸©å’Œç¼©é‡"
else:           "ğŸ”» æ˜¾è‘—ç¼©é‡"
```

**Bç»„ (æº¢ä»·æè¿°)**:
```python
if val >= 75:  "â¬†ï¸ å¼ºçƒˆæ­£æº¢ä»·"
elif val >= 60: "â¬†ï¸ æ˜æ˜¾æ­£æº¢ä»·"
elif val >= 20: "ğŸŸ¢ æ¸©å’Œæ­£æº¢ä»·"
elif val >= -20: "ğŸŸ¡ æº¢ä»·å¹³è¡¡"
elif val >= -60: "ğŸŸ  æ¸©å’Œè´Ÿæº¢ä»·"
elif val >= -75: "â¬‡ï¸ æ˜æ˜¾è´Ÿæº¢ä»·"
else:           "â¬‡ï¸ å¼ºçƒˆè´Ÿæº¢ä»·"
```

---

## 8. é…ç½®æ–‡ä»¶ç´¢å¼•

### 8.1 æ ¸å¿ƒé…ç½®æ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” | ä¼˜å…ˆçº§ |
|---------|------|-------|
| `config/signal_thresholds.json` | â˜… v7.2é—¸é—¨é˜ˆå€¼ã€åˆ†ç»„æƒé‡ã€æ ¡å‡†å‚æ•° | æœ€é«˜ |
| `config/params.json` | å› å­å‚æ•°ã€æ—§ç‰ˆæƒé‡ | ä¸­ |
| `config/factors_unified.json` | ç»Ÿä¸€å› å­é…ç½®æ¡†æ¶ (v3.0) | ä½ |
| `config/telegram.json` | Telegram Boté…ç½® | - |
| `config/binance_credentials.json` | Binance APIå¯†é’¥ | - |

### 8.2 æ•°æ®æ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | ç”¨é€” |
|---------|------|
| `data/trade_history.db` | TradeRecorderæ•°æ®åº“ (SQLite) |
| `data/analysis.db` | AnalysisDBæ•°æ®åº“ (7å¼ è¡¨) |
| `data/calibration_history.json` | å†å²æ ¡å‡†æ•°æ® |
| `reports/latest/scan_summary.json` | æœ€æ–°æ‰«ææŠ¥å‘Š |
| `reports/trends.json` | è¶‹åŠ¿åˆ†ææ•°æ® |

### 8.3 å…³é”®ä»£ç æ–‡ä»¶

| æ–‡ä»¶è·¯å¾„ | åŠŸèƒ½ | è¡Œå· |
|---------|------|------|
| `scripts/realtime_signal_scanner.py` | ä¸»æ‰«æå™¨å…¥å£ | 1-635 |
| `ats_core/pipeline/batch_scan_optimized.py` | æ‰¹é‡æ‰«æå¼•æ“ | 420-1046 |
| `ats_core/pipeline/analyze_symbol_v72.py` | v7.2å¢å¼ºå±‚ | 46-407 |
| `ats_core/scoring/factor_groups.py` | å› å­åˆ†ç»„è®¡ç®— | 24-115 |
| `ats_core/gates/integrated_gates.py` | äº”é“é—¸é—¨ | 64-319 |
| `ats_core/outputs/telegram_fmt.py` | Telegramæ ¼å¼åŒ– | 2243-2635 |
| `ats_core/calibration/empirical_calibration.py` | ç»Ÿè®¡æ ¡å‡† | - |

---

## æ€»ç»“

### æ ¸å¿ƒæµç¨‹

1. **setup.sh** â†’ å¯åŠ¨ **realtime_signal_scanner.py** (5åˆ†é’Ÿæ‰«æé—´éš”)
2. **æ‰¹é‡æ‰«æ** â†’ 140+å¸ç§ â†’ 40-80ä¸ªå€™é€‰ (confidenceâ‰¥15)
3. **v7.2å¢å¼º** â†’ 5é“é—¸é—¨è¿‡æ»¤ â†’ 5-15ä¸ªPrimeä¿¡å·
4. **é˜²æŠ–è¿‡æ»¤** â†’ Top 1ä¿¡å·
5. **Telegramå‘å¸ƒ** â†’ v7.2.24æ¶ˆæ¯æ¨¡æ¿

### å› å­ä½“ç³»

- **Aå±‚ (6å› å­)**: T(35%) + C(15%) + V(17.5%) + O(10.5%) + M(7%) + B(15%) = 100%
- **Bå±‚ (4å› å­)**: F(èµ„é‡‘é¢†å…ˆ) + I(ç‹¬ç«‹æ€§) + L(æµåŠ¨æ€§) + S(ç»“æ„)

### é˜ˆå€¼ä½“ç³»

- **åŸºç¡€**: confidenceâ‰¥15, prime_strengthâ‰¥42, Pâ‰¥50%
- **é—¸é—¨**: min_klinesâ‰¥150, Fâ‰¥-10, EVâ‰¥1.5%, Pâ‰¥50%, IÃ—Marketå¯¹é½
- **åŠ¨é‡**: F>40 â†’ "è“„åŠ¿å¾…å‘"

### é…ç½®ä¼˜å…ˆçº§

`signal_thresholds.json` > `params.json` > `factors_unified.json`

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-11-11
**ç»´æŠ¤è€…**: CryptoSignalå¼€å‘å›¢é˜Ÿ
