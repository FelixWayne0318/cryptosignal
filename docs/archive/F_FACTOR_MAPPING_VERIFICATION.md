# Få› å­æ•°å€¼æ˜ å°„éªŒè¯æŠ¥å‘Š

**éªŒè¯æ—¥æœŸ**: 2025-11-09
**é—®é¢˜è¿½è¸ª**: P1.1 - Få› å­æ•°å€¼æ˜ å°„éªŒè¯
**æµ‹è¯•æ–‡ä»¶**: `tests/test_f_factor_mapping.py`
**éªŒè¯äºº**: Claude AI System Architect

---

## ðŸ“‹ æ‰§è¡Œæ‘˜è¦

### âœ… éªŒè¯ç»“è®º

**Få› å­çš„æ•°å€¼æ˜ å°„é€»è¾‘å®Œå…¨æ­£ç¡®ï¼Œæ— éœ€ä¿®å¤ã€‚**

ä¹‹å‰å®¡æŸ¥æŠ¥å‘Šä¸­æåˆ°çš„"å¯èƒ½å­˜åœ¨åŒé‡æ˜ å°„"é—®é¢˜**å®žé™…ä¸Šä¸å­˜åœ¨**ã€‚ä»£ç ä¸­å·²ç»æœ‰ **P2.4 ä¿®å¤æ³¨é‡Š**ï¼Œè¯´æ˜Žè¿™ä¸ªé—®é¢˜åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­å·²ç»è¢«æ­£ç¡®è¯†åˆ«å’Œä¿®å¤ã€‚

---

## ðŸŽ¯ éªŒè¯ç›®æ ‡

éªŒè¯ `ats_core/features/fund_leading.py` ä¸­çš„æ•°å€¼æ˜ å°„é€»è¾‘ï¼š

1. `directional_score` å‡½æ•°çš„è¿”å›žå€¼èŒƒå›´æ˜¯å¦æ­£ç¡®
2. `(score - 50) * 2` æ˜ å°„æ˜¯å¦å¯¹ç§°
3. `fund_momentum` å’Œ `price_momentum` çš„èŒƒå›´æ˜¯å¦æ­£ç¡®
4. æœ€ç»ˆFå› å­çš„èŒƒå›´æ˜¯å¦åœ¨ -100 åˆ° +100 ä¹‹é—´
5. è¾¹ç•Œæƒ…å†µæ˜¯å¦è¢«æ­£ç¡®å¤„ç†

---

## ðŸ” éªŒè¯æ–¹æ³•

### 1. åˆ†æž `directional_score` å‡½æ•°

**æ–‡ä»¶**: `ats_core/features/scoring_utils.py`

**æ ¸å¿ƒé€»è¾‘**:
```python
def directional_score(value, neutral=0.0, scale=1.0, max_bonus=50.0, min_score=10.0):
    deviation = value - neutral
    normalized = math.tanh(deviation / scale)  # æ˜ å°„åˆ° (-1, +1)
    score = 50 + max_bonus * normalized       # æ˜ å°„åˆ° [min_score, 100]
    return int(round(max(min_score, min(100.0, score))))
```

**å…³é”®ç‰¹æ€§**:
- **è¿”å›žå€¼èŒƒå›´**: `[min_score, 100]`ï¼Œé»˜è®¤ `[10, 100]`
- **ä¸­æ€§ç‚¹**: 50åˆ†ï¼ˆå½“ value = neutral æ—¶ï¼‰
- **æ˜ å°„å‡½æ•°**: tanhï¼ˆå¹³æ»‘ã€è¿žç»­ã€å¯¹ç§°ï¼‰
- **è¾¹ç•Œä¿æŠ¤**: è‡ªåŠ¨æˆªæ–­åˆ°æœ‰æ•ˆèŒƒå›´

---

### 2. åˆ†æž Få› å­æ˜ å°„é€»è¾‘

**æ–‡ä»¶**: `ats_core/features/fund_leading.py`

**èµ„é‡‘åŠ¨é‡è®¡ç®—**:
```python
# P2.4ä¿®å¤ï¼šä½¿ç”¨min_score=0ç¡®ä¿å¯¹ç§°æ˜ å°„ï¼ˆ0-100è€Œéž10-100ï¼‰
oi_score = directional_score(oi_change_pct, neutral=0.0, scale=p["oi_scale"], min_score=0.0)
cvd_score = directional_score(cvd_change, neutral=0.0, scale=p["cvd_scale"], min_score=0.0)
vol_score = directional_score(vol_ratio, neutral=1.0, scale=p["vol_scale"], min_score=0.0)

# P2.4ä¿®å¤ï¼šæ˜ å°„ 0-100 â†’ -100åˆ°+100ï¼ˆå¯¹ç§°æ˜ å°„ï¼Œé¿å…é¥±å’Œï¼‰
fund_momentum = (
    p["oi_weight"] * ((oi_score - 50) * 2) +
    p["vol_weight"] * ((vol_score - 50) * 2) +
    p["cvd_weight"] * ((cvd_score - 50) * 2)
)
```

**ä»·æ ¼åŠ¨é‡è®¡ç®—**:
```python
# P2.4ä¿®å¤ï¼šä½¿ç”¨min_score=0ç¡®ä¿å¯¹ç§°æ˜ å°„
trend_score = directional_score(price_change_pct, neutral=0.0, scale=p["price_scale"], min_score=0.0)
slope_score = directional_score(price_slope, neutral=0.0, scale=p["slope_scale"], min_score=0.0)

# P2.4ä¿®å¤ï¼šæ˜ å°„ 0-100 â†’ -100åˆ°+100ï¼ˆå¯¹ç§°æ˜ å°„ï¼Œé¿å…é¥±å’Œï¼‰
price_momentum = (
    p["trend_weight"] * ((trend_score - 50) * 2) +
    p["slope_weight"] * ((slope_score - 50) * 2)
)
```

**èµ„é‡‘é¢†å…ˆæ€§è®¡ç®—**:
```python
leading_raw = fund_momentum - price_momentum  # èŒƒå›´: -200 åˆ° +200

# æ˜ å°„åˆ° -100 åˆ° +100
normalized = math.tanh(leading_raw / p["leading_scale"])
F_raw = 100.0 * normalized
```

---

### 3. P2.4 ä¿®å¤è¯´æ˜Ž

ä»£ç ä¸­çš„æ³¨é‡Šæ˜Žç¡®è¡¨æ˜Žè¿™ä¸ªé—®é¢˜å·²ç»åœ¨ **P2.4 ä¿®å¤**ä¸­è¢«è§£å†³ï¼š

```python
# P2.4ä¿®å¤ï¼šä½¿ç”¨min_score=0ç¡®ä¿å¯¹ç§°æ˜ å°„ï¼ˆ0-100è€Œéž10-100ï¼‰
# P2.4ä¿®å¤ï¼šæ˜ å°„ 0-100 â†’ -100åˆ°+100ï¼ˆå¯¹ç§°æ˜ å°„ï¼Œé¿å…é¥±å’Œï¼‰
```

**ä¿®å¤å†…å®¹**:
1. è®¾ç½® `min_score=0.0`ï¼Œä½¿ `directional_score` è¿”å›ž 0-100ï¼ˆè€Œéžé»˜è®¤çš„10-100ï¼‰
2. é€šè¿‡ `(score - 50) * 2` æ˜ å°„åˆ° -100 åˆ° +100
3. ç¡®ä¿ä¸­æ€§ç‚¹ä¸º 0ï¼ˆvalue=neutral â†’ score=50 â†’ mapped=0ï¼‰

---

## âœ… æµ‹è¯•ç»“æžœ

### æµ‹è¯•1: directional_score åŸºæœ¬è¡Œä¸º

**æµ‹è¯•ç”¨ä¾‹**: OIå˜åŒ–çŽ‡è¯„åˆ†ï¼ˆneutral=0, scale=3.0ï¼‰

| è¾“å…¥å€¼ | é¢„æœŸåˆ†æ•° | å®žé™…åˆ†æ•° | ç»“æžœ | è¯´æ˜Ž |
|--------|---------|---------|------|------|
| 0.0 | 50 | 50 | âœ… | ä¸­æ€§ï¼ˆ0%å˜åŒ–ï¼‰ |
| 3.0 | 88 | 88 | âœ… | +3%å˜åŒ–ï¼ˆæ˜Žæ˜¾åˆ©å¥½ï¼‰ |
| -3.0 | 12 | 12 | âœ… | -3%å˜åŒ–ï¼ˆæ˜Žæ˜¾ä¸åˆ©ï¼‰ |
| 6.0 | 98 | 98 | âœ… | +6%å˜åŒ–ï¼ˆå¼ºçƒˆåˆ©å¥½ï¼‰ |
| -6.0 | 2 | 2 | âœ… | -6%å˜åŒ–ï¼ˆå¼ºçƒˆä¸åˆ©ï¼‰ |
| 100.0 | 100 | 100 | âœ… | æžç«¯æ­£å‘ |
| -100.0 | 0 | 0 | âœ… | æžç«¯è´Ÿå‘ |

**ç»“è®º**: âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼Œ`directional_score` è¡Œä¸ºæ­£ç¡®ã€‚

---

### æµ‹è¯•2: (score - 50) * 2 æ˜ å°„å¯¹ç§°æ€§

**éªŒè¯**: æ­£å‘å€¼å’Œè´Ÿå‘å€¼æ˜ å°„åŽåº”è¯¥å¯¹ç§°ï¼ˆmapped_pos â‰ˆ -mapped_negï¼‰

| è¾“å…¥å€¼ | æ­£å‘åˆ†æ•° | æ­£å‘æ˜ å°„ | è´Ÿå‘åˆ†æ•° | è´Ÿå‘æ˜ å°„ | å¯¹ç§°æ€§ | ç»“æžœ |
|--------|---------|---------|---------|---------|--------|------|
| Â±0.0 | 50 | +0 | 50 | +0 | +0.0 | âœ… |
| Â±1.0 | 66 | +32 | 34 | -32 | +0.0 | âœ… |
| Â±2.0 | 79 | +58 | 21 | -58 | +0.0 | âœ… |
| Â±3.0 | 88 | +76 | 12 | -76 | +0.0 | âœ… |
| Â±5.0 | 97 | +94 | 3 | -94 | +0.0 | âœ… |
| Â±10.0 | 100 | +100 | 0 | -100 | +0.0 | âœ… |

**ç»“è®º**: âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼Œæ˜ å°„å®Œå…¨å¯¹ç§°ã€‚

---

### æµ‹è¯•3: fund_momentum èŒƒå›´æµ‹è¯•

**éªŒè¯**: `fund_momentum` åº”è¯¥åœ¨ -100 åˆ° +100 èŒƒå›´å†…

| åœºæ™¯ | OIåˆ†æ•° | VOLåˆ†æ•° | CVDåˆ†æ•° | fund_momentum | èŒƒå›´æ­£ç¡® | ç¬¦å·æ­£ç¡® | ç»“æžœ |
|------|--------|---------|---------|---------------|---------|---------|------|
| å…¨éƒ¨ä¸­æ€§ | 50 | 50 | 50 | +0.0 | âœ… | âœ… | âœ… |
| å…¨éƒ¨æžç«¯æ­£å‘ | 100 | 97 | 99 | +97.6 | âœ… | âœ… | âœ… |
| å…¨éƒ¨æžç«¯è´Ÿå‘ | 0 | 3 | 1 | -97.6 | âœ… | âœ… | âœ… |

**ç»“è®º**: âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼Œ`fund_momentum` èŒƒå›´æ­£ç¡®ã€‚

---

### æµ‹è¯•4: Få› å­å®Œæ•´è®¡ç®—

**éªŒè¯**: å®Œæ•´çš„Få› å­è®¡ç®—æµç¨‹

| åœºæ™¯ | Få€¼ | fund_momentum | price_momentum | leading_raw | ç»“æžœ |
|------|-----|---------------|----------------|-------------|------|
| å…¨éƒ¨ä¸­æ€§ â†’ Fâ‰ˆ0 | +0 | +0.0 | +0.0 | +0.0 | âœ… |
| èµ„é‡‘å¼ºä»·æ ¼å¼± â†’ F>0ï¼ˆè“„åŠ¿ï¼‰ | +19 | +87.4 | +49.6 | +37.8 | âœ… |
| èµ„é‡‘å¼±ä»·æ ¼å¼º â†’ F<0ï¼ˆè¿½é«˜ï¼‰ | -31 | +36.2 | +100.0 | -63.8 | âœ… |
| èµ„é‡‘ä»·æ ¼åŒæ­¥ä¸‹è·Œ â†’ Fâ‰ˆ0 | +12 | -70.6 | -94.8 | +24.2 | âœ… |

**ç»“è®º**: âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ŒFå› å­è®¡ç®—é€»è¾‘æ­£ç¡®ã€‚

---

### æµ‹è¯•5: è¾¹ç•Œæƒ…å†µ

**éªŒè¯**: æžç«¯æƒ…å†µä¸‹Få› å­æ˜¯å¦åœ¨æœ‰æ•ˆèŒƒå›´å†…

| åœºæ™¯ | Få€¼ | èŒƒå›´æ­£ç¡® | ç»“æžœ |
|------|-----|---------|------|
| æžç«¯èµ„é‡‘æµå…¥ï¼Œæ¸©å’Œä»·æ ¼ä¸Šæ¶¨ | +2 | âœ… (-100 â‰¤ F â‰¤ 100) | âœ… |
| æžç«¯èµ„é‡‘æµå‡ºï¼Œä»·æ ¼ä¸‹è·Œ | -1 | âœ… (-100 â‰¤ F â‰¤ 100) | âœ… |
| èµ„é‡‘å¼ºçƒˆæµå…¥ä½†ä»·æ ¼ä¸‹è·Œï¼ˆè¶…å¼ºè“„åŠ¿ï¼‰ | +75 | âœ… (-100 â‰¤ F â‰¤ 100) | âœ… |
| èµ„é‡‘æµå‡ºä½†ä»·æ ¼æš´æ¶¨ï¼ˆæžç«¯è¿½é«˜ï¼‰ | -76 | âœ… (-100 â‰¤ F â‰¤ 100) | âœ… |

**ç»“è®º**: âœ… æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼Œè¾¹ç•Œæƒ…å†µå¤„ç†æ­£ç¡®ã€‚

---

## ðŸ“Š æµ‹è¯•æ±‡æ€»

| æµ‹è¯•é¡¹ | ç»“æžœ | è¯´æ˜Ž |
|--------|------|------|
| directional_score åŸºæœ¬è¡Œä¸º | âœ… é€šè¿‡ | 7/7 æµ‹è¯•ç”¨ä¾‹é€šè¿‡ |
| å¯¹ç§°æ€§æ˜ å°„ | âœ… é€šè¿‡ | 6/6 æµ‹è¯•ç”¨ä¾‹é€šè¿‡ |
| fund_momentum èŒƒå›´ | âœ… é€šè¿‡ | 3/3 æµ‹è¯•ç”¨ä¾‹é€šè¿‡ |
| Få› å­å®Œæ•´è®¡ç®— | âœ… é€šè¿‡ | 4/4 æµ‹è¯•ç”¨ä¾‹é€šè¿‡ |
| è¾¹ç•Œæƒ…å†µ | âœ… é€šè¿‡ | 4/4 æµ‹è¯•ç”¨ä¾‹é€šè¿‡ |
| **æ€»è®¡** | **âœ… 24/24 é€šè¿‡** | **100% é€šè¿‡çŽ‡** |

---

## ðŸ”§ æ˜ å°„é€»è¾‘è¯¦è§£

### ä¸ºä»€ä¹ˆä½¿ç”¨ `(score - 50) * 2`ï¼Ÿ

1. **å¯¹ç§°æ€§**: `directional_score` è¿”å›ž 0-100ï¼Œ50ä¸ºä¸­æ€§ç‚¹
   - value = neutral â†’ score = 50 â†’ (50-50)*2 = 0 âœ…
   - value > neutral â†’ score > 50 â†’ (score-50)*2 > 0 âœ…
   - value < neutral â†’ score < 50 â†’ (score-50)*2 < 0 âœ…

2. **èŒƒå›´**: æ˜ å°„åˆ° -100 åˆ° +100
   - score = 0 â†’ (0-50)*2 = -100 âœ…
   - score = 100 â†’ (100-50)*2 = +100 âœ…

3. **è¿žç»­æ€§**: tanh å‡½æ•°ä¿è¯å¹³æ»‘è¿‡æ¸¡ï¼Œæ— è·³å˜

---

### ä¸ºä»€ä¹ˆè®¾ç½® `min_score=0.0`ï¼Ÿ

**é»˜è®¤å‚æ•°** (`min_score=10.0`) ä¼šå¯¼è‡´ï¼š
- score èŒƒå›´: [10, 100]
- mapped èŒƒå›´: [(10-50)*2, (100-50)*2] = [-80, +100]ï¼ˆä¸å¯¹ç§°ï¼‰

**è®¾ç½® `min_score=0.0` åŽ**:
- score èŒƒå›´: [0, 100]
- mapped èŒƒå›´: [(0-50)*2, (100-50)*2] = [-100, +100]ï¼ˆå¯¹ç§°ï¼‰âœ…

è¿™å°±æ˜¯ **P2.4 ä¿®å¤**çš„æ ¸å¿ƒï¼

---

## ðŸ“ æ•°å­¦éªŒè¯

### tanh å‡½æ•°ç‰¹æ€§

```python
import math

# tanh æ˜¯å¥‡å‡½æ•°ï¼štanh(-x) = -tanh(x)
math.tanh(1.0)   # â‰ˆ 0.7616
math.tanh(-1.0)  # â‰ˆ -0.7616

# tanh çš„å€¼åŸŸï¼š(-1, +1)
math.tanh(0)     # = 0
math.tanh(âˆž)     # â†’ 1
math.tanh(-âˆž)    # â†’ -1
```

### æ˜ å°„å…¬å¼æŽ¨å¯¼

```
è®¾ value = v, neutral = n, scale = s

deviation = v - n
normalized = tanh((v - n) / s)  # èŒƒå›´: (-1, +1)
score = 50 + 50 * tanh((v - n) / s)  # èŒƒå›´: (0, 100)

mapped = (score - 50) * 2
       = 2 * (50 + 50 * tanh((v - n) / s) - 50)
       = 2 * 50 * tanh((v - n) / s)
       = 100 * tanh((v - n) / s)  # èŒƒå›´: (-100, +100)
```

**éªŒè¯å¯¹ç§°æ€§**:
```
v = n â†’ tanh(0) = 0 â†’ mapped = 0 âœ“
v > n â†’ tanh(+) > 0 â†’ mapped > 0 âœ“
v < n â†’ tanh(-) < 0 â†’ mapped < 0 âœ“
```

---

## âœ… æœ€ç»ˆç»“è®º

### 1. Få› å­çš„æ•°å€¼æ˜ å°„é€»è¾‘**å®Œå…¨æ­£ç¡®**

- âœ… `directional_score` å‡½æ•°è®¾è®¡åˆç†ï¼ˆä½¿ç”¨ tanhï¼Œå¹³æ»‘è¿žç»­ï¼‰
- âœ… P2.4 ä¿®å¤æ­£ç¡®ï¼ˆ`min_score=0.0` ç¡®ä¿å¯¹ç§°æ€§ï¼‰
- âœ… `(score - 50) * 2` æ˜ å°„å¯¹ç§°ï¼ˆä¸­æ€§ç‚¹ä¸º0ï¼‰
- âœ… `fund_momentum` å’Œ `price_momentum` èŒƒå›´æ­£ç¡®ï¼ˆ-100 åˆ° +100ï¼‰
- âœ… æœ€ç»ˆFå› å­èŒƒå›´æ­£ç¡®ï¼ˆ-100 åˆ° +100ï¼‰
- âœ… è¾¹ç•Œæƒ…å†µå¤„ç†æ­£ç¡®ï¼ˆæ— æº¢å‡ºã€æ— å¼‚å¸¸ï¼‰

### 2. æ— éœ€ä¿®å¤

**P1.1 é—®é¢˜çŠ¶æ€**: âœ… å·²éªŒè¯ï¼Œæ— é—®é¢˜

ä¹‹å‰å®¡æŸ¥æŠ¥å‘Šä¸­çš„ç–‘è™‘å·²ç»é€šè¿‡è¯¦ç»†æµ‹è¯•éªŒè¯ä¸º**è¯¯æŠ¥**ã€‚ä»£ç ä¸­çš„ P2.4 ä¿®å¤æ³¨é‡Šè¡¨æ˜Žè¿™ä¸ªé—®é¢˜åœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­å·²ç»è¢«æ­£ç¡®è¯†åˆ«å’Œè§£å†³ã€‚

### 3. ä»£ç è´¨é‡è¯„ä»·

**Få› å­å®žçŽ°è¯„åˆ†**: **10/10** â­â­â­â­â­

**ä¼˜ç‚¹**:
- âœ… æ•°å­¦ä¸¥è°¨ï¼ˆä½¿ç”¨ tanhï¼Œé¿å…ç¡¬é˜ˆå€¼ï¼‰
- âœ… å¯¹ç§°æ€§å¥½ï¼ˆæ­£è´Ÿå€¼æ˜ å°„å¯¹ç§°ï¼‰
- âœ… è¾¹ç•Œå®‰å…¨ï¼ˆè‡ªåŠ¨æˆªæ–­ï¼Œé˜²æ­¢æº¢å‡ºï¼‰
- âœ… å¯é…ç½®æ€§å¼ºï¼ˆæ‰€æœ‰å‚æ•°å¯è°ƒï¼‰
- âœ… ä»£ç æ¸…æ™°ï¼ˆæ³¨é‡Šè¯¦ç»†ï¼Œæ˜“äºŽç†è§£ï¼‰
- âœ… é”™è¯¯å¤„ç†å®Œå–„ï¼ˆé…ç½®åŠ è½½å¤±è´¥æ—¶æœ‰é»˜è®¤å€¼ï¼‰

**ç¬¦åˆä¸–ç•Œé¡¶çº§æ ‡å‡†**:
- âœ… ä½¿ç”¨ä¸“ä¸šçš„æ•°å€¼æ˜ å°„æ–¹æ³•ï¼ˆtanhï¼‰
- âœ… é¿å…Magic Numberï¼ˆæ‰€æœ‰å‚æ•°é…ç½®åŒ–ï¼‰
- âœ… æ•°å€¼ç¨³å®šæ€§å¥½ï¼ˆæ— è·³å˜ã€æ— é¥±å’Œï¼‰

---

## ðŸ“ å»ºè®®

### 1. ä¿æŒå½“å‰å®žçŽ°

**æ— éœ€ä¿®æ”¹**ã€‚å½“å‰çš„Få› å­å®žçŽ°å·²ç»éžå¸¸ä¼˜ç§€ã€‚

### 2. æ–‡æ¡£æ”¹è¿›

å»ºè®®åœ¨ `fund_leading.py` çš„docstringä¸­æ·»åŠ æ›´è¯¦ç»†çš„æ˜ å°„é€»è¾‘è¯´æ˜Žï¼Œå¸®åŠ©åŽç»­å¼€å‘è€…ç†è§£ï¼š

```python
"""
Få› å­: èµ„é‡‘é¢†å…ˆæ€§

æ˜ å°„é€»è¾‘è¯´æ˜Ž:
1. directional_score è¿”å›ž 0-100ï¼ˆ50ä¸ºä¸­æ€§ï¼‰
2. (score - 50) * 2 æ˜ å°„åˆ° -100 åˆ° +100
3. ä¸­æ€§ç‚¹: value=neutral â†’ score=50 â†’ mapped=0
4. å¯¹ç§°æ€§: tanh å‡½æ•°ä¿è¯æ­£è´Ÿå€¼å®Œå…¨å¯¹ç§°

ç¤ºä¾‹:
- oi_change_pct = 0 â†’ oi_score = 50 â†’ mapped = 0
- oi_change_pct = +3 (scale=3) â†’ oi_score â‰ˆ 88 â†’ mapped â‰ˆ +76
- oi_change_pct = -3 (scale=3) â†’ oi_score â‰ˆ 12 â†’ mapped â‰ˆ -76
"""
```

### 3. å›žå½’æµ‹è¯•

å»ºè®®å°† `tests/test_f_factor_mapping.py` åŠ å…¥ CI/CD æµç¨‹ï¼Œç¡®ä¿æœªæ¥çš„ä»£ç ä¿®æ”¹ä¸ä¼šç ´åæ˜ å°„é€»è¾‘ã€‚

---

## ðŸŽ¯ P1ä¼˜å…ˆçº§ä»»åŠ¡æ›´æ–°

### P1.1 Få› å­æ•°å€¼æ˜ å°„éªŒè¯ âœ… å·²å®Œæˆ

**çŠ¶æ€**: âœ… éªŒè¯é€šè¿‡ï¼Œæ— éœ€ä¿®å¤

**å·¥ä½œé‡**: ~2å°æ—¶ï¼ˆæµ‹è¯•ç¼–å†™ + éªŒè¯ + æ–‡æ¡£ï¼‰

**æˆæžœ**:
- âœ… ç¼–å†™äº†å…¨é¢çš„éªŒè¯æµ‹è¯•ï¼ˆ24ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼‰
- âœ… éªŒè¯äº†æ˜ å°„é€»è¾‘çš„æ­£ç¡®æ€§ï¼ˆ100% é€šè¿‡çŽ‡ï¼‰
- âœ… ç”Ÿæˆäº†è¯¦ç»†çš„éªŒè¯æŠ¥å‘Š

### P1.2 ç³»ç»Ÿå›žæµ‹éªŒè¯ â³ ä¸‹ä¸€æ­¥

**ä¼˜å…ˆçº§**: P1ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰

**å»ºè®®**: ä½¿ç”¨åŽ†å²æ•°æ®å›žæµ‹æ•´ä¸ªç³»ç»Ÿï¼ŒéªŒè¯å› å­è®¾è®¡å’Œæƒé‡è®¾ç½®çš„æœ‰æ•ˆæ€§ã€‚

---

**æŠ¥å‘Šç»“æŸ**

---

**é™„å½•**:
- æµ‹è¯•è„šæœ¬: `tests/test_f_factor_mapping.py`
- ç›¸å…³æ–‡ä»¶: `ats_core/features/fund_leading.py`, `ats_core/features/scoring_utils.py`
- é…ç½®æ–‡ä»¶: `config/factors_unified.json`
