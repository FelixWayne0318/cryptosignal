# V2 Liteç³»ç»Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

**V2 Lite** æ˜¯CryptoSignal V2ç³»ç»Ÿçš„è½»é‡ç‰ˆï¼Œæä¾›8+1ç»´å› å­åˆ†æï¼Œ**æ— éœ€é¢å¤–æ•°æ®æº**ï¼Œå¯ç«‹å³éƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚

---

## ğŸ¯ V2 Lite vs V1 vs V2å®Œæ•´ç‰ˆ

| ç‰¹æ€§ | V1ç”Ÿäº§ç‰ˆ | **V2 Liteç‰ˆ** âœ… | V2å®Œæ•´ç‰ˆ |
|------|---------|---------------|---------|
| **å› å­æ•°é‡** | 7+1ç»´ | **8+1ç»´** | 10+1ç»´ |
| **å¯ç”¨å› å­** | T/M/C/V/S/O/E + F | T/M/**C+**/S/**V+**/**O+**/**I** + F | V2 Lite + L/B/Q |
| **æƒé‡ç³»ç»Ÿ** | 115ç‚¹ | **115ç‚¹** | 160ç‚¹ |
| **æ•°æ®ä¾èµ–** | Kçº¿+OI | **Kçº¿+OI** | Kçº¿+OI+è®¢å•ç°¿+æ¸…ç®— |
| **éƒ¨ç½²éš¾åº¦** | ç®€å• | **ç®€å•** | å¤æ‚ |
| **é¢„æœŸå‡†ç¡®ç‡** | 62% | **68-72%** | 75-78% |
| **éƒ¨ç½²çŠ¶æ€** | âœ… ç”Ÿäº§ç¨³å®š | **âœ… ç«‹å³å¯ç”¨** | â³ éœ€æ•°æ®æº |

---

## âœ¨ V2 Liteæ ¸å¿ƒæå‡

### 1. **C+ å¢å¼ºCVD**ï¼ˆæ›¿æ¢Cï¼‰
```
V1: ç®€å•CVD = ä¹°å…¥é‡ - å–å‡ºé‡
V2: åŠ¨æ€åŠ æƒCVD = (æœŸè´§CVD Ã— åŠ¨æ€æƒé‡ + ç°è´§CVD Ã— éªŒè¯æƒé‡) Ã— EMAå¹³æ»‘

ä¼˜åŠ¿ï¼š
- ç°è´§æ•°æ®éªŒè¯ï¼Œå‡å°‘å‡ä¿¡å·
- åŠ¨æ€æƒé‡é€‚åº”å¸‚åœºçŠ¶æ€
- EMAå¹³æ»‘å‡å°‘å™ªéŸ³
```

### 2. **O+ OIå››è±¡é™ä½“åˆ¶**ï¼ˆæ›¿æ¢Oï¼‰
```
V1: OIå˜åŒ–ç‡ = (OIç°åœ¨ - OIä¹‹å‰) / OIä¹‹å‰
V2: å››è±¡é™è¯†åˆ«ï¼š
    - OIâ†‘ + Priceâ†‘ â†’ å¤šå¤´ä¸»å¯¼ (+100)
    - OIâ†‘ + Priceâ†“ â†’ ç©ºå¤´æ­¢æŸ (+30)
    - OIâ†“ + Priceâ†‘ â†’ å¤šå¤´æ­¢æŸ (-100)
    - OIâ†“ + Priceâ†“ â†’ ç©ºå¤´ä¸»å¯¼ (-30)

ä¼˜åŠ¿ï¼š
- è¯†åˆ«çœŸå®åŠ›é‡æ–¹å‘
- åŒºåˆ†ä¸»åŠ¨è¿›æ”» vs è¢«åŠ¨æ­¢æŸ
- æé«˜ä¿¡å·å‡†ç¡®åº¦
```

### 3. **V+ è§¦å‘Kæ£€æµ‹**ï¼ˆæ›¿æ¢Vï¼‰
```
V1: Volumeè¯„åˆ† = å½“å‰æˆäº¤é‡ / å¹³å‡æˆäº¤é‡
V2: è§¦å‘Kæ£€æµ‹ = æ”¾é‡(>1.5x) + å®ä½“K(>0.6) + çªç ´(>0.25ATR) + æ–¹å‘æ˜ç¡®

ä¼˜åŠ¿ï¼š
- æ•æ‰å…³é”®çªç ´æ—¶åˆ»
- å‡å°‘éœ‡è¡å¸‚å‡ä¿¡å·
- æé«˜è¿›åœºç²¾åº¦
```

### 4. **I ç‹¬ç«‹æ€§åˆ†æ**ï¼ˆæ–°å¢ï¼‰
```
V1: æ— æ­¤ç»´åº¦
V2: Betaç‹¬ç«‹æ€§ = regression(alt_returns, btc_returns + eth_returns)
    - Beta < 0.5: é«˜ç‹¬ç«‹æ€§ (100åˆ†)
    - Beta < 1.5: ä¸­ç­‰ (50åˆ†)
    - Beta > 1.5: å¼ºç›¸å…³ (0åˆ†)

ä¼˜åŠ¿ï¼š
- è¯†åˆ«çœŸæ­£çš„Alphaæœºä¼š
- é¿å…çº¯ç²¹è·ŸéšBTCçš„å±±å¯¨å¸
- æé«˜ç»„åˆåˆ†æ•£åº¦
```

---

## ğŸ“¦ éƒ¨ç½²æ­¥éª¤

### **æ­¥éª¤1ï¼šéªŒè¯é…ç½®**

åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œé…ç½®éªŒè¯ï¼š

```bash
cd /path/to/cryptosignal
python tools/validate_v2_lite_config.py
```

é¢„æœŸè¾“å‡ºï¼š
```
âœ… V2 Liteé…ç½®éªŒè¯å®Œæˆ
ã€é…ç½®æ‘˜è¦ã€‘
  ç‰ˆæœ¬: 2.1.0-lite
  å¯ç”¨å› å­: 8ä¸ª (T, M, C+, S, V+, O+, I, F)
  ç¦ç”¨å› å­: 3ä¸ª (L, B, Q)
  æ€»æƒé‡: 115ç‚¹
  å½’ä¸€åŒ–: Â±100

ã€éƒ¨ç½²çŠ¶æ€ã€‘
  âœ… é…ç½®æ­£ç¡®ï¼Œå¯ä»¥éƒ¨ç½²åˆ°æœåŠ¡å™¨
  âœ… æ— éœ€é¢å¤–æ•°æ®æºï¼ˆè®¢å•ç°¿/æ¸…ç®—æ•°æ®ï¼‰
  âœ… å…¼å®¹ç°æœ‰V1æ•°æ®ç®¡é“
```

---

### **æ­¥éª¤2ï¼šå•å¸ç§æµ‹è¯•**

æµ‹è¯•å•ä¸ªå¸ç§åˆ†æï¼š

```bash
python tools/test_v2_lite.py
```

æˆ–åœ¨Pythonä»£ç ä¸­ï¼š

```python
from ats_core.pipeline.analyze_symbol_v2 import analyze_symbol_v2

# ä½¿ç”¨V2 Liteåˆ†æ
result = analyze_symbol_v2(
    "BTCUSDT",
    config_path="config/factors_v2_lite.json"
)

print(f"ç‰ˆæœ¬: {result['config_version']}")
print(f"å¯ç”¨å› å­: {result['enabled_factors']}")
print(f"åŠ æƒè¯„åˆ†: {result['weighted_score']:.1f}")
print(f"æ–¹å‘: {result['direction']}")
print(f"æ¦‚ç‡: {result['probability']:.3f}")
```

---

### **æ­¥éª¤3ï¼šæ‰¹é‡æ‰«æéƒ¨ç½²**

ä¿®æ”¹æ‰¹é‡æ‰«æè„šæœ¬ä½¿ç”¨V2 Liteï¼š

**æ–¹æ³•Aï¼šä¿®æ”¹ç°æœ‰è„šæœ¬**

```python
# åœ¨ tools/full_run_v2.py æˆ–ç±»ä¼¼è„šæœ¬ä¸­
from ats_core.pipeline.batch_scan import batch_run_parallel

# ä½¿ç”¨V2 Liteè¿è¡Œæ‰¹é‡æ‰«æ
stats = batch_run_parallel(
    max_workers=5,
    use_v2=True,
    v2_config="factors_v2_lite.json"  # âœ¨ æŒ‡å®šV2 Liteé…ç½®
)
```

**æ–¹æ³•Bï¼šåˆ›å»ºæ–°çš„éƒ¨ç½²è„šæœ¬**

```python
#!/usr/bin/env python3
# tools/run_v2_lite_scan.py

import sys, os
project_root = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
sys.path.insert(0, project_root)

from ats_core.pipeline.batch_scan import batch_run_parallel
from ats_core.logging import log

if __name__ == "__main__":
    log("=" * 70)
    log("ğŸš€ V2 Liteæ‰¹é‡æ‰«æ")
    log("=" * 70)

    stats = batch_run_parallel(
        max_workers=5,
        use_v2=True,
        v2_config="factors_v2_lite.json"
    )

    log("\n" + "=" * 70)
    log("âœ… V2 Liteæ‰«æå®Œæˆ")
    log(f"   æ€»æ•°: {stats['total']}")
    log(f"   æˆåŠŸ: {stats['completed']}")
    log(f"   Primeä¿¡å·: {stats['prime_signals']}")
    log(f"   Watchä¿¡å·: {stats['watch_signals']}")
    log("=" * 70)
```

è¿è¡Œï¼š
```bash
python tools/run_v2_lite_scan.py
```

---

### **æ­¥éª¤4ï¼šCronå®šæ—¶ä»»åŠ¡**

è®¾ç½®å®šæ—¶æ‰«æä»»åŠ¡ï¼ˆæ¯60åˆ†é’Ÿï¼‰ï¼š

```bash
# ç¼–è¾‘crontab
crontab -e

# æ·»åŠ V2 Liteæ‰«æä»»åŠ¡
0 * * * * cd /path/to/cryptosignal && /path/to/python tools/run_v2_lite_scan.py >> /var/log/cryptosignal/v2_lite_scan.log 2>&1
```

---

## ğŸ”§ é…ç½®è¯´æ˜

### **æ ¸å¿ƒé…ç½®æ–‡ä»¶**

**config/factors_v2_lite.json**

```json
{
  "version": "2.1.0-lite",
  "factors": {
    "T": {"enabled": true, "weight": 25},   // âœ… è¶‹åŠ¿
    "M": {"enabled": true, "weight": 15},   // âœ… åŠ¨é‡
    "C+": {"enabled": true, "weight": 20},  // âœ… å¢å¼ºCVD
    "S": {"enabled": true, "weight": 10},   // âœ… ç»“æ„
    "V+": {"enabled": true, "weight": 15},  // âœ… è§¦å‘K
    "O+": {"enabled": true, "weight": 20},  // âœ… OIå››è±¡é™
    "I": {"enabled": true, "weight": 10},   // âœ… ç‹¬ç«‹æ€§
    "F": {"enabled": true, "type": "regulator"},  // âœ… è°ƒèŠ‚å™¨

    "L": {"enabled": false},  // âŒ æµåŠ¨æ€§ï¼ˆéœ€è®¢å•ç°¿ï¼‰
    "B": {"enabled": false},  // âŒ åŸºå·®ï¼ˆéœ€èµ„é‡‘è´¹ç‡ï¼‰
    "Q": {"enabled": false}   // âŒ æ¸…ç®—ï¼ˆéœ€æ¸…ç®—æ•°æ®ï¼‰
  },

  "weights_config": {
    "total_weight": 115,
    "normalization_factor": 1.15
  },

  "thresholds": {
    "prime_strength_min": 75,
    "prime_prob_min": 0.62,
    "watch_strength_min": 62,
    "watch_prob_min": 0.58
  }
}
```

### **å‚æ•°è°ƒæ•´**

å¦‚éœ€è°ƒæ•´é˜ˆå€¼ï¼Œç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š

```json
{
  "thresholds": {
    "prime_strength_min": 75,    // Primeä¿¡å·æœ€å°å¼ºåº¦ï¼ˆå»ºè®®ï¼š75-80ï¼‰
    "prime_prob_min": 0.62,      // Primeä¿¡å·æœ€å°æ¦‚ç‡ï¼ˆå»ºè®®ï¼š0.60-0.65ï¼‰
    "watch_strength_min": 62,    // Watchä¿¡å·æœ€å°å¼ºåº¦ï¼ˆå»ºè®®ï¼š60-65ï¼‰
    "watch_prob_min": 0.58       // Watchä¿¡å·æœ€å°æ¦‚ç‡ï¼ˆå»ºè®®ï¼š0.55-0.60ï¼‰
  }
}
```

---

## ğŸ“Š æ€§èƒ½é¢„æœŸ

| æŒ‡æ ‡ | V1å½“å‰ | V2 Liteé¢„æœŸ | æå‡ |
|------|--------|------------|-----|
| **ä¿¡å·å‡†ç¡®ç‡** | 62% | 68-72% | +6-10% |
| **å‡ä¿¡å·ç‡** | 25% | 15-18% | -30% |
| **çªç ´æ•æ‰ç‡** | 60% | 75-80% | +25% |
| **ç‹¬ç«‹Alpha** | ä½ | ä¸­é«˜ | +40% |
| **APIè°ƒç”¨é‡** | æ ‡å‡† | æ ‡å‡† | æ— å˜åŒ– |
| **æ‰«æé€Ÿåº¦** | 5ç§’ | 5-6ç§’ | æŒå¹³ |

---

## ğŸ” ç›‘æ§ä¸éªŒè¯

### **å®æ—¶ç›‘æ§**

æ£€æŸ¥V2 Liteè¿è¡ŒçŠ¶æ€ï¼š

```bash
# æŸ¥çœ‹æœ€è¿‘10æ¬¡æ‰«ææ—¥å¿—
tail -n 100 /var/log/cryptosignal/v2_lite_scan.log | grep "V2 Lite"

# ç»Ÿè®¡ä¿¡å·æ•°é‡
tail -n 1000 /var/log/cryptosignal/v2_lite_scan.log | grep "Primeä¿¡å·" | wc -l
```

### **å›æµ‹éªŒè¯**

å¯¹æ¯”V1 vs V2 Liteå†å²è¡¨ç°ï¼š

```bash
# V1å›æµ‹
python tools/run_full_backtest.py --days 30 --version v1

# V2 Liteå›æµ‹
python tools/run_full_backtest.py --days 30 --version v2_lite --config factors_v2_lite.json

# å¯¹æ¯”ç»“æœ
python tools/compare_backtest_results.py v1 v2_lite
```

---

## ğŸš¨ å¸¸è§é—®é¢˜

### **Q1: V2 Liteä¼šå¢åŠ APIè°ƒç”¨é‡å—ï¼Ÿ**
**A:** ä¸ä¼šã€‚V2 Liteä½¿ç”¨ä¸V1ç›¸åŒçš„æ•°æ®æºï¼ˆKçº¿+OIï¼‰ï¼ŒAPIè°ƒç”¨é‡ç›¸åŒã€‚

### **Q2: å¯ä»¥åœ¨V1å’ŒV2 Liteä¹‹é—´åˆ‡æ¢å—ï¼Ÿ**
**A:** å¯ä»¥ã€‚åªéœ€ä¿®æ”¹ `batch_run_parallel()` çš„å‚æ•°ï¼š
```python
# V1
stats = batch_run_parallel(use_v2=False)

# V2 Lite
stats = batch_run_parallel(use_v2=True, v2_config="factors_v2_lite.json")
```

### **Q3: ä»€ä¹ˆæ—¶å€™å‡çº§åˆ°V2å®Œæ•´ç‰ˆï¼Ÿ**
**A:** å½“ä»¥ä¸‹æ•°æ®æºå°±ç»ªæ—¶ï¼š
- è®¢å•ç°¿APIï¼ˆLå› å­ï¼‰
- æ¸…ç®—æ•°æ®APIï¼ˆQå› å­ï¼‰
- ç¨³å®šèµ„é‡‘è´¹ç‡ï¼ˆBå› å­ï¼‰

å±Šæ—¶åªéœ€ä¿®æ”¹é…ç½®ï¼š
```json
{
  "L": {"enabled": true},
  "B": {"enabled": true},
  "Q": {"enabled": true}
}
```

### **Q4: V2 Liteé€‚åˆä»€ä¹ˆå¸‚åœºï¼Ÿ**
**A:** V2 Liteç‰¹åˆ«é€‚åˆï¼š
- âœ… è¶‹åŠ¿çªç ´è¡Œæƒ…ï¼ˆV+è§¦å‘Kæ£€æµ‹ï¼‰
- âœ… èµ„é‡‘æµä¸»å¯¼è¡Œæƒ…ï¼ˆC+å¢å¼ºCVDï¼‰
- âœ… ç‹¬ç«‹èµ°åŠ¿å¸ç§ï¼ˆIç‹¬ç«‹æ€§åˆ†æï¼‰
- âš ï¸ éœ‡è¡å¸‚è¡¨ç°ä¸V1ç›¸å½“

---

## ğŸ“ˆ å‡çº§è·¯çº¿å›¾

```
V1ç”Ÿäº§ç‰ˆï¼ˆ7+1ç»´ï¼‰
  â†“
V2 Liteç‰ˆï¼ˆ8+1ç»´ï¼‰âœ… å½“å‰é˜¶æ®µ
  â”œâ”€ æ•°æ®æºï¼šKçº¿ + OI
  â”œâ”€ å‡†ç¡®ç‡ï¼š68-72%
  â””â”€ çŠ¶æ€ï¼šç«‹å³å¯ç”¨
  â†“
V2å®Œæ•´ç‰ˆï¼ˆ10+1ç»´ï¼‰ğŸ”œ æœªæ¥
  â”œâ”€ æ•°æ®æºï¼šKçº¿ + OI + è®¢å•ç°¿ + æ¸…ç®—
  â”œâ”€ å‡†ç¡®ç‡ï¼š75-78%
  â””â”€ çŠ¶æ€ï¼šéœ€6-9å‘¨å¼€å‘
```

---

## ğŸ“ æ€»ç»“

### **V2 Liteä¼˜åŠ¿**
âœ… **ç«‹å³å¯ç”¨**ï¼šæ— éœ€é¢å¤–æ•°æ®æº
âœ… **æ€§èƒ½æå‡**ï¼šå‡†ç¡®ç‡+6-10%
âœ… **å…¼å®¹æ€§å¼º**ï¼šä¸V1æ•°æ®ç®¡é“å…¼å®¹
âœ… **é£é™©å¯æ§**ï¼šæ¸è¿›å¼å‡çº§ï¼Œå¯éšæ—¶å›é€€

### **éƒ¨ç½²å»ºè®®**
1. **ç¬¬1å‘¨**ï¼šç°åº¦æµ‹è¯•ï¼ˆ10%å¸ç§ä½¿ç”¨V2 Liteï¼‰
2. **ç¬¬2å‘¨**ï¼šæ‰©å¤§æµ‹è¯•ï¼ˆ50%å¸ç§ï¼‰
3. **ç¬¬3å‘¨**ï¼šå…¨é‡ä¸Šçº¿ï¼ˆ100%å¸ç§ï¼‰

### **ç›‘æ§æŒ‡æ ‡**
- Primeä¿¡å·å‡†ç¡®ç‡ > 70%
- å‡ä¿¡å·ç‡ < 20%
- ç³»ç»Ÿç¨³å®šæ€§ > 99%

---

**ç»´æŠ¤è€…**: CryptoSignal Team
**æ›´æ–°æ—¶é—´**: 2025-10-27
**é…ç½®ç‰ˆæœ¬**: 2.1.0-lite
