# ğŸ” åˆ†æ”¯ä¸åŒ¹é…é—®é¢˜åˆ†æ

## é—®é¢˜æ ¹æº

ä¹‹å‰çš„éƒ¨ç½²è„šæœ¬ä½¿ç”¨äº†**é”™è¯¯çš„åˆ†æ”¯**ï¼Œå¯¼è‡´å³ä½¿é…ç½®æ–‡ä»¶æ­£ç¡®ï¼Œç³»ç»Ÿä»ç„¶æ— æ³•æ­£å¸¸å·¥ä½œã€‚

### åˆ†æ”¯æ¼”è¿›å†å²

| ç‰¹æ€§ | v1 (æœ‰bug) | v2 (éƒ¨åˆ†ä¿®å¤) | v3 (å½“å‰æœ€æ–°) |
|------|-----------|--------------|--------------|
| **åˆ†æ”¯å** | `011CUrZaXUMTBXApc3jvsqTh` | `011CUvEzbqkdKuPnh33PSRPn` | `011CUwp5f5x9B31K29qAb5w3` |
| **æ•°æ®åº“è·¯å¾„** | âŒ ç¡¬ç¼–ç  `/home/user/` | âš ï¸ ç¡¬ç¼–ç  `~/cryptosignal` | âœ… åŠ¨æ€æ£€æµ‹ |
| **Telegramé€šçŸ¥** | âŒ åªå‘é€Primeä¿¡å· | âœ… è‡ªåŠ¨å‘é€æ‰«ææ‘˜è¦ | âœ… è‡ªåŠ¨å‘é€æ‰«ææ‘˜è¦ |
| **æ‰«æå™¨** | âŒ ä¸¤ä¸ªç‰ˆæœ¬æ··ä¹± | âœ… ç»Ÿä¸€ä¸ºä¸€ä¸ª | âœ… ç»Ÿä¸€ä¸ºä¸€ä¸ª |
| **è„šæœ¬å¼•ç”¨** | âŒ å¼•ç”¨v72ç‰ˆæœ¬ | âœ… ç»Ÿä¸€å¼•ç”¨ | âœ… ç»Ÿä¸€å¼•ç”¨ |
| **Top 1ç­–ç•¥** | âŒ æ—  | âŒ æ—  | âœ… v3.1ä¼˜åŒ– |
| **è·¯å¾„ä¿®å¤** | âŒ æ—  | âŒ æ—  | âœ… P0ä¿®å¤ (ad59c34) |

**å½“å‰æ¨è**ï¼šä½¿ç”¨ v3 æœ€æ–°åˆ†æ”¯ `011CUwp5f5x9B31K29qAb5w3`

---

## é—®é¢˜æ—¶é—´çº¿

```
2025-11-08 10:00 - è¿è¡Œæ—§éƒ¨ç½²è„šæœ¬
  â†“
éƒ¨ç½²äº†æ—§åˆ†æ”¯ä»£ç ï¼ˆ011CUrZaXUMTBXApc3jvsqThï¼‰
  â†“
é…ç½®æ–‡ä»¶æ­£ç¡®ï¼Œä½†ä»£ç æœ‰bug
  â†“
æ•°æ®åº“å†™å…¥å¤±è´¥ï¼šPermission denied
Telegramæœªæ”¶åˆ°æ¶ˆæ¯ï¼šä»£ç ä¸æ”¯æŒ
  â†“
2025-11-08 12:00 - æ‰€æœ‰ä¿®å¤æäº¤åˆ°æ–°åˆ†æ”¯
  â†“
æ—§åˆ†æ”¯çš„éƒ¨ç½²ä»åœ¨è¿è¡Œï¼ˆæœªæ›´æ–°ï¼‰
  â†“
é—®é¢˜æŒç»­å­˜åœ¨
```

---

## æ­£ç¡®çš„éƒ¨ç½²æ–¹å¼

### æ–¹æ¡ˆ1ï¼šåœ¨æœåŠ¡å™¨ä¸Šæ‰‹åŠ¨åˆ‡æ¢åˆ†æ”¯ï¼ˆæ¨èï¼‰

```bash
cd ~/cryptosignal

# 1. åœæ­¢æ—§è¿›ç¨‹
pkill -f realtime_signal_scanner

# 2. åˆ‡æ¢åˆ°æ­£ç¡®çš„åˆ†æ”¯
git fetch origin
git checkout claude/reorganize-repo-structure-011CUwp5f5x9B31K29qAb5w3
git pull origin claude/reorganize-repo-structure-011CUwp5f5x9B31K29qAb5w3

# 3. æ¸…ç†Pythonç¼“å­˜
find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null || true
find . -name "*.pyc" -delete 2>/dev/null || true

# 4. è¿è¡Œsetup.shï¼ˆé…ç½®æ–‡ä»¶å·²å­˜åœ¨ï¼Œä¼šç›´æ¥å¯åŠ¨ï¼‰
./setup.sh
```

### æ–¹æ¡ˆ2ï¼šä½¿ç”¨æ–°çš„éƒ¨ç½²è„šæœ¬ï¼ˆå®Œå…¨é‡æ–°éƒ¨ç½²ï¼‰

æ–°è„šæœ¬åœ¨ï¼š`scripts/deploy_server_latest.sh`

**é‡è¦**ï¼šè„šæœ¬ä¸­çš„APIå¯†é’¥æ˜¯å ä½ç¬¦ï¼Œéœ€è¦æ‰‹åŠ¨å¡«å…¥çœŸå®å€¼ï¼

```bash
# 1. ä¸‹è½½æ–°è„šæœ¬
cd ~
wget https://raw.githubusercontent.com/FelixWayne0318/cryptosignal/claude/reorganize-repo-structure-011CUwp5f5x9B31K29qAb5w3/scripts/deploy_server_latest.sh

# 2. ç¼–è¾‘è„šæœ¬ï¼Œå¡«å…¥çœŸå®APIå¯†é’¥
vi deploy_server_latest.sh
# æ›¿æ¢ä»¥ä¸‹å ä½ç¬¦ï¼š
# - YOUR_GITHUB_TOKEN_HERE
# - YOUR_BINANCE_API_KEY
# - YOUR_BINANCE_SECRET_KEY
# - YOUR_BOT_TOKEN
# - YOUR_CHAT_ID

# 3. è¿è¡Œè„šæœ¬
chmod +x deploy_server_latest.sh
./deploy_server_latest.sh
```

---

## éªŒè¯ä¿®å¤æ˜¯å¦æˆåŠŸ

è¿è¡Œsetup.shåï¼Œåº”è¯¥çœ‹åˆ°ï¼š

### âœ… æˆåŠŸçš„æ ‡å¿—

1. **æ‰«æå™¨å¯åŠ¨**
   ```
   âœ… æ‰«æå™¨å·²å¯åŠ¨ï¼ˆPID: xxxxxï¼‰
   æ—¥å¿—æ–‡ä»¶: ~/cryptosignal_20251108_xxxxxx.log
   ```

2. **æ•°æ®åº“å†™å…¥æˆåŠŸ**
   ```bash
   ls -lh ~/cryptosignal/data/
   # åº”è¯¥çœ‹åˆ°ï¼š
   # analysis.db
   # trade_history.db
   ```

3. **æ—¥å¿—æ­£å¸¸**
   ```bash
   tail -f ~/cryptosignal_*.log
   # åº”è¯¥çœ‹åˆ°æ‰«æè¿›åº¦ï¼Œæ²¡æœ‰"Permission denied"é”™è¯¯
   ```

4. **Telegramæ”¶åˆ°æ¶ˆæ¯**ï¼ˆæœ‰ä¿¡å·æ—¶ï¼‰
   ```
   ğŸ“Š æ‰«æå®Œæˆ
   ğŸ• æ—¶é—´: 2025-11-08 xx:xx:xx
   ğŸ“ˆ æ‰«æ: xxx ä¸ªå¸ç§
   âœ… ä¿¡å·: x ä¸ª
   ```

5. **Gitè‡ªåŠ¨æäº¤**
   ```bash
   git log --oneline -5
   # åº”è¯¥çœ‹åˆ°è‡ªåŠ¨æäº¤çš„æ‰«ææŠ¥å‘Š
   ```

---

## å¸¸è§é—®é¢˜

### Q1: ä¸ºä»€ä¹ˆæˆ‘çš„é…ç½®æ–‡ä»¶éƒ½æœ‰ï¼Œä½†è¿˜æ˜¯ä¸å·¥ä½œï¼Ÿ

**A**: å› ä¸ºéƒ¨ç½²äº†æ—§åˆ†æ”¯çš„ä»£ç ï¼Œæ—§ä»£ç æœ‰bugï¼š
- æ•°æ®åº“è·¯å¾„ç¡¬ç¼–ç é”™è¯¯
- Telegramé€šçŸ¥åŠŸèƒ½ä¸å®Œæ•´
- æ‰«æå™¨ç‰ˆæœ¬æ··ä¹±

**è§£å†³**: åˆ‡æ¢åˆ°æ–°åˆ†æ”¯ï¼ˆè§ä¸Šé¢çš„æ–¹æ¡ˆ1ï¼‰

### Q2: å¦‚ä½•ç¡®è®¤æˆ‘å½“å‰ä½¿ç”¨çš„æ˜¯å“ªä¸ªåˆ†æ”¯ï¼Ÿ

```bash
cd ~/cryptosignal
git branch --show-current
```

åº”è¯¥çœ‹åˆ°ï¼š`claude/reorganize-repo-structure-011CUwp5f5x9B31K29qAb5w3`

### Q3: åˆ‡æ¢åˆ†æ”¯ä¼šä¸¢å¤±é…ç½®æ–‡ä»¶å—ï¼Ÿ

**ä¸ä¼šï¼** é…ç½®æ–‡ä»¶åœ¨ `config/` ç›®å½•ï¼ŒGitä¸ä¼šè¦†ç›–å®ƒä»¬ã€‚

### Q4: åˆ‡æ¢åˆ†æ”¯åéœ€è¦é‡æ–°é…ç½®å—ï¼Ÿ

**ä¸éœ€è¦ï¼** å¦‚æœé…ç½®æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œç›´æ¥è¿è¡Œ `./setup.sh` å³å¯ã€‚

---

## ä¸¤ä¸ªåˆ†æ”¯çš„å®Œæ•´å·®å¼‚

```bash
# æŸ¥çœ‹å·®å¼‚
cd ~/cryptosignal
git diff claude/reorganize-repo-structure-011CUrZaXUMTBXApc3jvsqTh claude/reorganize-repo-structure-011CUwp5f5x9B31K29qAb5w3
```

ä¸»è¦å·®å¼‚æ–‡ä»¶ï¼š
- `ats_core/data/analysis_db.py` - æ•°æ®åº“è·¯å¾„ä¿®å¤
- `ats_core/data/trade_recorder.py` - æ•°æ®åº“è·¯å¾„ä¿®å¤
- `ats_core/pipeline/batch_scan_optimized.py` - Telegramé€šçŸ¥åŠŸèƒ½
- `scripts/realtime_signal_scanner.py` - æ‰«æå™¨ç»Ÿä¸€
- `setup.sh` - è„šæœ¬å¼•ç”¨æ›´æ–°
- å…¶ä»–5ä¸ªshellè„šæœ¬ - å¼•ç”¨æ›´æ–°

---

## æ€»ç»“

**åˆ†æ”¯æ¼”è¿›**ï¼š
- v1 `011CUrZaXUMTBXApc3jvsqTh` - æœ‰ä¸¥é‡bug
- v2 `011CUvEzbqkdKuPnh33PSRPn` - éƒ¨åˆ†ä¿®å¤
- v3 `011CUwp5f5x9B31K29qAb5w3` - **å½“å‰æœ€æ–°ï¼ˆæ¨èï¼‰**

**è§£å†³æ–¹æ¡ˆ**ï¼šåˆ‡æ¢åˆ°æœ€æ–°åˆ†æ”¯ v3ï¼ˆè§ä¸Šé¢çš„æ–¹æ¡ˆ1ï¼Œæœ€ç®€å•ï¼‰

**é¢„æœŸæ—¶é—´**ï¼š5åˆ†é’Ÿå†…å®Œæˆåˆ‡æ¢å¹¶éªŒè¯

**æ ¸å¿ƒå‘½ä»¤**ï¼š
```bash
cd ~/cryptosignal
git checkout claude/reorganize-repo-structure-011CUwp5f5x9B31K29qAb5w3
git pull
./setup.sh
```

---

**è¡¥å……è¯´æ˜**ï¼š

ä¹‹å‰çš„ä¿®å¤éƒ½æ˜¯æ­£ç¡®çš„ï¼Œä»£ç å·²ç»å®Œå…¨readyã€‚åªæ˜¯éƒ¨ç½²æ—¶ä½¿ç”¨äº†é”™è¯¯çš„åˆ†æ”¯ï¼Œå¯¼è‡´è¿è¡Œçš„æ˜¯æ—§ä»£ç ã€‚ç°åœ¨åªéœ€è¦åˆ‡æ¢åˆ°æ­£ç¡®çš„åˆ†æ”¯å³å¯ã€‚
