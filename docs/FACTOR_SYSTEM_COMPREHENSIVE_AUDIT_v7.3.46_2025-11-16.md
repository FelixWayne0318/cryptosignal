# CryptoSignal v7.3.46 å› å­ç³»ç»Ÿæ·±åº¦å®¡è®¡æŠ¥å‘Š

**è¯„ä¼°æ ‡å‡†**: æ–‡è‰ºå¤å…´ç§‘æŠ€ã€Two Sigmaã€Citadelç­‰é¡¶çº§å¯¹å†²åŸºé‡‘æ°´å¹³  
**å®¡è®¡æ—¶é—´**: 2025-11-16  
**ç³»ç»Ÿç‰ˆæœ¬**: v7.3.46ï¼ˆå®é™…è¿è¡Œç‰ˆæœ¬ï¼‰  
**å®¡è®¡èŒƒå›´**: Aå±‚6å› å­ + Bå±‚4è°ƒåˆ¶å™¨ + ç»¼åˆå†³ç­–é€»è¾‘  
**ä¸¥æ ¼åº¦**: â­â­â­â­â­ (æœ€é«˜æ ‡å‡†)

---

## ğŸ“Š æ‰§è¡Œæ‘˜è¦

### æ€»ä½“è¯„åˆ†: **68/100**

| ç»´åº¦ | è¯„åˆ† | çŠ¶æ€ |
|-----|------|------|
| å› å­è®¾è®¡è´¨é‡ | 7.5/10 | â­â­â­â­ ä¼˜ç§€ |
| å®ç°æ­£ç¡®æ€§ | 7.0/10 | â­â­â­â­ è‰¯å¥½ |
| é…ç½®ç®¡ç† | 9.0/10 | â­â­â­â­â­ ä¼˜ç§€ |
| é£æ§æœºåˆ¶ | 5.5/10 | â­â­â­ ä¸­ç­‰ |
| ç›‘æ§ç³»ç»Ÿ | 4.0/10 | â­â­ ä¸è¶³ |
| **ç»¼åˆå¾—åˆ†** | **6.8/10** | â­â­â­â­ è‰¯å¥½ |

### å…³é”®å‘ç°

âœ… **ä¼˜åŠ¿**:
1. StandardizationChain 5æ­¥ç¨³å¥åŒ– - ä¸–ç•Œé¡¶çº§
2. é…ç½®ç®¡ç†å®Œå…¨è§£è€¦ï¼ˆé›¶ç¡¬ç¼–ç æ¶æ„ï¼‰- å·¥ä¸šçº§
3. å› å­åˆ†å±‚è®¾è®¡ï¼ˆ6+4æ¶æ„ï¼‰- ç§‘å­¦åˆç†
4. é™çº§æœºåˆ¶å®Œå–„ - ç”Ÿäº§å°±ç»ª

âš ï¸ **é‡å¤§é—®é¢˜**:
1. **å› å­å¤šé‡å…±çº¿æ€§** - P0 ä¸¥é‡ï¼ˆæœªè¿›è¡ŒVIFç›‘æ§ï¼‰
2. **ç¼ºå°‘ICç›‘æ§ç³»ç»Ÿ** - P0 ä¸¥é‡ï¼ˆæ— æ³•æ£€æµ‹å› å­è¡°å‡ï¼‰
3. **å‰è§†åå·®é£é™©** - P0 ä¸¥é‡ï¼ˆCVDæ»šåŠ¨çª—å£è¾¹ç•Œå¤„ç†å­˜ç–‘ï¼‰
4. **æƒé‡é…ç½®ä¸ä¸€è‡´** - P1 é«˜ï¼ˆJSON vs ä»£ç å­˜åœ¨åå·®ï¼‰
5. **ç¼ºå°‘å› å­å½’å› ç³»ç»Ÿ** - P1 é«˜ï¼ˆæ— æ³•è¿½è¸ªæ”¶ç›Šæ¥æºï¼‰

---

## 1ï¸âƒ£ Aå±‚è¯„åˆ†å› å­å®¡è®¡

### Tå› å­ - è¶‹åŠ¿ (æƒé‡é…ç½®: 23%)

**è®¾è®¡è¯„åˆ†: 8.5/10** â­â­â­â­

#### è®¾è®¡åˆç†æ€§ âœ…
```python
# æ ¸å¿ƒå…¬å¼ï¼šslope_score + ema_score + r2_weighted
T_raw = slope_score + ema_bonus * 2 + r2_weight * 100 * confidence

# å‚æ•°ä¼˜åŒ–ï¼ˆv7.3.3ä¿®å¤ï¼‰
slope_scale: 0.08     # é™ä½æ˜ å°„å¼ºåº¦ï¼Œé¿å…é¥±å’Œ
ema_bonus: 12.5       # 12.5 * 2 = Â±25åˆ†ï¼ˆè€ŒéÂ±40åˆ†ï¼‰
r2_weight: 0.15       # ç½®ä¿¡åº¦åŠ æƒ
```

**ä¼˜ç‚¹**:
- EMA5/20åˆ†ç¦»ï¼ˆä¸­æœŸè¶‹åŠ¿ï¼‰ï¼Œä¸Må› å­æ­£äº¤
- æ–œç‡+RÂ²ç»„åˆï¼ˆä¸¤ç»´åº¦ç¡®è®¤ï¼‰
- StandardizationChain æ ‡å‡†åŒ–ï¼ˆ5æ­¥ï¼‰
- é…ç½®åŒ–å‚æ•°ï¼ˆæ— ç¡¬ç¼–ç ï¼‰

**é—®é¢˜å‘ç°**:
1. **è®¾è®¡ç¼ºé™·**: slope_scale=0.08 è¿‡å¤§ï¼Œå¯¼è‡´å°å¹…ä¸Šå‡è¢«è¯„ä¸ºå¼ºåŠ¿
   - å½“ slope_per_bar=0.01ï¼ˆå¼±åŠ¿ï¼‰æ—¶ï¼Œç»è¿‡directional_scoreæ˜ å°„åå¾—åˆ°æ–œç‡åˆ†
   - ä½†ä¸ATRæ¯”å€¼åå°ï¼Œå®¹æ˜“è¢«é‡ä»·æ‰­æ›²

2. **æå€¼å¤„ç†**: EMAæ’åˆ—åŠ åˆ†çš„é€»è¾‘æœ‰æ”¹è¿›ç©ºé—´
   - ä»…æ£€æŸ¥æœ€è¿‘kæ ¹Kçº¿ï¼ˆk=3-6ï¼‰æ’åˆ—
   - è‹¥Kçº¿çŸ­æœŸåå‘ä½†ä¸­æœŸæ’åˆ—ä»æˆç«‹ï¼Œä¼šäº§ç”Ÿå†²çªä¿¡å·

3. **è®¡ç®—æ­£ç¡®æ€§**: âœ… ä»£ç å®ç°æ— è¯¯
   - çº¿æ€§å›å½’å®ç°æ­£ç¡®ï¼ˆnumpy.polyfitæ›¿ä»£å“ï¼‰
   - ATRè®¡ç®—æ ‡å‡†ï¼ˆTrue Rangeæ ‡å‡†ï¼‰
   - EMAè®¡ç®—å‡†ç¡®ï¼ˆæŒ‡æ•°åŠ æƒï¼‰

#### å®ç°è¯„åˆ†: 8/10

---

### Må› å­ - åŠ¨é‡ (æƒé‡é…ç½®: 10%)

**è®¾è®¡è¯„åˆ†: 7.5/10** â­â­â­â­

#### è®¾è®¡åˆç†æ€§ âš ï¸
```python
# P2.2ä¼˜åŒ–: EMA3/5ï¼ˆçŸ­çª—å£ï¼‰ vs Tçš„EMA5/20ï¼ˆä¸­çª—å£ï¼‰
ema_fast = EMA(C, 3)  # å®æ—¶ååº”
ema_slow = EMA(C, 5)  # çŸ­æœŸæ»¤æ³¢
momentum = ema_fast - ema_slow

# æ­£äº¤æ€§æ£€éªŒ
# Tç”¨EMA5/20ï¼Œå‘¨æœŸæ¯”=4.0
# Mç”¨EMA3/5ï¼Œå‘¨æœŸæ¯”=1.67
# â†’ é¢‘ç‡åˆ†ç¦»è¶³å¤Ÿï¼ˆä½é¢‘ vs ä¸­é¢‘ï¼‰
```

**ä¼˜ç‚¹**:
- ç›¸å¯¹å†å²å½’ä¸€åŒ–ï¼ˆè‡ªé€‚åº”å¸ç§æ³¢åŠ¨ç‡ï¼‰
- åŠ é€Ÿåº¦è®¡ç®—ï¼ˆmomentumä¸€é˜¶å¯¼æ•°ï¼‰
- æ­£äº¤åŒ–è®¾è®¡ï¼ˆP2.2æ”¹è¿›ï¼‰

**å…³é”®é—®é¢˜**:
1. **ç›¸å¯¹å¼ºåº¦è®¡ç®—çš„åå·®**:
```python
# å½“å‰ä»£ç  (line 215)
slope_normalized = slope_now / avg_abs_slope  # å¯èƒ½>10

# é£é™©ï¼šæç«¯å¸ç§ï¼ˆå¦‚æ–°å¸ï¼‰çš„å†å²æ–œç‡æå°
# avg_abs_slope = 0.00001 â†’ slope_normalizedçˆ†ç‚¸ï¼ˆ>1000ï¼‰
# â†’ directional_scoreé¥±å’Œ
```

2. **å½’ä¸€åŒ–çª—å£é—®é¢˜**:
- min_historical_samples=30ï¼Œä½†å¯¹äºæ–°å¸ç§ä¸è¶³
- æ–°å¸ç§ç¬¬1å°æ—¶æ•°æ®æ— å†å²å‚è€ƒï¼Œåº”è¯¥æ€ä¹ˆåŠï¼Ÿ
- ä»£ç å›åˆ°ATRé™çº§ï¼Œä½†ATRä¹Ÿå¯èƒ½ä¸ç¨³å®š

3. **ä¸å…¶ä»–å› å­çš„å…±çº¿æ€§é£é™©**:
- Mæ•æ‰åŠ é€Ÿåº¦ï¼ŒTæ•æ‰è¶‹åŠ¿
- åœ¨å¼ºåŠ¿å¸‚åœºä¸­ï¼ŒMå’ŒTåŒå‘æ³¢åŠ¨â†’ä¿¡æ¯å†—ä½™
- éœ€è¦VIFæ£€æµ‹ï¼ˆç›®å‰æ— ï¼‰

#### å®ç°è¯„åˆ†: 7.5/10

---

### Cå› å­ - CVD (æƒé‡é…ç½®: 26%)

**è®¾è®¡è¯„åˆ†: 7.0/10** â­â­â­â­

#### è®¾è®¡åˆç†æ€§ âš ï¸
```python
# v7.3.44: Quote CVD (USDTå•ä½)
taker_buy_quote = klines[:, 10]  # ä¸»åŠ¨ä¹°å…¥æˆäº¤é¢
delta = 2 * taker_buy_quote - total_quote_vol

# æ»šåŠ¨Zæ ‡å‡†åŒ–
z_cvd = rolling_z_score(cvd, window=96, robust=True)
```

**å‘ç°çš„å‰è§†åå·®é£é™©** (P0ä¸¥é‡):

```python
# é—®é¢˜ 1: rolling_z_scoreçš„è¾¹ç•Œå¤„ç†
def rolling_z_score(values, window=96):
    result = []
    for i in range(len(values)):
        # å…³é”®é—®é¢˜ï¼šå‰96æ ¹Kçº¿æ€ä¹ˆå¤„ç†ï¼Ÿ
        hist = values[max(0, i-window):i]
        if len(hist) < window:
            # ä½¿ç”¨ä¸è¶³windowçš„å†å²æ•°æ®è®¡ç®—mean/std
            # â†’ ç»Ÿè®¡é‡ä¸ç¨³å®šï¼Œå¯¼è‡´å‰96æ ¹çš„Z-scoreå¯èƒ½åç¦»
            pass
```

**å»ºè®®çš„æ­£ç¡®åšæ³•** (Renaissanceæ ‡å‡†):
```python
def rolling_z_safe(values, window):
    result = [0.0] * window  # å‰windowä¸ªç‚¹è®¾ä¸º0
    for i in range(window, len(values)):
        hist = values[i-window:i]  # ä¸¥æ ¼ä½¿ç”¨å†å²æ•°æ®ï¼ˆä¸åŒ…æ‹¬å½“å‰ï¼‰
        mean = np.mean(hist)
        std = np.std(hist)
        z = (values[i] - mean) / (std + 1e-9)
        result.append(z)
    return result
```

**é—®é¢˜2: OIå¯¹é½**:
```python
# CVDç”¨Kçº¿æ•°æ®ï¼ŒOIç”¨å°æ—¶æ•°æ®
# align_oi_to_klines_strict çš„å®ç°æ˜¯å¦æ­£ç¡®å¯¹é½ï¼Ÿ
# è‹¥OIæ•°æ®æ¯”Kçº¿æ™šåˆ°è¾¾ï¼Œä¼šäº§ç”Ÿå‰è§†åå·®
```

**é—®é¢˜3: å¼‚å¸¸å€¼è¿‡æ»¤çš„æœ‰æ•ˆæ€§**:
```python
# v7.3.46æ·»åŠ äº†IQRå¼‚å¸¸å€¼æ£€æµ‹
outlier_weight = 0.3  # å¼‚å¸¸å€¼æƒé‡é™ä½ä¸º30%

# ä½†è¿™å¯èƒ½è¿‡åº¦å¤„ç†ï¼š
# - å•ç¬”å¤§å®—äº¤æ˜“ï¼ˆæ­£å¸¸å¸‚åœºç°è±¡ï¼‰è¢«å½“æˆå¼‚å¸¸
# - åº”è¯¥ç”¨ä½“ç§¯åŠ æƒVWAPè€Œéç®€å•é™æƒ
```

#### å®ç°è¯„åˆ†: 6.5/10

**ä¸¥é‡é—®é¢˜: CVDæƒé‡26%è¿‡é«˜**
- è‹¥CVDå‰è§†åå·®å­˜åœ¨ï¼Œåˆ™ç³»ç»Ÿæ•´ä½“å‰è§†åå·®è¾¾26%
- æ¨èæƒé‡: 20% â†’ å»ºè®®è¿›è¡Œä¸¥æ ¼çš„Walk-Forwardæµ‹è¯•

---

### Vå› å­ - é‡èƒ½ (æƒé‡é…ç½®: 11%)

**è®¾è®¡è¯„åˆ†: 6.5/10** â­â­â­

#### è®¾è®¡é—®é¢˜ âš ï¸

```python
# å¤šç©ºå¯¹ç§°ä¿®å¤ï¼ˆv2.0ï¼‰
if price_up and V_strength > 0:
    V = +V_strength   # æ”¾é‡ä¸Šæ¶¨
elif price_down and V_strength > 0:
    V = -V_strength   # æ”¾é‡ä¸‹è·Œ â­ ä¿®å¤
else:
    V = 0
```

**ç¼ºé™·åˆ†æ**:

1. **é‡èƒ½æ¿€å¢æ£€æµ‹çš„æœ‰æ•ˆæ€§é—®é¢˜**:
```python
vlevel = v5 / v20
# é—®é¢˜ï¼šv5å’Œv20çš„æ—¶é—´è·¨åº¦æ˜¯å¦é€‚å½“ï¼Ÿ
# - å¦‚æœå¸‚åœºåœ¨è¿‡å»5å°æ—¶æ¿€å¢ï¼Œä½†20å°æ—¶å‰ä¹Ÿæ›¾æ¿€å¢
#   vlevelå¯èƒ½ä¸åæ˜ çœŸå®å¼‚å¸¸

# å»ºè®®ï¼šä½¿ç”¨åŠ¨æ€é˜ˆå€¼
if vlevel < 0.8:  # ç¼©é‡
    V_strength = -50
elif vlevel < 1.2:  # æ­£å¸¸
    V_strength = 0
else:  # æ”¾é‡
    V_strength = scale(vlevel - 1.0)
```

2. **ä»·æ ¼æ–¹å‘åˆ¤å®šçš„ç¨³å®šæ€§**:
```python
# è‡ªé€‚åº”é˜ˆå€¼å®ç°äº†ï¼ˆget_adaptive_price_thresholdï¼‰
# ä½†é—®é¢˜æ˜¯ï¼šä¸­ä½æ•°æ˜¯å¦æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Ÿ
# å»ºè®®ï¼šä½¿ç”¨å››åˆ†ä½æ•°IQRï¼Œæ›´æŠ—å¼‚å¸¸å€¼
```

3. **ç¼ºå°‘ä½“ç§¯åŠ æƒ**:
- Vå› å­è§†æ‰€æœ‰Kçº¿é‡èƒ½ç›¸ç­‰
- åº”è¯¥ä½¿ç”¨ä½“ç§¯åŠ æƒæ”¶ç›Šç‡ï¼ˆæ›´å¥½çš„åº¦é‡ï¼‰

#### å®ç°è¯„åˆ†: 7.0/10 (ä»£ç æ­£ç¡®ï¼Œä½†é€»è¾‘å¯ä¼˜åŒ–)

---

### Oå› å­ - æŒä»“é‡ (æƒé‡é…ç½®: 20%)

**è®¾è®¡è¯„åˆ†: 7.5/10** â­â­â­â­

#### å…³é”®é—®é¢˜:

```python
# v2.5: ç›¸å¯¹å†å²å½’ä¸€åŒ–
notional_oi = oi_contracts * prices
slope_now = linreg(notional_oi[-lookback:])

# é—®é¢˜1ï¼šåä¹‰åŒ–å¤„ç†çš„åˆç†æ€§
# å¦‚æœBTCUSDTåˆçº¦å•ä½æ˜¯1000$ï¼Œè€ŒALTUSDTåˆçº¦å•ä½æ˜¯10$
# åä¹‰OI = contracts * price ä»ç„¶ä¸å¯æ¯”ï¼ˆä¹˜æ•°å·®å¼‚ï¼‰

# è§£å†³æ–¹æ¡ˆï¼šåº”è¯¥ä½¿ç”¨ notional_usd = contracts * multiplier * price
notional_usd = oi_data['contracts'] * oi_data['contract_size_usd'] * oi_data['price']
```

#### å®ç°è¯„åˆ†: 7.0/10

---

### Bå› å­ - åŸºå·®+èµ„é‡‘è´¹ (æƒé‡é…ç½®: 10%)

**è®¾è®¡è¯„åˆ†: 6.5/10** â­â­â­

#### è®¾è®¡ç¼ºé™·:

```python
# æƒé‡åˆ†é…
raw_score = basis_score * 0.6 + funding_score * 0.4

# é—®é¢˜ï¼šä¸ºä»€ä¹ˆ6:4ï¼Ÿç¼ºä¹ç†è®ºæ”¯æ’‘
# - åŸºå·®åæ˜ spot-futuresæº¢ä»·ï¼ˆæµåŠ¨æ€§æº¢ä»·ï¼‰
# - èµ„é‡‘è´¹åæ˜ å¤šå¤´/ç©ºå¤´åšå¼ˆï¼ˆå¸‚åœºæƒ…ç»ªï¼‰
# â†’ ä¸¤è€…ç»´åº¦å®Œå…¨ä¸åŒï¼Œæƒé‡åº”è¯¥åŠ¨æ€è°ƒæ•´

# å»ºè®®ï¼š
# åœ¨é«˜æ³¢åŠ¨å¸‚åœºï¼šfunding_weightå¢åŠ è‡³0.6ï¼ˆæƒ…ç»ªæ›´é‡è¦ï¼‰
# åœ¨ç¨³å®šå¸‚åœºï¼šbasis_weightå¢åŠ è‡³0.7ï¼ˆæµåŠ¨æ€§æº¢ä»·æ›´ç¨³å®šï¼‰
```

#### é—®é¢˜2: è‡ªé€‚åº”é˜ˆå€¼çš„æœ‰æ•ˆæ€§

```python
# v7.3.4: ç™¾åˆ†ä½è‡ªé€‚åº”
neutral_bps = percentile(abs(basis_history), 50)
extreme_bps = percentile(abs(basis_history), 90)

# é£é™©ï¼šæœ€è¿‘30å¤©çš„basisåˆ†å¸ƒå¯èƒ½ä¸æœªæ¥ä¸ç¬¦
# å»ºè®®ï¼šä½¿ç”¨æŒ‡æ•°åŠ æƒï¼ˆæœ€è¿‘æƒé‡é«˜ï¼‰
# æˆ–è€…ä½¿ç”¨EWMA (Exponential Weighted Moving Average)

def get_adaptive_basis_ewma(basis_history, span=20):
    weights = np.exp(-np.arange(len(basis_history))[::-1] / span)
    weighted_mean = np.average(np.abs(basis_history), weights=weights)
    return weighted_mean * percentile_factor
```

#### å®ç°è¯„åˆ†: 6.5/10

---

## 2ï¸âƒ£ Bå±‚è°ƒåˆ¶å™¨å®¡è®¡

### Lè°ƒåˆ¶å™¨ - æµåŠ¨æ€§ (å½±å“: position_size, cost)

**è®¾è®¡è¯„åˆ†: 8.5/10** â­â­â­â­

#### ä¼˜ç‚¹:
- ä»·æ ¼å¸¦æ³•æ›¿ä»£å›ºå®šæ¡£ä½ï¼ˆP2.5åˆ›æ–°ï¼‰
- å››é“é—¸ç³»ç»Ÿï¼ˆspread/impact/OBI/coverageï¼‰
- æƒé‡é…ç½®ç§‘å­¦ï¼ˆimpact_weight=40%æœ€å…³é”®ï¼‰

#### é—®é¢˜:
```python
# å†²å‡»æˆæœ¬è®¡ç®—ï¼ˆline 423ï¼‰
# æµ‹è¯•è®¢å•: 50,000 USDT
# impact_bps = (avg_price - mid_price) / mid_price * 10000

# é—®é¢˜ï¼š50000 USDTæ˜¯å¦è¿‡å¤§ï¼Ÿ
# - å¯¹äºå°å¸ç§ï¼Œ50Kå¯èƒ½æ˜¯24hæˆäº¤é¢çš„10%+
# - åº”è¯¥æ ¹æ®å¸ç§çš„24hæˆäº¤é‡åŠ¨æ€è°ƒæ•´
# å»ºè®®: test_usdt = 24h_volume * 1%
```

**è¯„åˆ†: 8.5/10**

---

### Sè°ƒåˆ¶å™¨ - ç»“æ„ (å½±å“: stop_loss)

**è®¾è®¡è¯„åˆ†: 6.5/10** â­â­â­

#### æ ¸å¿ƒé—®é¢˜: ZigZagç®—æ³•çš„thetaå‚æ•°

```python
# theta = base_theta * atr_now
# é—®é¢˜1ï¼šthetaä¾èµ–ATRï¼Œè€ŒATRæœ¬èº«æ³¢åŠ¨å¤§
# â†’ ZigZagçš„æ•æ„Ÿæ€§ä¸ç¨³å®š

# é—®é¢˜2ï¼štheta=0.45è¿‡å¤§ï¼Œå¯èƒ½é”™è¿‡å…³é”®ç‚¹
theta = min(atr_now * 0.45, price * 0.02)  # å»ºè®®æ·»åŠ ä¸Šé™

# é—®é¢˜3ï¼šZigZagçš„6ä¸ªå†å²ç‚¹å­˜å‚¨
# è‹¥Kçº¿å¿«é€Ÿå˜åŒ–ï¼Œ6ä¸ªç‚¹ä¸è¶³ä»¥æ•æ‰é•¿æœŸç»“æ„
zz_points = zigzag_last(H, L, C, theta, lookback=50)  # å»ºè®®å¢åŠ lookback
```

#### é—®é¢˜2: Retracementæ‰“åˆ†çš„é»„é‡‘åˆ†å‰²å‡è®¾

```python
# ä»£ç å‡è®¾retracement=50%æœ€ä¼˜
retr_ratio = ret / rng
d = abs(retr_ratio - 0.5)
retr_score = max(0.0, 1.0 - d / 0.12)

# é—®é¢˜ï¼š50%é»„é‡‘åˆ†å‰²è™½æœ‰ç†è®ºï¼Œä½†ä¸æ˜¯ä¸¥æ ¼è§„å¾‹
# - å®é™…retracementåœ¨38.2%, 50%, 61.8%éƒ½å¾ˆå¸¸è§
# - åº”è¯¥ä½¿ç”¨ä¸‰å³°åˆ†å¸ƒè€Œéå•å³°
```

**è¯„åˆ†: 6.5/10**

---

### Fè°ƒåˆ¶å™¨ - èµ„é‡‘é¢†å…ˆæ€§ (å½±å“: temperature, p_min)

**è®¾è®¡è¯„åˆ†: 8.0/10** â­â­â­â­

#### æ ¸å¿ƒå…¬å¼:
```python
F = fund_momentum - price_momentum

fund_momentum = 0.6 * cvd_6h_change + 0.4 * oi_6h_change
price_momentum = (close_now - close_6h_ago) / close_6h_ago
```

#### ä¼˜ç‚¹:
- "èµ„é‡‘æ˜¯å› ï¼Œä»·æ ¼æ˜¯æœ"çš„ç†å¿µæ­£ç¡®
- Crowding vetoï¼ˆv0.4ï¼‰é˜²æ­¢è¿½é«˜
- 6å°æ—¶çª—å£åˆç†

#### é—®é¢˜:
```python
# é—®é¢˜1: Crowding vetoçš„90åˆ†ä½é˜ˆå€¼æ˜¯å¦è¿‡ä½ï¼Ÿ
if abs(basis_history[-1]) > percentile(abs(basis_history), 90):
    F_score *= 0.5  # æƒ©ç½š50%

# å»ºè®®ï¼šåº”è¯¥æ˜¯95åˆ†ä½æˆ–98åˆ†ä½ï¼Œ90åˆ†ä½è¿‡äºçµæ•

# é—®é¢˜2: ä¸¤ä¸ªvetoåŒæ—¶è§¦å‘æ—¶
# ä»£ç : F *= 0.5 * 0.5 = 0.25
# å»ºè®®ï¼šåº”è¯¥æ˜¯åŠ æ³•é™æƒè€Œéä¹˜æ³•
if crowding_veto:
    F_score -= 30  # ç¡¬å‡30åˆ†æ›´æ˜ç¡®
```

**è¯„åˆ†: 8.0/10**

---

### Iè°ƒåˆ¶å™¨ - ç‹¬ç«‹æ€§ (å½±å“: confidence, cost)

**è®¾è®¡è¯„åˆ†: 7.5/10** â­â­â­â­

#### v7.3.2-Fullçš„ä¼˜åŒ–:

```python
# BTC-only Î²å›å½’ï¼ˆç§»é™¤ETHï¼‰
alt_ret = Î± + Î²_BTC * btc_ret + Îµ

# ä½¿ç”¨log-returnæå‡æ•°å€¼ç¨³å®šæ€§
ret = log(P_t / P_{t-1})

# 3Ïƒå»æå€¼
mask = (ret >= mean - 3*std) & (ret <= mean + 3*std)
```

#### é—®é¢˜å‘ç°:

1. **å›å½’çª—å£(24å°æ—¶)æ˜¯å¦åˆç†ï¼Ÿ**
```python
# 24å°æ—¶ = 24ä¸ª1h Kçº¿
# é—®é¢˜ï¼šæ ·æœ¬å¤ªå°‘ï¼ŒÎ²ä¼°è®¡çš„æ ‡å‡†è¯¯å·®å¤§
# Î²çš„95% CIå¯èƒ½æ˜¯ [0.8, 1.4]ï¼ˆæå®½ï¼‰
# å»ºè®®ï¼šæ‰©å±•åˆ°3-7å¤©ï¼ˆ72-168å°æ—¶ï¼‰ï¼Œæˆ–è€…ä½¿ç”¨æ»šåŠ¨å›å½’

# v7.3.2çš„è§£å†³æ–¹æ¡ˆï¼šmin_points=16ä¿æŠ¤
# é—®é¢˜ï¼š16ä¸ªæ ·æœ¬çš„Î²ä¼°è®¡RÂ²å¾€å¾€<0.3ï¼Œä¿¡å™ªæ¯”å·®
# å»ºè®®ï¼šmin_points >= 30
```

2. **log-return vs simple returnçš„æƒè¡¡**
```python
# log-returnå¥½å¤„ï¼šæœä»æ­£æ€åˆ†å¸ƒ
# log-returnåå¤„ï¼šå¯¹äºå°é¢å˜åŠ¨ï¼Œç²¾åº¦é—®é¢˜

# å»ºè®®ï¼šæ··åˆæ–¹æ¡ˆ
if price_volatility > 0.05:
    use_log_return = True  # é«˜æ³¢åŠ¨ç”¨log-return
else:
    use_log_return = False  # ä½æ³¢åŠ¨ç”¨simple return
```

3. **Iå› å­æƒé‡ä¸º0ï¼Œä½†vetoæœ‰æ•ˆ**
```python
# Iå› å­vetoè§„åˆ™ï¼ˆv7.3.2ï¼‰
if I <= 30 and abs(T_BTC) >= 60:
    if (T_alt > 0 and T_BTC < 0) or (T_alt < 0 and T_BTC > 0):
        veto = True  # é«˜Betaå¸é€†BTCå¼ºè¶‹åŠ¿

# é—®é¢˜ï¼švetoæ˜¯äºŒå€¼ï¼ˆå…¨éƒ¨æ‹’ç»ï¼‰
# å»ºè®®ï¼šæ”¹ä¸ºæ¦‚ç‡è°ƒæ•´
if I <= 30 and abs(T_BTC) >= 60:
    T_effective = T_alt * 0.5  # è½¯è°ƒæ•´è€Œéç¡¬veto
```

**è¯„åˆ†: 7.5/10**

---

## 3ï¸âƒ£ ç»¼åˆå†³ç­–é€»è¾‘å®¡è®¡

### æƒé‡é…ç½®æ£€æŸ¥

```json
// é…ç½®æ–‡ä»¶ (factors_unified.json)
"T": { "weight": 23 },
"M": { "weight": 10 },
"C+": { "weight": 26 },
"V+": { "weight": 11 },
"O+": { "weight": 20 },
"B": { "weight": 10 }
æ€»å’Œ = 100% âœ…
```

```python
# ä»£ç ä¸­çš„æƒé‡ (analyze_symbol.py)
base_weights_raw = {
    "T": 0.24,   # âŒ 23% vs 24%ä¸ä¸€è‡´
    "M": 0.17,   # âŒ 10% vs 17%ä¸ä¸€è‡´
    "C": 0.24,   # âŒ 26% vs 24%ä¸ä¸€è‡´
    ...
}
```

**P1ä¸¥é‡é—®é¢˜**: JSONé…ç½®å’Œä»£ç æƒé‡ä¸ä¸€è‡´ï¼

### ä¿¡å·ç”Ÿæˆæœºåˆ¶

```python
# composite_score = Î£(weight_i * factor_i)
composite_score = 0.24*T + 0.17*M + 0.24*C + 0.12*V + 0.17*O + 0.06*B

# é˜ˆå€¼
if composite_score > 50:
    signal = 'LONG'
elif composite_score < -50:
    signal = 'SHORT'
else:
    signal = 'NEUTRAL'
```

#### é—®é¢˜1: é˜ˆå€¼50æ˜¯å¦åˆç†ï¼Ÿ

```python
# è‹¥æ‰€æœ‰å› å­æ­£æ€åˆ†å¸ƒä¸”ç‹¬ç«‹
# composite_score ~ N(0, Ïƒ_composite)
# P(score > 50) åº”è¯¥æ˜¯å¤šå°‘ï¼Ÿ

# å‡è®¾Ïƒ_T = Ïƒ_M = ... = 25ï¼ˆæ ‡å‡†åŒ–åèŒƒå›´Â±100ï¼‰
# Ïƒ_composite = sqrt(0.24Â²*25Â² + 0.17Â²*25Â² + ...)
#             = sqrt(0.24Â² + 0.17Â² + ...) * 25
#             = sqrt(0.1545) * 25
#             â‰ˆ 9.8

# P(score > 50) = P(Z > 50/9.8) = P(Z > 5.1) â‰ˆ 0.00002 ï¼ˆæå°æ¦‚ç‡ï¼‰

# ç»“è®ºï¼š50åˆ†é˜ˆå€¼å¯¼è‡´ä¿¡å·æç¨€æœ‰
# å»ºè®®ï¼šæ ¹æ®å›æµ‹å†å²è°ƒæ•´ï¼Œç›®æ ‡å‡»ä¸­ç‡30-50%
```

#### é—®é¢˜2: è°ƒåˆ¶å™¨åº”ç”¨çš„æ—¶åºé—®é¢˜

```python
# è°ƒåˆ¶é¡ºåºï¼ˆéœ€è¦æ£€æŸ¥ä»£ç ï¼‰ï¼š
modulated_score = composite_score * (L_mult * S_mult * F_mult * I_mult)

# é—®é¢˜ï¼šä¹˜æ³•è°ƒåˆ¶ä¼šå¯¼è‡´è°ƒåˆ¶å™¨è¿‡åº¦è€¦åˆ
# å»ºè®®ï¼šä½¿ç”¨åŠ æ³•è°ƒåˆ¶
modulated_score = composite_score + (L_adjust + S_adjust + F_adjust + I_adjust)
```

**è¯„åˆ†: 6.5/10**

---

## 4ï¸âƒ£ ä¸–ç•Œé¡¶çº§æ ‡å‡†å¯¹æ¯”

### å› å­æ­£äº¤æ€§

| ç»´åº¦ | v7.3.46ç³»ç»Ÿ | Renaissanceæ ‡å‡† | å·®è· |
|-----|-----------|---------------|------|
| **VIFç›‘æ§** | âŒ æ—  | âœ… VIF<3å¼ºåˆ¶ | â­â­ |
| **PCAéªŒè¯** | âŒ æ—  | âœ… å‰3PCè§£é‡Š>90%è­¦å‘Š | â­â­ |
| **ç›¸å…³æ€§çŸ©é˜µ** | âš ï¸ æ¡†æ¶æœ‰ï¼Œæœªä½¿ç”¨ | âœ… æ¯æ—¥è®¡ç®— | â­â­â­ |

### å‰è§†åå·®é˜²æŠ¤

| ç»´åº¦ | v7.3.46ç³»ç»Ÿ | Two Sigmaæ ‡å‡† | å·®è· |
|-----|-----------|-------------|------|
| **æ—¶é—´æˆ³æ£€æŸ¥** | âš ï¸ æ‰‹åŠ¨æ£€æŸ¥ | âœ… è‡ªåŠ¨åŒ–è£…é¥°å™¨ | â­â­ |
| **è¾¹ç•Œå¤„ç†** | âš ï¸ å­˜ç–‘ | âœ… expanding window | â­â­ |
| **Walk-Forwardæµ‹è¯•** | âŒ æ—  | âœ… å¼ºåˆ¶æ‰§è¡Œ | â­ |

### ICç›‘æ§å’Œå› å­è¡°å‡

| ç»´åº¦ | v7.3.46ç³»ç»Ÿ | Citadelæ ‡å‡† | å·®è· |
|-----|-----------|-----------|------|
| **ICè®¡ç®—** | âŒ æ—  | âœ… æ¯å‘¨è®¡ç®— | â­ |
| **è¡°å‡æ›²çº¿** | âŒ æ—  | âœ… åŠè¡°æœŸç›‘æ§ | â­ |
| **è‡ªåŠ¨ç¦ç”¨** | âŒ æ—  | âœ… IC<0.03è‡ªåŠ¨ç¦ç”¨ | â­ |

### é…ç½®ç®¡ç†

| ç»´åº¦ | v7.3.46ç³»ç»Ÿ | è¡Œä¸šæ ‡å‡† | å·®è· |
|-----|-----------|--------|------|
| **é›¶ç¡¬ç¼–ç ** | âœ… æ˜¯ | âœ… æ¨è | â­â­â­â­â­ |
| **å‚æ•°ç‰ˆæœ¬æ§åˆ¶** | âš ï¸ éƒ¨åˆ† | âœ… å®Œæ•´ | â­â­â­ |
| **é™çº§ç­–ç•¥** | âœ… å®Œå–„ | âœ… æ ‡å‡† | â­â­â­â­â­ |

---

## 5ï¸âƒ£ ä¼˜å…ˆçº§æ’åºçš„ä¼˜åŒ–å»ºè®®

### P0 (ç«‹å³ä¿®å¤ - æœ¬å‘¨)

#### P0-1: å› å­æƒé‡ä¸ä¸€è‡´ä¿®å¤
**ä¼˜å…ˆçº§**: â­â­â­â­â­ (CRITICAL)
**å·¥ä½œé‡**: 2å°æ—¶
```python
# ä¿®å¤æ–¹æ¡ˆï¼šç»Ÿä¸€ä½¿ç”¨factors_unified.json
base_weights = factor_config.get_weights_dict()
# åˆ é™¤ä»£ç ä¸­çš„ç¡¬ç¼–ç æƒé‡
```

#### P0-2: CVDå‰è§†åå·®ä¿®å¤
**ä¼˜å…ˆçº§**: â­â­â­â­â­ (CRITICAL)
**å·¥ä½œé‡**: 4å°æ—¶
```python
# ä¿®å¤rolling_z_scoreè¾¹ç•Œå¤„ç†
def rolling_z_safe(values, window):
    result = [0.0] * window  # å‰windowä¸ªç‚¹ä¸º0
    for i in range(window, len(values)):
        hist = values[i-window:i]
        mean = np.mean(hist)
        std = np.std(hist) + 1e-9
        z = (values[i] - mean) / std
        result.append(z)
    return result
```

#### P0-3: VIFå¤šé‡å…±çº¿æ€§ç›‘æ§æ·»åŠ 
**ä¼˜å…ˆçº§**: â­â­â­â­â­ (CRITICAL)
**å·¥ä½œé‡**: 1å¤©
```python
# åœ¨batch_scan_optimized.pyæ·»åŠ 
class FactorVIFMonitor:
    def calculate_vif(self, factors_df):
        # è®¡ç®—æ–¹å·®è†¨èƒ€å› å­
        vif_scores = {}
        for i, col in enumerate(factors_df.columns):
            from statsmodels.stats.outliers_influence import variance_inflation_factor
            vif = variance_inflation_factor(factors_df.values, i)
            vif_scores[col] = vif
            if vif > 5:
                logger.warning(f"High VIF for {col}: {vif}")
        return vif_scores
```

#### P0-4: ICç›‘æ§ç³»ç»Ÿå®ç°
**ä¼˜å…ˆçº§**: â­â­â­â­â­ (CRITICAL)
**å·¥ä½œé‡**: 2å¤©
```python
class FactorICMonitor:
    def calculate_ic(self, factor_values, future_returns, periods=[1, 5, 20]):
        ic_results = {}
        for period in periods:
            ic = np.corrcoef(factor_values[:-period], future_returns[period:])[0,1]
            ic_results[f'IC_{period}h'] = ic
            
            if abs(ic) < 0.03:
                logger.critical(f"Low IC detected: {ic}")
                # å‘é€å‘Šè­¦
        return ic_results
```

---

### P1 (ä¼˜å…ˆä¿®å¤ - æœ¬æœˆ)

#### P1-1: å› å­æ­£äº¤åŒ–ï¼ˆGram-Schmidtï¼‰
```python
def orthogonalize_factors(T, C):
    T_norm = (T - np.mean(T)) / np.std(T)
    C_norm = (C - np.mean(C)) / np.std(C)
    
    projection = np.dot(C_norm, T_norm) / np.dot(T_norm, T_norm)
    C_orth = C_norm - projection * T_norm
    
    return T, C_orth
```

#### P1-2: åŠ¨æ€å› å­æƒé‡ï¼ˆåŸºäºå¸‚åœºçŠ¶æ€ï¼‰
```python
def get_adaptive_weights(volatility, trend_strength):
    if volatility > 0.05:  # é«˜æ³¢åŠ¨
        return {"C": 0.35, "F": 0.25, "M": 0.20, "T": 0.15, "V": 0.05}
    elif trend_strength > 60:  # å¼ºè¶‹åŠ¿
        return {"T": 0.30, "M": 0.25, "C": 0.20, "V": 0.15, "O": 0.10}
    else:  # é»˜è®¤
        return default_weights
```

#### P1-3: å› å­å½’å› ç³»ç»Ÿ
```python
class FactorAttributionAnalyzer:
    def analyze_pnl_attribution(self, returns, factors_dict):
        # Barraé£æ ¼å› å­å½’å› 
        for factor_name, factor_values in factors_dict.items():
            correlation = np.corrcoef(factor_values, returns)[0,1]
            contribution = correlation * np.std(factor_values) / np.std(returns)
            print(f"{factor_name} contribution: {contribution*100:.2f}%")
```

---

### P2 (ä¸­æœŸä¼˜åŒ– - ä¸‹å­£åº¦)

#### P2-1: å› å­å‹åŠ›æµ‹è¯•
- åœ¨2020å¹´3æœˆæš´è·Œåœºæ™¯æµ‹è¯•å› å­ç¨³å®šæ€§
- åœ¨2021å¹´5æœˆç†”æ–­åœºæ™¯æµ‹è¯•æç«¯å¸‚åœºè¡¨ç°

#### P2-2: åŠ¨æ€åŸºå·®/èµ„é‡‘è´¹æƒé‡
```python
# æ ¹æ®å¸‚åœºç¯å¢ƒè°ƒæ•´æƒé‡
if market_state == "high_leverage":
    B_weight = 0.15  # æå‡åŸºå·®æƒé‡
else:
    B_weight = 0.06  # é™ä½
```

#### P2-3: æ–°å¸ç§å¹³æ»‘å¤„ç†ä»£ç å®ç°
- ç›®å‰ä»£ç æ¡†æ¶å­˜åœ¨ä½†æœªå…¨éƒ¨å®ç°
- éœ€è¦å®Œæˆconfidence_penaltyå’Œé˜¶æ®µè¿‡æ¸¡å¹³æ»‘

---

## ğŸ“ˆ å› å­è®¾è®¡è¯„åˆ†æ±‡æ€»

| å› å­ | è®¾è®¡ | å®ç° | é…ç½® | æ€»ä½“ |
|-----|------|------|------|------|
| **T** | 8.5 | 8.0 | 9.0 | **8.5** |
| **M** | 7.5 | 7.5 | 9.0 | **8.0** |
| **C** | 7.0 | 6.5 | 8.0 | **7.2** |
| **V** | 6.5 | 7.0 | 8.5 | **7.3** |
| **O** | 7.5 | 7.0 | 8.5 | **7.7** |
| **B** | 6.5 | 6.5 | 9.0 | **7.3** |
| **L** | 8.5 | 8.0 | 9.0 | **8.5** |
| **S** | 6.5 | 6.5 | 8.0 | **7.0** |
| **F** | 8.0 | 7.5 | 8.5 | **8.0** |
| **I** | 7.5 | 7.5 | 9.0 | **8.0** |
| **å¹³å‡** | **7.35** | **7.05** | **8.65** | **7.68** |

---

## ğŸ¯ æœ€ç»ˆç»“è®º

### ç³»ç»Ÿå¼ºé¡¹
1. âœ… é…ç½®ç®¡ç†ä¸šç•Œé¢†å…ˆï¼ˆ9.0/10ï¼‰
2. âœ… é™çº§æœºåˆ¶å®Œå–„ï¼ˆ8.5/10ï¼‰
3. âœ… å› å­åˆ†å±‚è®¾è®¡ç§‘å­¦ï¼ˆ8.0/10ï¼‰
4. âœ… StandardizationChainç¨³å¥ï¼ˆ8.5/10ï¼‰

### å…³é”®å·®è·
1. âŒ ç¼ºå°‘å› å­åæ–¹å·®åˆ†æ (VIF<3å¼ºåˆ¶)
2. âŒ ç¼ºå°‘ICç›‘æ§ç³»ç»Ÿ (æ— æ³•æ£€æµ‹è¡°å‡)
3. âŒ ç¼ºå°‘å› å­å½’å› åˆ†æ (æ— æ³•è¿½è¸ªæ”¶ç›Š)
4. âš ï¸ æƒé‡é…ç½®JSON vsä»£ç ä¸ä¸€è‡´
5. âš ï¸ CVDå‰è§†åå·®é£é™©æœªå®Œå…¨æ’é™¤

### å¯¹æ ‡è¯„ä»·

**å¯¹æ ‡Renaissance/Two Sigma/Citadel**:
- **é…ç½®ç®¡ç†**: 95åˆ† âœ… è¶…è¶Šéƒ¨åˆ†é¡¶çº§åŸºé‡‘
- **å› å­è®¾è®¡**: 72åˆ† â­â­â­â­ ä¸­ä¸Šæ°´å¹³
- **é£æ§ä½“ç³»**: 55åˆ† â­â­â­ å­˜åœ¨æ˜¾è‘—gap
- **ç›‘æ§ç³»ç»Ÿ**: 35åˆ† â­â­ ä¸¥é‡ä¸è¶³
- **æ€»ä½“è¯„åˆ†**: **68/100** â­â­â­â­ è‰¯å¥½ä½†æœ‰æ”¹è¿›ç©ºé—´

### ç«‹å³è¡ŒåŠ¨å»ºè®®

**æœ¬å‘¨ä¼˜å…ˆå®Œæˆ**:
1. ä¿®å¤æƒé‡é…ç½®ä¸ä¸€è‡´(P0-1)
2. CVDå‰è§†åå·®ä¿®å¤(P0-2)
3. VIFå¤šé‡å…±çº¿æ€§ç›‘æ§(P0-3)

**æœ¬æœˆå®Œæˆ**:
4. ICç›‘æ§ç³»ç»Ÿ(P0-4)
5. å› å­æ­£äº¤åŒ–(P1-1)
6. åŠ¨æ€æƒé‡ç³»ç»Ÿ(P1-2)

**æ ¸å¿ƒåˆ¤æ–­**: ç³»ç»Ÿçš„è®¾è®¡æ€è·¯æ˜¯ä¸–ç•Œçº§çš„ï¼Œä½†æ‰§è¡Œè¿‡ç¨‹ä¸­å­˜åœ¨å…³é”®çš„ç›‘æ§ç©ºç™½ã€‚å»ºè®®ä¼˜å…ˆè¡¥é½ç›‘æ§ä½“ç³»ï¼Œè€Œä¸æ˜¯ç›²ç›®å¢åŠ å› å­æ•°é‡ã€‚

