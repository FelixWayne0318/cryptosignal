# CryptoSignal v7.3.2 ç³»ç»Ÿå¥åº·æ£€æŸ¥æŠ¥å‘Š

**æ£€æŸ¥æ—¥æœŸ**: 2025-11-15
**æ£€æŸ¥æ–¹æ³•**: CODE_HEALTH_CHECK_GUIDE.md æ–¹æ³•è®º
**æ£€æŸ¥èŒƒå›´**: é¡¶å±‚è®¾è®¡ï¼ˆç³»ç»Ÿæ¶æ„ â†’ å› å­æ¶æ„ â†’ é…ç½®ç®¡ç† â†’ è¾“å‡ºç³»ç»Ÿï¼‰
**æ£€æŸ¥äºº**: Claude (Sonnet 4.5)
**ç‰ˆæœ¬**: v7.3.2-Full

---

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

### æ€»ä½“è¯„ä¼°

| ç»´åº¦ | çŠ¶æ€ | è¯„åˆ† | è¯´æ˜ |
|------|------|------|------|
| ç³»ç»Ÿæ¶æ„ | âœ… è‰¯å¥½ | 90/100 | æ¸…æ™°çš„ç®¡é“æ¶æ„ï¼ŒèŒè´£åˆ†ç¦»æ˜ç¡® |
| 10å› å­æ¶æ„ | âš ï¸ å­˜åœ¨é—®é¢˜ | 75/100 | æ¥å£åŸºæœ¬ä¸€è‡´ï¼Œä½†å­˜åœ¨å‘½åå’Œæƒé‡é…ç½®ä¸ä¸€è‡´ |
| é…ç½®ç®¡ç† | âš ï¸ å­˜åœ¨é—®é¢˜ | 70/100 | å¤šå±‚é…ç½®ç³»ç»Ÿï¼Œä½†å­˜åœ¨é‡å¤å’Œå†²çª |
| è¾“å‡ºç³»ç»Ÿ | âœ… è‰¯å¥½ | 85/100 | å¤šæ¸ é“è¾“å‡ºï¼Œç»“æ„å®Œæ•´ï¼Œä½†å•æ–‡ä»¶è¿‡å¤§ |
| **ç»¼åˆè¯„åˆ†** | **âš ï¸ è‰¯å¥½åä¸Š** | **80/100** | **ç³»ç»Ÿå¯ç”¨ï¼Œä½†éœ€ä¼˜åŒ–é…ç½®ä¸€è‡´æ€§** |

### å…³é”®å‘ç°

**âœ… ä¼˜ç§€è®¾è®¡ (6é¡¹)**:
1. æ¸…æ™°çš„ç®¡é“æ¶æ„: setup.sh â†’ scanner â†’ pipeline â†’ factors â†’ scoring â†’ output
2. 6+4å› å­åˆ†å±‚è®¾è®¡: Aå±‚è¯„åˆ†ï¼ŒBå±‚è°ƒåˆ¶
3. ç»Ÿä¸€Â±100è¯„åˆ†ç³»ç»Ÿï¼Œä¾¿äºç†è§£å’Œå±•ç¤º
4. é›¶ç¡¬ç¼–ç ç†å¿µ: å¤šå±‚é…ç½®æ–‡ä»¶ç®¡ç†
5. è½¯çº¦æŸç³»ç»Ÿ: æ— ç¡¬æ‹’ç»ï¼Œä»…è°ƒæ•´å‚æ•°
6. å¤šæ¸ é“è¾“å‡º: Telegram + æŠ¥å‘Š + æ•°æ®åº“

**âš ï¸ éœ€æ”¹è¿›é—®é¢˜ (8é¡¹)**:
1. **P0 Critical**: å› å­æƒé‡é…ç½®ä¸‰å¤„ä¸ä¸€è‡´
2. **P1**: å› å­æ¥å£å‘½åä¸ç»Ÿä¸€ (score_* vs calculate_*)
3. **P1**: å‚æ•°å‘½åä¸ä¸€è‡´ (cfg vs params)
4. **P2**: é…ç½®æ–‡ä»¶é‡å¤ (params.json vs factors_unified.json)
5. **P2**: Bå› å­è¿”å›floatè€Œéint
6. **P2**: telegram_fmt.pyå•æ–‡ä»¶è¿‡å¤§ (91KB, 2563è¡Œ)
7. **P3**: æ•°æ®åº“schemaå¼•ç”¨è¿‡æ—¶å› å­ (MVRV)
8. **P3**: éƒ¨åˆ†ç¡¬ç¼–ç å€¼ä»å­˜åœ¨ (StandardizationChainå‚æ•°)

---

## ğŸ“Š è¯¦ç»†æ£€æŸ¥ç»“æœ

## Step 1: ç³»ç»Ÿæ¶æ„è®¾è®¡æ£€æŸ¥

### 1.1 å®Œæ•´è°ƒç”¨é“¾

```
./setup.sh (entry point)
  â†“
scripts/realtime_signal_scanner.py (scanner)
  â†“
ats_core/pipeline/batch_scan_optimized.py (batch processor)
  â†“
ats_core/pipeline/analyze_symbol.py (core analysis - 2145 lines)
  â†“
â”œâ”€ Phase 0: Quick newcoin check
â”œâ”€ Phase 1: Data acquisition (åˆ†ç¦»æ–°å¸/æˆç†Ÿå¸æµç¨‹)
â”œâ”€ Phase 2: Feature extraction
â”‚   â”œâ”€ A-Layer: T/M/C/V/O/B (6 scoring factors)
â”‚   â””â”€ B-Layer: L/S/F/I (4 modulators)
â”œâ”€ Phase 3: Scoring
â”‚   â”œâ”€ scorecard() - åŠ æƒå¹³å‡
â”‚   â””â”€ ModulatorChain - è°ƒåˆ¶å™¨åº”ç”¨
â”œâ”€ Phase 4: Signal judgment
â”‚   â””â”€ 7 Gates filtering
â””â”€ Phase 5: Output
    â”œâ”€ telegram_fmt.render_trade_v72()
    â”œâ”€ report_writer.write_scan_report()
    â””â”€ analysis_db.write_complete_signal()
```

### 1.2 æ¶æ„åˆ†å±‚

**âœ… è®¾è®¡ä¼˜ç‚¹**:
- **èŒè´£æ¸…æ™°**: æ•°æ®â†’ç‰¹å¾â†’è¯„åˆ†â†’è°ƒåˆ¶â†’è¾“å‡ºï¼Œå•å‘æµåŠ¨
- **æ–°å¸æ”¯æŒ**: å¿«é€Ÿé¢„åˆ¤+åˆ†ç¦»æ•°æ®æµï¼Œé¿å…å†—ä½™APIè°ƒç”¨
- **æ€§èƒ½ä¼˜åŒ–**: OptimizedBatchScannerå®ç°0æ¬¡APIè°ƒç”¨æ‰«æ
- **é”™è¯¯éš”ç¦»**: æ¯ä¸ªå› å­ç‹¬ç«‹try-exceptï¼Œå•ä¸ªå¤±è´¥ä¸å½±å“å…¨å±€

**âš ï¸ å‘ç°é—®é¢˜**: æ— 

### 1.3 æ–‡ä»¶è§„æ¨¡

| æ ¸å¿ƒæ–‡ä»¶ | è¡Œæ•° | è¯„ä¼° |
|---------|------|------|
| analyze_symbol.py | 2145 | âš ï¸ åå¤§ä½†ç»“æ„æ¸…æ™° |
| scorecard.py | 339 | âœ… åˆç† |
| modulator_chain.py | 795 | âœ… åˆç† |
| telegram_fmt.py | 2563 | âŒ **è¿‡å¤§ï¼Œéœ€æ‹†åˆ†** |

**è¯„åˆ†**: âœ… 90/100

---

## Step 2: 10å› å­æ¶æ„æ£€æŸ¥

### 2.1 å› å­æ¥å£ä¸€è‡´æ€§

#### A-Layer (6ä¸ªè¯„åˆ†å› å­)

| å› å­ | å‡½æ•°å | è¿”å›ç±»å‹ | å‚æ•°å | ä½ç½® | çŠ¶æ€ |
|------|--------|----------|--------|------|------|
| T (è¶‹åŠ¿) | `score_trend()` | `(int, Dict)` | `cfg` | ats_core/features/trend.py | âœ… |
| M (åŠ¨é‡) | `score_momentum()` | `(int, Dict)` | `params` | ats_core/features/momentum.py | âš ï¸ paramsä¸ä¸€è‡´ |
| C (CVD) | `score_cvd_flow()` | `(int, Dict)` | `params` | ats_core/features/cvd_flow.py | âš ï¸ paramsä¸ä¸€è‡´ |
| V (é‡èƒ½) | `score_volume()` | `(int, Dict)` | `params` | ats_core/features/volume.py | âš ï¸ paramsä¸ä¸€è‡´ |
| O (æŒä»“) | `score_open_interest()` | `(int, Dict)` | `params` | ats_core/features/open_interest.py | âš ï¸ paramsä¸ä¸€è‡´ |
| B (åŸºå·®) | `calculate_basis_funding()` | `(float, Dict)` | `params` | ats_core/factors_v2/basis_funding.py | âŒ **è¿”å›float + å‘½åä¸ä¸€è‡´** |

#### B-Layer (4ä¸ªè°ƒåˆ¶å™¨)

| å› å­ | å‡½æ•°å | è¿”å›ç±»å‹ | å‚æ•°å | ä½ç½® | çŠ¶æ€ |
|------|--------|----------|--------|------|------|
| L (æµåŠ¨æ€§) | `score_liquidity_priceband()` | `(float, Dict)` | `params` | ats_core/features/liquidity_priceband.py | âš ï¸ è¿”å›float |
| S (ç»“æ„) | `score_structure()` | `(int, Dict)` | `params` | ats_core/features/structure_sq.py | âœ… |
| F (èµ„é‡‘é¢†å…ˆ) | `score_fund_leading_v2()` | `(?, Dict)` | `params` | ats_core/features/fund_leading.py | âš ï¸ æœªç¡®è®¤ç±»å‹ |
| I (ç‹¬ç«‹æ€§) | `score_independence()` | `(int, Dict)` | `params` | ats_core/factors_v2/independence.py | âœ… |

### 2.2 å‘ç°é—®é¢˜

**P1 - æ¥å£å‘½åä¸ä¸€è‡´**:
- å¤§éƒ¨åˆ†ä½¿ç”¨ `score_*()`
- Bå› å­ä½¿ç”¨ `calculate_basis_funding()` âŒ
- å»ºè®®: ç»Ÿä¸€ä¸º `score_*()` å‘½åè§„èŒƒ

**P1 - å‚æ•°å‘½åä¸ä¸€è‡´**:
- T, O ä½¿ç”¨ `cfg`
- M, C, V, B, L, S, F, I ä½¿ç”¨ `params`
- å»ºè®®: ç»Ÿä¸€ä¸º `params`

**P2 - è¿”å›ç±»å‹ä¸ä¸€è‡´**:
- å¤§éƒ¨åˆ†è¿”å› `int` åˆ†æ•°
- B, L è¿”å› `float` åˆ†æ•°
- analyze_symbol.pyä¸­æ‰‹åŠ¨è½¬æ¢: `int(B)` (line 687)
- å»ºè®®: æ‰€æœ‰å› å­ç›´æ¥è¿”å› `int`

**P2 - æ•°æ®ç±»å‹è¦æ±‚ä¸æ˜ç¡®**:
- å¤§éƒ¨åˆ†å› å­æ¥å— `List[float]`
- Iå› å­è¦æ±‚ `np.ndarray`ï¼Œè°ƒç”¨å¤„æ‰‹åŠ¨è½¬æ¢
- å»ºè®®: æ–‡æ¡£åŒ–æˆ–ç»Ÿä¸€è¾“å…¥ç±»å‹

### 2.3 æƒé‡é…ç½®æ£€æŸ¥

**âŒ P0 Critical - æƒé‡é…ç½®ä¸‰å¤„ä¸ä¸€è‡´**:

**ä½ç½®1: params.json:131**
```json
{
  "T": 24.0,
  "M": 10.0,
  "C": 27.0,
  "V": 12.0,
  "O": 21.0,
  "B": 6.0,
  "L": 0.0,
  "S": 0.0,
  "F": 0.0,
  "I": 0.0
}
// æ€»å’Œ: T+M+C+V+O+B = 24+10+27+12+21+6 = 100% âœ…
```

**ä½ç½®2: analyze_symbol.py:643 (ç¡¬ç¼–ç fallback)**
```python
base_weights_raw = params.get("weights", {
    "T": 24.0,
    "M": 17.0,  # âŒ ä¸params.jsonä¸åŒ (10 vs 17)
    "C": 24.0,  # âŒ ä¸params.jsonä¸åŒ (27 vs 24)
    "V": 12.0,
    "O": 17.0,  # âŒ ä¸params.jsonä¸åŒ (21 vs 17)
    "B": 6.0,
    ...
})
// æ€»å’Œ: 24+17+24+12+17+6 = 100% âœ… (ä½†å€¼ä¸åŒ!)
```

**ä½ç½®3: factors_unified.json (éƒ¨åˆ†å› å­)**
```json
{
  "T": {"weight": 25},  // âŒ ä¸params.jsonä¸åŒ (24 vs 25)
  "M": {"weight": 15},  // âŒ ä¸params.jsonä¸åŒ (10 vs 15)
  "I": {"weight": 10}   // âš ï¸ Iå› å­ä¸åº”å‚ä¸è¯„åˆ†
}
```

**å½±å“åˆ†æ**:
- å®é™…è¿è¡Œä½¿ç”¨ params.json çš„æƒé‡ (é€šè¿‡ params.get("weights"))
- ä½†ä¸‰å¤„é…ç½®ä¸ä¸€è‡´ä¼šå¯¼è‡´æ··æ·†å’Œç»´æŠ¤å›°éš¾
- å»ºè®®: **é€‰æ‹©ä¸€ä¸ªé…ç½®æºä½œä¸ºæƒå¨ï¼Œåˆ é™¤å…¶ä»–ä¸¤å¤„**

**è¯„åˆ†**: âš ï¸ 75/100

---

## Step 3: é…ç½®ç®¡ç†æ¶æ„æ£€æŸ¥

### 3.1 é…ç½®æ–‡ä»¶æ¸…å•

| é…ç½®æ–‡ä»¶ | è¡Œæ•° | ç®¡ç†å™¨ | ç”¨é€” | çŠ¶æ€ |
|---------|------|--------|------|------|
| params.json | 369 | cfg.py | æ—§ç‰ˆå› å­å‚æ•°+æƒé‡ | âš ï¸ å¾…åºŸå¼ƒ |
| signal_thresholds.json | 728 | threshold_config.py | ä¿¡å·é˜ˆå€¼+é˜¶æ®µè¿‡æ¸¡ | âœ… ä¼˜ç§€ |
| factors_unified.json | 491 | factor_config.py | ç»Ÿä¸€å› å­é…ç½® | âš ï¸ ä¸params.jsoné‡å¤ |
| numeric_stability.json | 33 | runtime_config.py | æ•°å€¼ç¨³å®šæ€§epsilon | âœ… è‰¯å¥½ |
| factor_ranges.json | 70 | runtime_config.py | å› å­èŒƒå›´ | âœ… è‰¯å¥½ |
| logging.json | 27 | runtime_config.py | æ—¥å¿—æ ¼å¼ | âœ… è‰¯å¥½ |
| telegram.json | 10 | scannerç›´æ¥è¯»å– | Telegramå‡­è¯ | âœ… |
| binance_credentials.json | - | - | Binance APIå¯†é’¥ | âœ… |

**æ€»è®¡**: 8ä¸ªé…ç½®æ–‡ä»¶ï¼Œ1728è¡Œ

### 3.2 é…ç½®ç®¡ç†å™¨æ¸…å•

| ç®¡ç†å™¨ | è´Ÿè´£é…ç½® | çŠ¶æ€ |
|--------|---------|------|
| cfg.py | params.json (æ—§ç‰ˆ) | âš ï¸ v8.0è®¡åˆ’åºŸå¼ƒ |
| threshold_config.py | signal_thresholds.json | âœ… |
| factor_config.py | factors_unified.json | âœ… |
| runtime_config.py | numeric_stability + ranges + logging | âœ… |
| path_resolver.py | é…ç½®è·¯å¾„è§£æ (envæ”¯æŒ) | âœ… ä¼˜ç§€ |
| anti_jitter_config.py | é˜²æŠ–åŠ¨é…ç½® | âœ… |

### 3.3 é…ç½®ä¼˜å…ˆçº§

**path_resolver.py è·¯å¾„è§£æä¼˜å…ˆçº§**:
1. ç¯å¢ƒå˜é‡ `CRYPTOSIGNAL_CONFIG_ROOT` (æœ€é«˜)
2. å…¨å±€ç¼“å­˜ `_CONFIG_ROOT` (æ‰‹åŠ¨è®¾ç½®)
3. ç›¸å¯¹è·¯å¾„ `project_root/config` (é»˜è®¤)

âœ… **è®¾è®¡ä¼˜ç§€**: æ”¯æŒç¯å¢ƒå˜é‡è¦†ç›–ï¼Œä¾¿äºæµ‹è¯•å’Œéƒ¨ç½²

### 3.4 å‘ç°é—®é¢˜

**P0 - æƒé‡é…ç½®ä¸ä¸€è‡´** (è§Step 2.3)

**P2 - é…ç½®é‡å¤**:
- `params.json` å’Œ `factors_unified.json` éƒ½åŒ…å«å› å­å‚æ•°
- ä¾‹å¦‚: `trend`, `momentum`, `cvd_flow` ç­‰å‚æ•°æ®µè½
- å½“å‰: `params.json` ä¼˜å…ˆ (analyze_symbol.pyä½¿ç”¨ `params.get("trend", {})`)
- å»ºè®®: åºŸå¼ƒ params.jsonï¼Œç»Ÿä¸€è¿ç§»åˆ° factors_unified.json

**P3 - éƒ¨åˆ†ç¡¬ç¼–ç ä»å­˜åœ¨**:

**ç¤ºä¾‹1: basis_funding.py:30**
```python
_basis_chain = StandardizationChain(
    alpha=0.15, tau=3.0, z0=2.5, zmax=6.0, lam=1.5
)  # âŒ ç¡¬ç¼–ç ï¼Œåº”ä»configè¯»å–
```

**ç¤ºä¾‹2: basis_funding.py:95, 234-235**
```python
# Legacyæ¨¡å¼ä¸‹ä½¿ç”¨å›ºå®šé˜ˆå€¼
return 0.001, 0.002  # âš ï¸ æœ‰params.get()å…œåº•ï¼Œå¯æ¥å—
```

### 3.5 ä¼˜ç§€è®¾è®¡

**signal_thresholds.json - é˜¶æ®µå¹³æ»‘è¿‡æ¸¡**:
```json
{
  "é˜¶æ®µè¿‡æ¸¡å‚æ•°": {
    "phaseB_to_mature": {
      "transition_start": 376,
      "transition_end": 424,
      "_effect": "confidenceä»60çº¿æ€§é™è‡³15ï¼Œé¿å…æ–­å´–"
    }
  }
}
```
âœ… **ä¸–ç•Œçº§è®¾è®¡**: é¿å…ä¸´ç•Œç‚¹çªå˜ï¼Œä½¿ç”¨çº¿æ€§æ’å€¼å¹³æ»‘è¿‡æ¸¡

**è¯„åˆ†**: âš ï¸ 70/100 (é…ç½®é‡å¤å’Œä¸ä¸€è‡´é™ä½åˆ†æ•°)

---

## Step 4: è¾“å‡ºç³»ç»Ÿè®¾è®¡æ£€æŸ¥

### 4.1 è¾“å‡ºé€šé“æ¶æ„

```
analyze_symbol() â†’ result dict
  â†“
  â”œâ”€â†’ Telegram (å®æ—¶é€šçŸ¥)
  â”‚   â””â”€ telegram_fmt.render_trade_v72()
  â”‚      â†’ Bot API â†’ ç”¨æˆ·æ‰‹æœº
  â”‚
  â”œâ”€â†’ æ–‡ä»¶æŠ¥å‘Š (Gitå¯è¿½è¸ª)
  â”‚   â””â”€ report_writer.write_scan_report()
  â”‚      â”œâ”€ reports/latest/scan_summary.json
  â”‚      â”œâ”€ reports/latest/scan_summary.md
  â”‚      â”œâ”€ reports/latest/scan_detail.json
  â”‚      â””â”€ reports/history/{timestamp}_scan.json
  â”‚
  â”œâ”€â†’ åˆ†ææ•°æ®åº“ (ç»“æ„åŒ–å­˜å‚¨)
  â”‚   â””â”€ analysis_db.write_complete_signal()
  â”‚      â†’ data/analysis.db (SQLite)
  â”‚         â”œâ”€ market_data
  â”‚         â”œâ”€ factor_scores
  â”‚         â”œâ”€ signal_analysis
  â”‚         â”œâ”€ gate_evaluation
  â”‚         â”œâ”€ modulator_effects
  â”‚         â”œâ”€ signal_outcomes
  â”‚         â””â”€ scan_statistics
  â”‚
  â””â”€â†’ äº¤æ˜“å†å² (å¯é€‰ï¼ŒDATA_RECORDING_AVAILABLE)
      â””â”€ trade_recorder.record_signal()
         â†’ data/trade_history.db (SQLite)
            â”œâ”€ signal_snapshots
            â”œâ”€ execution_records
            â””â”€ outcome_tracking
```

### 4.2 è¾“å‡ºç³»ç»Ÿè¯„ä¼°

| è¾“å‡ºé€šé“ | æ–‡ä»¶ | è¡Œæ•° | ç”¨é€” | çŠ¶æ€ |
|---------|------|------|------|------|
| Telegram | telegram_fmt.py | 2563 | å®æ—¶ä¿¡å·æ¨é€ | âŒ **è¿‡å¤§** |
| æŠ¥å‘Š | report_writer.py | 127 | æ–‡ä»¶æŠ¥å‘Š | âœ… è‰¯å¥½ |
| åˆ†æDB | analysis_db.py | 1057 | å®Œæ•´åˆ†ææ•°æ® | âš ï¸ Schemaå¯èƒ½è¿‡æ—¶ |
| äº¤æ˜“DB | trade_recorder.py | 385 | äº¤æ˜“è·Ÿè¸ª | âœ… è‰¯å¥½ |

### 4.3 é˜²æŠ–åŠ¨ç³»ç»Ÿ

**anti_jitter.py**:
- è®°å½•å·²å‘é€ä¿¡å·ï¼Œé¿å…é‡å¤é€šçŸ¥
- åŸºäº (symbol, side, timestampçª—å£) å»é‡
- âœ… **è®¾è®¡è‰¯å¥½**: é˜²æ­¢ç”¨æˆ·æ”¶åˆ°é‡å¤é€šçŸ¥

### 4.4 å‘ç°é—®é¢˜

**P2 - telegram_fmt.pyè¿‡å¤§**:
- **2563è¡Œ / 91KB** - å•æ–‡ä»¶è¿‡å¤§
- åŒ…å«å¤šä¸ªæ¸²æŸ“å‡½æ•° (v6.6, v6.7, v7.2)
- å»ºè®®: æ‹†åˆ†ä¸ºå¤šä¸ªæ¨¡å—
  - `telegram_fmt_v72.py` - v7.2ç‰ˆæœ¬
  - `telegram_fmt_legacy.py` - æ—§ç‰ˆæœ¬
  - `telegram_fmt_utils.py` - å·¥å…·å‡½æ•°

**P3 - æ•°æ®åº“Schemaå¯èƒ½è¿‡æ—¶**:
- `analysis_db.py` å¼•ç”¨ `mvrv_score`, `governance_score`, `health_score`
- ä½†å½“å‰ç³»ç»Ÿåªæœ‰ T/M/C/V/O/B + L/S/F/I 10ä¸ªå› å­
- å»ºè®®: æ›´æ–°æ•°æ®åº“schemaä¸å½“å‰å› å­æ¶æ„å¯¹é½

**P3 - ç¼ºå°‘æ•°æ®æ¸…ç†ç­–ç•¥**:
- æ•°æ®åº“æŒç»­å¢é•¿ï¼Œæ— è‡ªåŠ¨æ¸…ç†æœºåˆ¶
- å»ºè®®: æ·»åŠ æ•°æ®å½’æ¡£/æ¸…ç†ç­–ç•¥ (å¦‚ä¿ç•™æœ€è¿‘30å¤©)

### 4.5 ä¼˜ç§€è®¾è®¡

**âœ… å¤šæ¸ é“è¾“å‡º**:
- Telegram: å®æ—¶æ€§
- æŠ¥å‘Š: Gitå¯è¿½è¸ªï¼Œä¾¿äºå›æº¯
- æ•°æ®åº“: ç»“æ„åŒ–æŸ¥è¯¢ï¼Œä¾¿äºç»Ÿè®¡åˆ†æ

**âœ… åˆ†ç¦»å­˜å‚¨**:
- analysis.db: åˆ†ææ•°æ® (æ‰€æœ‰æ‰«æ)
- trade_history.db: äº¤æ˜“æ•°æ® (ä»…æ‰§è¡Œçš„ä¿¡å·)
- èŒè´£æ¸…æ™°ï¼Œé¿å…è¡¨è‡ƒè‚¿

**è¯„åˆ†**: âœ… 85/100

---

## ğŸ¯ é—®é¢˜æ±‡æ€»ä¸ä¼˜å…ˆçº§

### P0 - Critical (å¿…é¡»ä¿®å¤)

#### P0-1: å› å­æƒé‡é…ç½®ä¸‰å¤„ä¸ä¸€è‡´

**é—®é¢˜æè¿°**:
- params.json: T24/M10/C27/O21/B6
- analyze_symbol.py fallback: T24/M17/C24/O17/B6
- factors_unified.json: T25/M15/I10

**å½±å“**:
- é…ç½®ç»´æŠ¤å›°éš¾ï¼Œå®¹æ˜“å‡ºé”™
- æ–°æ‰‹ä¸çŸ¥é“åº”è¯¥ä¿®æ”¹å“ªä¸ªé…ç½®

**ä¿®å¤æ–¹æ¡ˆ**:
```python
# æ­¥éª¤1: ç¡®å®šæƒå¨é…ç½®æº
# é€‰æ‹©: params.json (å½“å‰å®é™…ä½¿ç”¨)

# æ­¥éª¤2: åˆ é™¤analyze_symbol.pyç¡¬ç¼–ç fallback
# ä¿®æ”¹ä¸º: base_weights_raw = params.get("weights", {})
# å¦‚æœç¼ºå¤±ï¼ŒæŠ›å‡ºå¼‚å¸¸è€Œéä½¿ç”¨è¿‡æ—¶fallback

# æ­¥éª¤3: æ›´æ–°factors_unified.jsonä¸params.jsonä¿æŒä¸€è‡´
# æˆ–é€æ­¥è¿ç§»åˆ°factors_unified.jsonååºŸå¼ƒparams.json
```

**ä¼°ç®—å·¥ä½œé‡**: 1å°æ—¶

---

### P1 - High (å¼ºçƒˆå»ºè®®)

#### P1-1: å› å­æ¥å£å‘½åä¸ç»Ÿä¸€

**é—®é¢˜**:
- å¤§éƒ¨åˆ†: `score_*()`
- Bå› å­: `calculate_basis_funding()`

**ä¿®å¤**: é‡å‘½åä¸º `score_basis_funding()`

**å·¥ä½œé‡**: 30åˆ†é’Ÿ

---

#### P1-2: å‚æ•°å‘½åä¸ç»Ÿä¸€

**é—®é¢˜**:
- T, O ä½¿ç”¨ `cfg`
- å…¶ä»–å› å­ä½¿ç”¨ `params`

**ä¿®å¤**: ç»Ÿä¸€ä¸º `params`

**å·¥ä½œé‡**: 1å°æ—¶

---

### P2 - Medium (å»ºè®®ä¿®å¤)

#### P2-1: é…ç½®æ–‡ä»¶é‡å¤

**é—®é¢˜**: params.json å’Œ factors_unified.json é‡å¤

**ä¿®å¤æ–¹æ¡ˆ**: é€æ­¥è¿ç§»åˆ° factors_unified.jsonï¼ŒåºŸå¼ƒ params.json

**å·¥ä½œé‡**: 4å°æ—¶

---

#### P2-2: telegram_fmt.pyå•æ–‡ä»¶è¿‡å¤§

**é—®é¢˜**: 2563è¡Œ

**ä¿®å¤**: æ‹†åˆ†ä¸ºå¤šä¸ªæ¨¡å—

**å·¥ä½œé‡**: 2å°æ—¶

---

#### P2-3: Bå› å­è¿”å›floatè€Œéint

**é—®é¢˜**: ä¸ä¸€è‡´

**ä¿®å¤**: ä¿®æ”¹è¿”å›ç±»å‹ä¸ºint

**å·¥ä½œé‡**: 30åˆ†é’Ÿ

---

### P3 - Low (å¯é€‰ä¼˜åŒ–)

#### P3-1: æ•°æ®åº“schemaè¿‡æ—¶

**é—®é¢˜**: å¼•ç”¨ä¸å­˜åœ¨çš„å› å­ (MVRVç­‰)

**ä¿®å¤**: æ›´æ–°schema

**å·¥ä½œé‡**: 2å°æ—¶

---

#### P3-2: éƒ¨åˆ†ç¡¬ç¼–ç ä»å­˜åœ¨

**é—®é¢˜**: StandardizationChainå‚æ•°ç¡¬ç¼–ç 

**ä¿®å¤**: ç§»è‡³é…ç½®æ–‡ä»¶

**å·¥ä½œé‡**: 1å°æ—¶

---

## ğŸ“ˆ æ”¹è¿›å»ºè®®è·¯çº¿å›¾

### çŸ­æœŸ (1å‘¨å†…)

1. **P0-1: ä¿®å¤æƒé‡é…ç½®ä¸ä¸€è‡´** â­ æœ€é«˜ä¼˜å…ˆçº§
   - ç¡®å®šæƒå¨é…ç½®æº
   - åˆ é™¤å†²çªé…ç½®
   - æ·»åŠ é…ç½®éªŒè¯

2. **P1-1, P1-2: ç»Ÿä¸€å› å­æ¥å£**
   - ç»Ÿä¸€å‘½åè§„èŒƒ
   - ç»Ÿä¸€å‚æ•°å
   - æ›´æ–°æ–‡æ¡£

### ä¸­æœŸ (2-4å‘¨)

3. **P2-1: é…ç½®æ–‡ä»¶æ•´åˆ**
   - è¿ç§»åˆ° factors_unified.json
   - åºŸå¼ƒ params.json
   - å‘åå…¼å®¹è¿‡æ¸¡æœŸ

4. **P2-2: æ‹†åˆ†telegram_fmt.py**
   - æŒ‰ç‰ˆæœ¬æ‹†åˆ†
   - æå–å…¬å…±å·¥å…·

### é•¿æœŸ (1-2ä¸ªæœˆ)

5. **P3-1: æ›´æ–°æ•°æ®åº“schema**
   - å¯¹é½å½“å‰å› å­æ¶æ„
   - æ·»åŠ æ•°æ®è¿ç§»è„šæœ¬

6. **P3-2: æ¶ˆé™¤æ‰€æœ‰ç¡¬ç¼–ç **
   - å…¨é¢é…ç½®åŒ–
   - é›¶ç¡¬ç¼–ç å®¡è®¡

---

## âœ… ç³»ç»Ÿä¼˜ç§€è®¾è®¡æ€»ç»“

### ä¸–ç•Œçº§è®¾è®¡äº®ç‚¹

1. **é˜¶æ®µå¹³æ»‘è¿‡æ¸¡ç³»ç»Ÿ** (signal_thresholds.json)
   - çº¿æ€§æ’å€¼é¿å…ä¸´ç•Œç‚¹çªå˜
   - å‚è€ƒè®ºæ–‡çº§åˆ«çš„è®¾è®¡

2. **6+4å› å­æ¶æ„**
   - Aå±‚æ–¹å‘è¯„åˆ†ï¼ŒBå±‚å‚æ•°è°ƒåˆ¶
   - èŒè´£åˆ†ç¦»æ¸…æ™°ï¼Œæ˜“äºç†è§£

3. **ç»Ÿä¸€Â±100è¯„åˆ†ç³»ç»Ÿ**
   - æ­£æ•°=çœ‹å¤šï¼Œè´Ÿæ•°=çœ‹ç©º
   - ç®€å•ç›´è§‚ï¼Œç¬¦åˆç›´è§‰

4. **è½¯çº¦æŸç³»ç»Ÿ**
   - æ— ç¡¬æ‹’ç»ï¼Œä»…è°ƒæ•´å‚æ•°
   - æ›´ç¬¦åˆé‡‘èå¸‚åœºè¿ç»­æ€§

5. **ç¯å¢ƒå˜é‡æ”¯æŒ** (path_resolver.py)
   - æ”¯æŒ CRYPTOSIGNAL_CONFIG_ROOT
   - ä¾¿äºæµ‹è¯•å’Œå¤šç¯å¢ƒéƒ¨ç½²

6. **å¤šæ¸ é“è¾“å‡º**
   - Telegram(å®æ—¶) + æŠ¥å‘Š(å¯è¿½è¸ª) + æ•°æ®åº“(å¯åˆ†æ)
   - è¦†ç›–ä¸åŒä½¿ç”¨åœºæ™¯

---

## ğŸ“š æ–‡æ¡£å»ºè®®

å»ºè®®è¡¥å……ä»¥ä¸‹æ–‡æ¡£:

1. **å› å­æ¥å£è§„èŒƒ** (`standards/FACTOR_INTERFACE_STANDARD.md`)
   - å‘½åè§„èŒƒ
   - å‚æ•°è§„èŒƒ
   - è¿”å›å€¼è§„èŒƒ

2. **é…ç½®ç®¡ç†æŒ‡å—** (`docs/CONFIG_MANAGEMENT_GUIDE.md`)
   - é…ç½®æ–‡ä»¶æ¸…å•
   - ä¼˜å…ˆçº§è¯´æ˜
   - ä¿®æ”¹æµç¨‹

3. **è¾“å‡ºç³»ç»Ÿæ–‡æ¡£** (`docs/OUTPUT_SYSTEM.md`)
   - è¾“å‡ºé€šé“è¯´æ˜
   - æ•°æ®åº“schema
   - æŠ¥å‘Šæ ¼å¼

---

## ğŸ“ æ€»ç»“

### ç³»ç»Ÿå¥åº·åº¦è¯„ä¼°

**æ€»åˆ†**: 80/100 (è‰¯å¥½åä¸Š)

**ä¼˜åŠ¿**:
- âœ… æ¶æ„æ¸…æ™°ï¼ŒèŒè´£åˆ†ç¦»
- âœ… å› å­ç³»ç»Ÿè®¾è®¡å…ˆè¿›
- âœ… é…ç½®ç®¡ç†æ€è·¯æ­£ç¡®
- âœ… è¾“å‡ºç³»ç»Ÿå®Œå¤‡

**ä¸»è¦é—®é¢˜**:
- âŒ é…ç½®ä¸€è‡´æ€§å·® (æƒé‡ã€å‚æ•°)
- âš ï¸ æ¥å£è§„èŒƒä¸ç»Ÿä¸€
- âš ï¸ éƒ¨åˆ†ä»£ç æ–‡ä»¶è¿‡å¤§

### å»ºè®®

**ç«‹å³è¡ŒåŠ¨** (P0):
- ä¿®å¤æƒé‡é…ç½®ä¸ä¸€è‡´

**è¿‘æœŸä¼˜åŒ–** (P1):
- ç»Ÿä¸€å› å­æ¥å£å‘½åå’Œå‚æ•°

**é•¿æœŸæ”¹è¿›** (P2-P3):
- æ•´åˆé…ç½®æ–‡ä»¶
- æ‹†åˆ†å¤§æ–‡ä»¶
- æ›´æ–°æ•°æ®åº“schema

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-11-15
**æ£€æŸ¥å·¥å…·ç‰ˆæœ¬**: Claude Code v7.3.2
**æŠ¥å‘Šç‰ˆæœ¬**: v1.0
**ç½®ä¿¡åº¦**: 95%
