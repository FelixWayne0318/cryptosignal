# P2.5æµåŠ¨æ€§ä»·æ ¼å¸¦æ³•å®ç°æŠ¥å‘Š

**æ—¥æœŸ**: 2025-11-05
**ä¼˜å…ˆçº§**: ğŸ”´ é«˜ï¼ˆä¸“å®¶å»ºè®®ï¼‰
**çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶æµ‹è¯•

---

## ğŸ¯ é—®é¢˜èƒŒæ™¯

### ä¸“å®¶åé¦ˆ

ç”¨æˆ·è¯¢é—®ï¼š"ç›®å‰è®¢å•è–„è¿˜æ˜¯è·å–20æ¡£å—ï¼Ÿä¸“å®¶è¯´çš„å¥½åƒä¸æ˜¯è¿™æ ·çš„ï¼Œæˆ‘è¿è¡Œçš„æ—¶å€™è¿˜æ˜¯æ˜¾ç¤ºè·å–20æ¡£ã€‚"

ç»ç¡®è®¤ï¼Œä¸“å®¶å»ºè®®çš„æ˜¯ï¼š

> **3) Lï¼ˆæµåŠ¨æ€§ï¼‰å¿…é¡»æ”¹æˆ"ä»·æ ¼å¸¦æ³•"**
>
> ä¸è¦å†ç”¨"å‰ 10 æ¡£/20 æ¡£"ã€‚å…¨éƒ¨åˆ‡æ¢åˆ° Â±bps èšåˆï¼š
> - Coverage(q,B)ã€impact_bps(q)ã€OBI_B åœ¨ Â±B bps å†…è®¡ç®—ï¼ˆB=30â€“50 å®ç›˜æœ€æœ‰ç”¨ï¼‰
> - ä½ çš„"å››é“é—¸"ï¼ˆimpactâ‰¤10bpsã€OBIâ‰¤0.30ã€ç‚¹å·®â‰¤25bpsã€Roomâ‰¥0.6Ã—ATRï¼‰å¯ç›´æ¥ç”¨è¿™å¥—å£å¾„ï¼Œä¿¡å·â€”æ‰§è¡Œä¸€è‡´

### æ—§æ–¹æ³•çš„é—®é¢˜

**æ–‡ä»¶**: `ats_core/factors_v2/liquidity.py`

**é—®é¢˜**:
```python
# æ—§æ–¹æ³•ï¼šä½¿ç”¨å›ºå®šæ¡£ä½æ•°
depth_levels = params.get('orderbook_depth_levels', 10)
bids = orderbook['bids'][:depth_levels]  # åªå–å‰10æ¡£
asks = orderbook['asks'][:depth_levels]  # åªå–å‰10æ¡£
```

**ç¼ºé™·**:
1. **ä¸è€ƒè™‘ä»·æ ¼è·ç¦»** - ç¬¬10æ¡£å¯èƒ½è·ç¦»ä¸­é—´ä»·å¾ˆè¿œï¼ŒåŒ…å«ä¸ç›¸å…³çš„æµåŠ¨æ€§
2. **ä¸ä¸€è‡´æ€§** - BTCçš„10æ¡£ä»·æ ¼èŒƒå›´ vs å±±å¯¨å¸çš„10æ¡£ä»·æ ¼èŒƒå›´å·®å¼‚å·¨å¤§
3. **ä¸æ‰§è¡Œè„±èŠ‚** - å®é™…äº¤æ˜“ä¸æ˜¯æŒ‰"æ¡£ä½æ•°"æ‰§è¡Œï¼Œè€Œæ˜¯æŒ‰ä»·æ ¼èŒƒå›´æ‰§è¡Œ
4. **æ— æ³•å¯¹é½å››é“é—¸** - ä¸“å®¶å»ºè®®çš„å››é“é—¸éƒ½æ˜¯åŸºäºbpsï¼Œè€Œéæ¡£ä½æ•°

---

## âœ… è§£å†³æ–¹æ¡ˆï¼šä»·æ ¼å¸¦æ³•

### æ ¸å¿ƒæ€æƒ³

ä¸å†ä½¿ç”¨å›ºå®šæ¡£ä½æ•°ï¼ˆ10æ¡£ã€20æ¡£ï¼‰ï¼Œæ”¹ç”¨**ä»·æ ¼å¸¦èšåˆ**ï¼š
- å®šä¹‰ä»·æ ¼å¸¦å®½åº¦ Bï¼ˆå•ä½ï¼šbpsï¼‰
- ä¹°ç›˜ï¼šèšåˆ `[midÃ—(1-B/10000), mid]` èŒƒå›´å†…çš„æ‰€æœ‰è®¢å•
- å–ç›˜ï¼šèšåˆ `[mid, midÃ—(1+B/10000)]` èŒƒå›´å†…çš„æ‰€æœ‰è®¢å•
- æ‰€æœ‰æµåŠ¨æ€§æŒ‡æ ‡åœ¨ä»·æ ¼å¸¦å†…è®¡ç®—

### å…³é”®æŒ‡æ ‡

#### 1. Coverage(q,B) - è¦†ç›–åº¦

**å®šä¹‰**: ç›®æ ‡æ•°é‡ q èƒ½å¦åœ¨ Â±B bps ä»·æ ¼å¸¦å†…å®Œå…¨è¢«å¸æ”¶

**ç”¨é€”**: åˆ¤æ–­ä»·æ ¼å¸¦å†…æµåŠ¨æ€§æ˜¯å¦å……è¶³

**å®ç°**:
```python
def calculate_coverage(levels, target_qty, mid_price, band_bps, side):
    # èšåˆä»·æ ¼å¸¦å†…çš„æ•°é‡
    total_qty = aggregate_within_band(levels, mid_price, band_bps, side)
    covered = total_qty >= target_qty
    return covered, total_qty
```

#### 2. impact_bps(q) - ä»·æ ¼å†²å‡»

**å®šä¹‰**: æ‰§è¡Œ q USDT è®¢å•çš„å®é™…ä»·æ ¼å†²å‡»ï¼ˆbpsï¼‰

**ç”¨é€”**: è¡¡é‡æ‰§è¡Œæˆæœ¬ï¼Œå¯¹é½"å››é“é—¸"ä¸­çš„ impactâ‰¤10bps

**å®ç°**:
```python
def calculate_impact_bps(levels, notional_usdt, mid_price, side):
    # é€æ¡£åƒå•ï¼Œè®¡ç®—å¹³å‡æˆäº¤ä»·
    avg_exec_price = simulate_execution(levels, notional_usdt)
    impact_bps = ((avg_exec_price - mid_price) / mid_price) * 10000
    return impact_bps
```

#### 3. OBI_B - ä»·æ ¼å¸¦å†…è®¢å•ç°¿å¤±è¡¡åº¦

**å®šä¹‰**: ä»·æ ¼å¸¦å†…ä¹°å–ç›˜æ•°é‡çš„å¤±è¡¡ç¨‹åº¦

**å…¬å¼**: `OBI = (bid_qty - ask_qty) / (bid_qty + ask_qty)`

**ç”¨é€”**:
- å¯¹é½"å››é“é—¸"ä¸­çš„ OBIâ‰¤0.30
- |OBI| > 0.30 è¡¨ç¤ºæµåŠ¨æ€§å¤±è¡¡

**å®ç°**:
```python
def calculate_obi_in_band(bids, asks, mid_price, band_bps):
    bid_qty = aggregate_within_band(bids, mid_price, band_bps, 'bid')
    ask_qty = aggregate_within_band(asks, mid_price, band_bps, 'ask')
    obi_value = (bid_qty - ask_qty) / (bid_qty + ask_qty)
    return obi_value
```

#### 4. Spread - ä¹°å–ä»·å·®

**å…¬å¼**: `spread_bps = (ask - bid) / mid * 10000`

**ç”¨é€”**: å¯¹é½"å››é“é—¸"ä¸­çš„ spreadâ‰¤25bps

---

## ğŸ“¦ å®ç°ç»†èŠ‚

### æ–°æ–‡ä»¶ï¼š`ats_core/features/liquidity_priceband.py`

**æ ¸å¿ƒå‡½æ•°**:

```python
def score_liquidity_priceband(orderbook, params):
    """
    ä½¿ç”¨ä»·æ ¼å¸¦æ³•è®¡ç®—æµåŠ¨æ€§è¯„åˆ†

    å‚æ•°:
        band_bps: ä»·æ ¼å¸¦å®½åº¦ï¼ˆé»˜è®¤40 bpsï¼Œä¸“å®¶å»ºè®®30-50ï¼‰
        impact_notional_usdt: å†²å‡»æµ‹è¯•è§„æ¨¡ï¼ˆé»˜è®¤50,000 USDTï¼‰
        impact_threshold_bps: å†²å‡»é˜ˆå€¼ï¼ˆé»˜è®¤10 bpsï¼Œå¯¹é½å››é“é—¸ï¼‰
        obi_threshold: OBIé˜ˆå€¼ï¼ˆé»˜è®¤0.30ï¼Œå¯¹é½å››é“é—¸ï¼‰
        spread_threshold_bps: ä»·å·®é˜ˆå€¼ï¼ˆé»˜è®¤25 bpsï¼Œå¯¹é½å››é“é—¸ï¼‰

    è¿”å›:
        (liquidity_score 0-100, metadata)
    """
```

**è¯„åˆ†é€»è¾‘**:
- **Spreadæƒé‡**: 25% - ä»·å·®è¶Šå°è¶Šå¥½
- **Impactæƒé‡**: 40% - å†²å‡»æˆæœ¬æœ€å…³é”®
- **OBIæƒé‡**: 20% - å¤±è¡¡åº¦è¦ä½
- **Coverageæƒé‡**: 15% - ä»·æ ¼å¸¦å†…è¦†ç›–åº¦

### é›†æˆä¿®æ”¹

#### 1. `ats_core/pipeline/analyze_symbol.py`

```python
# OLD
from ats_core.factors_v2.liquidity import calculate_liquidity

# NEW (P2.5)
from ats_core.features.liquidity_priceband import score_liquidity_priceband as calculate_liquidity
```

#### 2. `config/params.json`

```json
"liquidity": {
  "_comment": "P2.5ä¿®å¤ï¼šä»·æ ¼å¸¦æ³•ï¼ˆÂ±bpsèšåˆï¼‰ï¼Œå¯¹é½ä¸“å®¶å»ºè®®å’Œå››é“é—¸",
  "band_bps": 40.0,
  "impact_notional_usdt": 50000.0,
  "impact_threshold_bps": 10.0,
  "obi_threshold": 0.30,
  "spread_threshold_bps": 25.0,
  "spread_weight": 0.25,
  "impact_weight": 0.40,
  "obi_weight": 0.20,
  "coverage_weight": 0.15
}
```

#### 3. Orderbookè·å–æ·±åº¦

**ä¿®æ”¹**: 4ä¸ªæ–‡ä»¶ï¼Œç»Ÿä¸€ä½¿ç”¨ `limit=100`ï¼ˆä¸æ˜¯1000ï¼Œè€Œæ˜¯è¶³å¤Ÿçš„æ·±åº¦ï¼‰

- `ats_core/pipeline/analyze_symbol.py:1323`
- `ats_core/pipeline/batch_scan_optimized.py:259`
- `ats_core/sources/binance.py:231`
- `ats_core/data/unified_data_manager.py:317`

**åŸå› **:
- 100æ¡£æä¾›è¶³å¤Ÿæ·±åº¦ç”¨äºä»·æ ¼å¸¦åˆ†æ
- ä¸éœ€è¦1000æ¡£ï¼ˆè¯¯è§£ï¼‰
- ä»·æ ¼å¸¦æ³•ä¼šè‡ªåŠ¨ç­›é€‰ä»·æ ¼å¸¦å†…çš„æ¡£ä½

---

## ğŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯•æ–‡ä»¶ï¼š`diagnose/test_priceband_integration.py`

**åœºæ™¯1: BTCå…¸å‹æµåŠ¨æ€§ï¼ˆä¼˜ç§€ï¼‰**
```
ğŸ“Š è¯„åˆ†ç»“æœ: 100 / 100
ğŸšª å››é“é—¸æ£€æµ‹: 3/3 é€šè¿‡
  âœ… impactâ‰¤10bps: 0.00 bps
  âœ… OBIâ‰¤0.30: 0.000
  âœ… spreadâ‰¤25bps: 1.00 bps

ğŸ“¦ ä»·æ ¼å¸¦åˆ†æ:
  ä»·æ ¼å¸¦å®½åº¦: Â±40 bps
  ä¹°ç›˜ï¼ˆå¸¦å†…ï¼‰: 338.00 å¸
  å–ç›˜ï¼ˆå¸¦å†…ï¼‰: 338.00 å¸
```

**åœºæ™¯2: å±±å¯¨å¸ä½æµåŠ¨æ€§ï¼ˆè¾ƒå·®ï¼‰**
```
ğŸ“Š è¯„åˆ†ç»“æœ: 20 / 100
ğŸšª å››é“é—¸æ£€æµ‹: 1/3 é€šè¿‡
  âŒ impactâ‰¤10bps: 1000.00 bps (æ·±åº¦ä¸è¶³)
  âœ… OBIâ‰¤0.30: 0.000
  âŒ spreadâ‰¤25bps: 198.02 bps (ä»·å·®è¿‡å¤§)
```

**åœºæ™¯3: æç«¯å¤±è¡¡ï¼ˆä¹°ç›˜ä¼˜åŠ¿ï¼‰**
```
ğŸ“Š è¯„åˆ†ç»“æœ: 80 / 100
ğŸšª å››é“é—¸æ£€æµ‹: 2/3 é€šè¿‡
  âœ… impactâ‰¤10bps: 0.00 bps
  âŒ OBIâ‰¤0.30: 0.885 (ä¸¥é‡å¤±è¡¡)
  âœ… spreadâ‰¤25bps: 1.00 bps
```

**ç»“è®º**: âœ… ä»·æ ¼å¸¦æ³•å‡†ç¡®è¯†åˆ«ä¸åŒæµåŠ¨æ€§è´¨é‡ï¼Œå››é“é—¸åˆ¤æ–­å‡†ç¡®

---

## ğŸ“Š å¯¹æ¯”ï¼šæ—§æ–¹æ³• vs ä»·æ ¼å¸¦æ³•

| ç»´åº¦ | æ—§æ–¹æ³•ï¼ˆå›ºå®šæ¡£ä½ï¼‰ | ä»·æ ¼å¸¦æ³•ï¼ˆÂ±bpsèšåˆï¼‰ |
|------|-------------------|---------------------|
| **åŸºå‡†** | æ¡£ä½æ•°ï¼ˆ10/20æ¡£ï¼‰ | ä»·æ ¼è·ç¦»ï¼ˆÂ±40bpsï¼‰ |
| **BTCåœºæ™¯** | å‰10æ¡£å¯èƒ½åªè¦†ç›–Â±10bps | è¦†ç›–Â±40bpså†…æ‰€æœ‰æ¡£ä½ |
| **å±±å¯¨å¸åœºæ™¯** | å‰10æ¡£å¯èƒ½è¦†ç›–Â±500bps | è¦†ç›–Â±40bpså†…æ‰€æœ‰æ¡£ä½ |
| **ä¸€è‡´æ€§** | âŒ ä¸åŒå¸ç§å·®å¼‚å·¨å¤§ | âœ… ç»Ÿä¸€ä»·æ ¼è·ç¦»æ ‡å‡† |
| **ä¸æ‰§è¡Œå¯¹é½** | âŒ æ¡£ä½æ•°ä¸å®é™…æ‰§è¡Œæ— å…³ | âœ… ç›´æ¥å¯¹åº”æ‰§è¡Œä»·æ ¼èŒƒå›´ |
| **å››é“é—¸** | âŒ æ— æ³•å¯¹é½ï¼ˆæ¡£ä½æ•° vs bpsï¼‰ | âœ… å®Œå…¨å¯¹é½ï¼ˆéƒ½åŸºäºbpsï¼‰ |
| **ä¸“å®¶å»ºè®®** | âŒ æ˜ç¡®è¦æ±‚æ›¿æ¢ | âœ… å®Œå…¨ç¬¦åˆå»ºè®® |

---

## ğŸšª å››é“é—¸å®Œæ•´å®ç°

æ ¹æ®ä¸“å®¶å»ºè®®ï¼Œå››é“é—¸åˆ¤æ–­é€»è¾‘ï¼š

### ç¬¬1é“é—¸: impact â‰¤ 10 bps

```python
max_impact_bps = max(buy_impact_bps, sell_impact_bps)
gate_impact = (max_impact_bps <= 10.0)
```

**å«ä¹‰**: æ‰§è¡Œ50,000 USDTè®¢å•çš„ä»·æ ¼å†²å‡»ä¸è¶…è¿‡10 bps

### ç¬¬2é“é—¸: OBI â‰¤ 0.30

```python
obi_value = calculate_obi_in_band(bids, asks, mid_price, band_bps)
gate_obi = (abs(obi_value) <= 0.30)
```

**å«ä¹‰**: ä»·æ ¼å¸¦å†…ä¹°å–ç›˜å¤±è¡¡åº¦ä¸è¶…è¿‡30%

### ç¬¬3é“é—¸: spread â‰¤ 25 bps

```python
spread_bps = calculate_spread_bps(best_bid, best_ask)
gate_spread = (spread_bps <= 25.0)
```

**å«ä¹‰**: ä¹°å–ä»·å·®ä¸è¶…è¿‡25 bps

### ç¬¬4é“é—¸: Room â‰¥ 0.6Ã—ATR

**çŠ¶æ€**: å¾…å®ç°ï¼ˆéœ€è¦ATRæ•°æ®ï¼‰

**å«ä¹‰**: è·ç¦»å…³é”®é˜»åŠ›/æ”¯æ’‘ä½çš„ç©ºé—´å……è¶³

---

## ğŸ“ å…ƒæ•°æ®è¾“å‡º

æ–°çš„æµåŠ¨æ€§è¯„åˆ†ä¼šè¿”å›è¯¦ç»†çš„å…ƒæ•°æ®ï¼ŒåŒ…æ‹¬ï¼š

```python
metadata = {
    'liquidity_score': 100,
    'liquidity_level': 'excellent',
    'band_bps': 40.0,

    # Spread
    'spread_bps': 1.0,
    'spread_score': 100.0,
    'spread_threshold_bps': 25.0,

    # Impact
    'buy_impact_bps': 0.0,
    'sell_impact_bps': 0.0,
    'max_impact_bps': 0.0,
    'impact_score': 100.0,
    'impact_threshold_bps': 10.0,

    # OBI
    'obi_value': 0.0,
    'obi_score': 100.0,
    'obi_threshold': 0.30,
    'bid_qty_in_band': 338.0,
    'ask_qty_in_band': 338.0,

    # Coverage
    'buy_covered': True,
    'sell_covered': True,
    'both_covered': True,
    'coverage_score': 100.0,

    # å››é“é—¸
    'gates_passed': 3,
    'gates_status': '3/3 (impact=True, OBI=True, spread=True)',
    'gate_impact': True,
    'gate_obi': True,
    'gate_spread': True,

    # åŸºç¡€ä¿¡æ¯
    'best_bid': 50000.0,
    'best_ask': 50005.0,
    'mid_price': 50002.5
}
```

**ç”¨é€”**:
- ç”µæŠ¥æ¶ˆæ¯å¯ä»¥æ˜¾ç¤ºå››é“é—¸é€šè¿‡æƒ…å†µ
- è°ƒè¯•æ—¶å¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„ä»·æ ¼å¸¦åˆ†æ
- åç»­å¯ä»¥ç”¨äºæ‰§è¡Œä¼˜åŒ–

---

## ğŸš€ éƒ¨ç½²æ¸…å•

### Gitæäº¤è®°å½•

```bash
å¾…æäº¤æ–‡ä»¶:
  æ–°å¢: ats_core/features/liquidity_priceband.py
  æ–°å¢: diagnose/test_priceband_integration.py
  ä¿®æ”¹: ats_core/pipeline/analyze_symbol.py (å¯¼å…¥åˆ‡æ¢)
  ä¿®æ”¹: ats_core/pipeline/batch_scan_optimized.py (limit=100)
  ä¿®æ”¹: ats_core/sources/binance.py (limit=100)
  ä¿®æ”¹: ats_core/data/unified_data_manager.py (limit=100)
  ä¿®æ”¹: config/params.json (liquidityå‚æ•°æ›´æ–°)
  æ–°å¢: docs/analysis/P2.5_PRICEBAND_LIQUIDITY_REPORT.md
```

### éƒ¨ç½²æ­¥éª¤ï¼ˆæœåŠ¡å™¨ç«¯ï¼‰

```bash
cd ~/cryptosignal

# 1. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin claude/reorganize-repo-structure-011CUomirnKLtuiKaVqz6RpL

# 2. æ¸…ç†Pythonç¼“å­˜
find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null || true
find . -name "*.pyc" -delete 2>/dev/null || true

# 3. éªŒè¯ä»·æ ¼å¸¦æ³•å®ç°
python3 diagnose/test_priceband_integration.py

# 4. é‡å¯æœåŠ¡
./auto_restart.sh

# 5. æŸ¥çœ‹æ—¥å¿—ï¼ˆç­‰å¾…1-2åˆ†é’Ÿï¼‰
tail -f logs/scanner_*.log | head -50
```

---

## ğŸ“Š é¢„æœŸæ•ˆæœ

### ç”µæŠ¥æ¶ˆæ¯æ”¹è¿›ï¼ˆé¢„æœŸï¼‰

**ä¹‹å‰**:
```
æµåŠ¨æ€§: è‰¯å¥½ (æ·±åº¦: 10æ¡£)
```

**ä¹‹å**:
```
æµåŠ¨æ€§: ä¼˜ç§€ (100/100)
  ä»·å·®: 1.0 bps âœ…
  å†²å‡»: 0.0 bps âœ…
  å¤±è¡¡: 0.0 âœ…
  å››é“é—¸: 3/3é€šè¿‡ ğŸšª
```

### æ ¸å¿ƒæ”¹è¿›

1. **ä¸€è‡´æ€§**: BTCå’Œå±±å¯¨å¸ä½¿ç”¨ç»Ÿä¸€çš„ä»·æ ¼è·ç¦»æ ‡å‡†ï¼ˆÂ±40bpsï¼‰
2. **å‡†ç¡®æ€§**: ç›´æ¥è®¡ç®—æ‰§è¡Œæˆæœ¬ï¼Œä¸å®é™…äº¤æ˜“å¯¹é½
3. **å¯è§£é‡Šæ€§**: å››é“é—¸æ¸…æ™°å±•ç¤ºæµåŠ¨æ€§è´¨é‡
4. **ä¸“å®¶å¯¹é½**: å®Œå…¨ç¬¦åˆä¸“å®¶å»ºè®®ï¼Œä¿¡å·-æ‰§è¡Œä¸€è‡´

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. å‚æ•°è°ƒæ•´

- **band_bps**: é»˜è®¤40 bpsï¼Œä¸“å®¶å»ºè®®30-50èŒƒå›´
  - BTC/ETH: å¯ä»¥ç”¨30 bpsï¼ˆæµåŠ¨æ€§å¥½ï¼‰
  - å±±å¯¨å¸: å»ºè®®ç”¨50 bpsï¼ˆæµåŠ¨æ€§å·®ï¼‰

- **impact_notional_usdt**: é»˜è®¤50,000 USDT
  - æ ¹æ®å®é™…äº¤æ˜“è§„æ¨¡è°ƒæ•´
  - è¿‡å¤§å¯èƒ½å¯¼è‡´å¤§å¤šæ•°å¸ç§å¤±è´¥

### 2. ç¬¬4é“é—¸ï¼ˆRoomï¼‰

- å½“å‰æœªå®ç°ï¼Œéœ€è¦ATRæ•°æ®
- åç»­å¯ä»¥åœ¨ä¿¡å·ç”Ÿæˆæ—¶æ·»åŠ 

### 3. å…¼å®¹æ€§

- æ—§çš„`liquidity.py`ä¿ç•™ï¼Œæœªåˆ é™¤
- å¦‚éœ€å›é€€ï¼Œä¿®æ”¹`analyze_symbol.py`å¯¼å…¥å³å¯
- æµ‹è¯•æ–‡ä»¶å¯èƒ½éœ€è¦æ›´æ–°

---

## ğŸ“ æ€»ç»“

### å®ŒæˆçŠ¶æ€

- âœ… P2.5.1: ä»·æ ¼å¸¦èšåˆå‡½æ•°å®ç°
- âœ… P2.5.2: Coverage(q,B)è®¡ç®—
- âœ… P2.5.3: impact_bps(q)è®¡ç®—
- âœ… P2.5.4: OBI_Bè®¡ç®—
- âœ… P2.5.5: å››é“é—¸å¯¹é½ï¼ˆ3/4ï¼ŒRoomå¾…å®ç°ï¼‰
- âœ… P2.5.6: å‚æ•°é…ç½®æ›´æ–°
- âœ… P2.5.7: é›†æˆæµ‹è¯•éªŒè¯
- âœ… P2.5.8: æ–‡æ¡£å®Œæ•´

### ä¸‹ä¸€æ­¥

1. **ç«‹å³**: éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼Œè§‚å¯Ÿå®é™…è¿è¡Œæ•ˆæœ
2. **çŸ­æœŸ**: æ”¶é›†åé¦ˆï¼Œå¾®è°ƒå‚æ•°ï¼ˆband_bps, impact_thresholdç­‰ï¼‰
3. **ä¸­æœŸ**: å®ç°ç¬¬4é“é—¸ï¼ˆRoom â‰¥ 0.6Ã—ATRï¼‰
4. **é•¿æœŸ**: æ ¹æ®å®ç›˜æ•°æ®è¿›ä¸€æ­¥ä¼˜åŒ–æƒé‡

---

**å®Œæˆæ—¶é—´**: 2025-11-05 14:30 UTC
**é¢„è®¡éƒ¨ç½²æ—¶é—´**: 5åˆ†é’Ÿ
**é¢„è®¡è§‚å¯Ÿå‘¨æœŸ**: 1-2å°æ—¶
