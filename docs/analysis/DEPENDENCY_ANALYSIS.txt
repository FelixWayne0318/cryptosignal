
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         CRYPTOSIGNAL v7.2 - COMPLETE CODE DEPENDENCY ANALYSIS              â•‘
â•‘                  ä» setup.sh å¼€å§‹çš„å®Œæ•´å¯åŠ¨æµç¨‹è¿½è¸ª                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â–ˆ PART 1: STARTUP FLOW OVERVIEW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

entry point:
    setup.sh
    â”œâ”€ pip3 install -r requirements.txt
    â”œâ”€ python3 scripts/init_databases.py
    â”‚  â”œâ”€ ats_core.data.trade_recorder.get_recorder()
    â”‚  â””â”€ ats_core.data.analysis_db.get_analysis_db()
    â””â”€ nohup python3 scripts/realtime_signal_scanner.py --interval 300
       â””â”€ RealtimeSignalScanner(main execution class)


â–ˆ PART 2: MAIN ENTRY POINT - realtime_signal_scanner.py
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Key Functions:
  â€¢ RealtimeSignalScanner.__init__(): Initialize scanner with config
  â€¢ RealtimeSignalScanner.initialize(): Async init
  â€¢ RealtimeSignalScanner.scan_once(): Execute single scan
  â€¢ RealtimeSignalScanner.run_periodic(): Loop scan with interval
  â€¢ RealtimeSignalScanner._apply_v72_enhancements(): Enhance results
  â€¢ RealtimeSignalScanner._filter_prime_signals_v72(): Filter signals
  â€¢ RealtimeSignalScanner._send_signals_to_telegram_v72(): Send notifications

Core Configuration:
  - config/telegram.json (Signal publishing config)
  - config/signal_thresholds.json (v7.2 gate thresholds)
  - config/factors_unified.json (Factor weights)


â–ˆ PART 3: DIRECT IMPORTS FROM realtime_signal_scanner.py
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Level 0 Direct Imports:
  1. ats_core.pipeline.batch_scan_optimized
     â””â”€ OptimizedBatchScanner: Main batch scanning engine
        - WebSocket-based real-time data collection (0 API calls/scan)
        - 200 symbol scan in 12-15 seconds

  2. ats_core.logging
     â””â”€ log, warn, error: Unified logging system

  3. ats_core.outputs.telegram_fmt
     â””â”€ render_trade_v72(): Format signals for Telegram (v7.2 enhanced)

  4. ats_core.pipeline.analyze_symbol_v72
     â””â”€ analyze_with_v72_enhancements(): Apply v7.2 analysis
        - Få› å­ v2 calculation
        - Four-gate evaluation
        - Confidence scoring
        - Statistical calibration

  5. ats_core.publishing.anti_jitter
     â””â”€ AntiJitter: Signal deduplication system
        - Prevent duplicate notifications
        - Cooldown management

  6. ats_core.config.anti_jitter_config
     â””â”€ get_config(): Load AntiJitter configuration

  7. ats_core.data.trade_recorder [OPTIONAL]
     â””â”€ get_recorder(): Record signal snapshots to database

  8. ats_core.data.analysis_db [OPTIONAL]
     â””â”€ get_analysis_db(): Store complete signal analysis


â–ˆ PART 4: COMPLETE DEPENDENCY TREE (4-level depth)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

BATCH_SCAN_OPTIMIZED (ats_core/pipeline/batch_scan_optimized.py)
â”œâ”€ ats_core.execution.binance_futures_client â†’ get_binance_client()
â”‚  â””â”€ ats_core.sources.binance â†’ Binance API wrapper
â”‚
â”œâ”€ ats_core.data.realtime_kline_cache â†’ get_kline_cache()
â”‚  â””â”€ WebSocket real-time data feed
â”‚
â”œâ”€ ats_core.pipeline.analyze_symbol â†’ analyze_symbol_with_preloaded_klines()
â”‚  â”œâ”€ ats_core.factors_v2.basis_funding
â”‚  â”œâ”€ ats_core.factors_v2.independence
â”‚  â”œâ”€ ats_core.features.accumulation_detection
â”‚  â”œâ”€ ats_core.features.cvd
â”‚  â”œâ”€ ats_core.features.liquidity_priceband
â”‚  â”œâ”€ ats_core.features.multi_timeframe
â”‚  â”œâ”€ ats_core.modulators.modulator_chain
â”‚  â”œâ”€ ats_core.scoring.probability
â”‚  â”œâ”€ ats_core.scoring.probability_v2
â”‚  â”œâ”€ ats_core.scoring.scorecard
â”‚  â””â”€ ats_core.execution.stop_loss_calculator
â”‚
â””â”€ ats_core.analysis.scan_statistics â†’ Data collection


ANALYZE_SYMBOL_V72 (ats_core/pipeline/analyze_symbol_v72.py)
â”œâ”€ ats_core.pipeline.analyze_symbol (Extended)
â”œâ”€ ats_core.cfg â†’ Configuration values
â”œâ”€ ats_core.scoring.probability_v2 â†’ Probability calibration
â”œâ”€ ats_core.scoring.adaptive_weights â†’ Dynamic weight adjustment
â””â”€ ats_core.scoring.scoring_utils â†’ Utility functions


TELEGRAM_FMT (ats_core/outputs/telegram_fmt.py)
â”œâ”€ ats_core.logging
â””â”€ Message formatting functions


ANTI_JITTER (ats_core/publishing/anti_jitter.py)
â”œâ”€ ats_core.config.anti_jitter_config
â””â”€ Signal deduplication logic


â–ˆ PART 5: ACTIVE vs UNUSED MODULES BREAKDOWN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ACTIVE MODULES (34 files - 32.4% usage):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Core Pipeline & Analysis:
  âœ… ats_core/pipeline/batch_scan_optimized.py (Main scanner)
  âœ… ats_core/pipeline/analyze_symbol.py (Symbol analysis)
  âœ… ats_core/pipeline/analyze_symbol_v72.py (v7.2 enhancement)

Data & Storage:
  âœ… ats_core/data/realtime_kline_cache.py (WebSocket cache)
  âœ… ats_core/data/trade_recorder.py (Signal recording)
  âœ… ats_core/data/analysis_db.py (Complete analysis storage)
  âœ… ats_core/data/quality.py (Data quality checks)

Execution & Connection:
  âœ… ats_core/execution/binance_futures_client.py (Binance connection)
  âœ… ats_core/execution/stop_loss_calculator.py (Risk management)
  âœ… ats_core/execution/metrics_estimator.py (Performance metrics)

Factors (v2):
  âœ… ats_core/factors_v2/basis_funding.py (Basis & funding rates)
  âœ… ats_core/factors_v2/independence.py (Independence index)

Features:
  âœ… ats_core/features/accumulation_detection.py (Accumulation detection)
  âœ… ats_core/features/cvd.py (Cumulative Volume Delta)
  âœ… ats_core/features/liquidity_priceband.py (Liquidity analysis)
  âœ… ats_core/features/multi_timeframe.py (Multi-timeframe analysis)

Gates:
  âœ… ats_core/gates/integrated_gates.py (Four-gate system)

Modulators:
  âœ… ats_core/modulators/fi_modulators.py (Factor modulators)
  âœ… ats_core/modulators/modulator_chain.py (Modulator chain)

Scoring:
  âœ… ats_core/scoring/probability.py (Base probability)
  âœ… ats_core/scoring/probability_v2.py (Calibrated probability)
  âœ… ats_core/scoring/scorecard.py (Signal scorecard)
  âœ… ats_core/scoring/adaptive_weights.py (Weight adjustment)
  âœ… ats_core/scoring/scoring_utils.py (Scoring utilities)
  âœ… ats_core/scoring/expected_value.py (EV calculation)

Publishing:
  âœ… ats_core/publishing/anti_jitter.py (Signal deduplication)

Output:
  âœ… ats_core/outputs/telegram_fmt.py (Telegram formatting)

Configuration:
  âœ… ats_core/config/anti_jitter_config.py (AntiJitter config)

Sources:
  âœ… ats_core/sources/binance.py (Binance data source)

Utilities:
  âœ… ats_core/utils/outlier_detection.py (Outlier filtering)

Infrastructure:
  âœ… ats_core/logging.py (Logging system)
  âœ… ats_core/cfg.py (Central configuration)
  âœ… ats_core/backoff.py (Retry mechanism)

Analysis:
  âœ… ats_core/analysis/scan_statistics.py (Statistics tracking)


UNUSED MODULES (71 files - 67.6% of codebase):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ ANALYSIS MODULES (2 files):
  âŒ ats_core/analysis/__init__.py
  âŒ ats_core/analysis/report_writer.py (Legacy reporting)

âš ï¸ CALIBRATION MODULES (1 file):
  âŒ ats_core/calibration/empirical_calibration.py (Superseded by probability_v2)

âš ï¸ CONFIG MODULES (3 files):
  âŒ ats_core/config/__init__.py
  âŒ ats_core/config/factor_config.py (Legacy factor config)
  âŒ ats_core/config/threshold_config.py (Superseded by signal_thresholds.json)

âš ï¸ DATA MODULES (4 files):
  âŒ ats_core/data/__init__.py
  âŒ ats_core/data/binance_async_client.py (Replaced by binance_futures_client)
  âŒ ats_core/data/binance_websocket_client.py (Legacy WebSocket)
  âŒ ats_core/data/unified_data_manager.py (Superseded by optimized batch scanner)

âš ï¸ DATA FEEDS (2 files):
  âŒ ats_core/data_feeds/__init__.py
  âŒ ats_core/data_feeds/newcoin_data.py (New coin detection - removed)
  âŒ ats_core/data_feeds/ws_newcoin.py (New coin WebSocket - removed)

âš ï¸ DATABASE (3 files):
  âŒ ats_core/database/__init__.py
  âŒ ats_core/database/models.py (Legacy ORM models)
  âŒ ats_core/database/operations.py (Legacy DB operations)

âš ï¸ EXECUTION MODULES (5 files):
  âŒ ats_core/execution/__init__.py
  âŒ ats_core/execution/auto_trader.py (Trade execution - not implemented)
  âŒ ats_core/execution/position_manager.py (Position mgmt - not used)
  âŒ ats_core/execution/settlement_guard.py (Settlement guard - not used)
  âŒ ats_core/execution/signal_executor.py (Signal executor - not used)

âš ï¸ FACTORS_V2 (5 files):
  âŒ ats_core/factors_v2/__init__.py
  âŒ ats_core/factors_v2/cvd_enhanced.py (Superseded by features/cvd)
  âŒ ats_core/factors_v2/liquidity.py (Superseded by features/liquidity_priceband)
  âŒ ats_core/factors_v2/oi_regime.py (Not implemented)
  âŒ ats_core/factors_v2/volume_trigger.py (Deprecated)

âš ï¸ FEATURES (18 files):
  âŒ ats_core/features/__init__.py
  âŒ ats_core/features/accel.py (Acceleration - deprecated)
  âŒ ats_core/features/advanced_scoring.py (Legacy scoring)
  âŒ ats_core/features/cvd_flow.py (Superseded)
  âŒ ats_core/features/environment.py (Market environment - removed)
  âŒ ats_core/features/fund_leading.py (Fund leading - removed)
  âŒ ats_core/features/funding_rate.py (Partial, superseded by basis_funding)
  âŒ ats_core/features/market_regime.py (Market regime - not used)
  âŒ ats_core/features/microconfirm_15m.py (Legacy confirmation)
  âŒ ats_core/features/momentum.py (Legacy momentum)
  âŒ ats_core/features/open_interest.py (OI - not actively used)
  âŒ ats_core/features/orderbook_depth.py (Orderbook analysis - not used)
  âŒ ats_core/features/pricing.py (Pricing logic - partial)
  âŒ ats_core/features/risk_filters.py (Risk filters - replaced by gates)
  âŒ ats_core/features/scoring_utils.py (Legacy utilities)
  âŒ ats_core/features/structure_sq.py (Structure analysis - not used)
  âŒ ats_core/features/ta_core.py (Technical analysis - not used)
  âŒ ats_core/features/trend.py (Trend analysis - not used)
  âŒ ats_core/features/volume.py (Volume analysis - partial)

âš ï¸ GATES (1 file):
  âŒ ats_core/gates/__init__.py (Superseded by gates/integrated_gates)

âš ï¸ MODULATORS (1 file):
  âŒ ats_core/modulators/__init__.py

âš ï¸ OUTPUTS (1 file):
  âŒ ats_core/outputs/publisher.py (Legacy publisher - not used)

âš ï¸ PIPELINE (3 files):
  âŒ ats_core/pipeline/__init__.py (implicit)
  âŒ ats_core/pipeline/gates.py (Old gate system)
  âŒ ats_core/pipeline/main.py (Legacy entry point)
  âŒ ats_core/pipeline/market_wide_scanner.py (Market-wide - not used)

âš ï¸ PUBLISHING (1 file):
  âŒ ats_core/publishing/calibration.py (Calibration - not active)

âš ï¸ RISK (1 file):
  âŒ ats_core/risk/risk_manager.py (Risk management - not implemented)

âš ï¸ RL (1 file):
  âŒ ats_core/rl/dynamic_stop_loss.py (Reinforcement learning - not used)

âš ï¸ SCORING (1 file):
  âŒ ats_core/scoring/factor_groups.py (Factor grouping - not used)

âš ï¸ SHADOW (4 files):
  âŒ ats_core/shadow/__init__.py
  âŒ ats_core/shadow/comparator.py (Shadow mode comparison)
  âŒ ats_core/shadow/config.py (Shadow config)
  âŒ ats_core/shadow/logger.py (Shadow logger)

âš ï¸ SOURCES (4 files):
  âŒ ats_core/sources/binance_safe.py (Safe wrapper - legacy)
  âŒ ats_core/sources/klines.py (Kline fetcher - legacy)
  âŒ ats_core/sources/oi.py (OI fetcher - not used)
  âŒ ats_core/sources/tickers.py (Ticker fetcher - not used)

âš ï¸ STREAMING (1 file):
  âŒ ats_core/streaming/websocket_client.py (Legacy WebSocket - superseded)

âš ï¸ TOOLS/ANTI_OVERFITTING (3 files):
  âŒ ats_core/tools/anti_overfitting/__init__.py
  âŒ ats_core/tools/anti_overfitting/cross_validator.py (Not implemented)
  âŒ ats_core/tools/anti_overfitting/factor_correlation.py (Analysis tool)
  âŒ ats_core/tools/anti_overfitting/ic_monitor.py (IC monitoring)

âš ï¸ UTILS (3 files):
  âŒ ats_core/utils/__init__.py
  âŒ ats_core/utils/adaptive_params.py (Parameter adaptation - not used)
  âŒ ats_core/utils/factor_normalizer.py (Normalization - not used)
  âŒ ats_core/utils/rate_limiter.py (Rate limiting - not used)


â–ˆ PART 6: CRITICAL CONFIGURATION FILES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ESSENTIAL CONFIGS (Required for operation):
  ğŸ“„ config/binance_credentials.json (REQUIRED)
     - Binance API keys
     - Used by: ats_core/execution/binance_futures_client.py

  ğŸ“„ config/telegram.json (REQUIRED for notifications)
     - Telegram bot token
     - Chat ID for signal publishing
     - Enable/disable flag

  ğŸ“„ config/signal_thresholds.json (ACTIVE)
     - v7.2 gate thresholds
     - Confidence score calibration
     - EV calculation parameters
     - AntiJitter settings

  ğŸ“„ config/factors_unified.json (ACTIVE)
     - Factor definitions and weights
     - Adaptive weight configuration
     - Feature parameters
     - Data source configuration

SECONDARY CONFIGS (Legacy/Optional):
  âŒ config/params.json (LEGACY - Superseded by factors_unified.json)
  ğŸ“„ config/shadow.json (ACTIVE - Used by shadow_runner.py)


â–ˆ PART 7: DATA PERSISTENCE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RUNTIME DATABASES:
  ğŸ“ data/
    ğŸ“Š cryptosignal.db
       - Default database (fallback)
       - Used by: trade_recorder, analysis_db
    
    ğŸ“Š trade_history.db
       - TradeRecorder database
       - Tables: signal_snapshots, trade_results
       - Created by: init_databases.py
       - Used by: realtime_signal_scanner.py
    
    ğŸ“Š analysis.db
       - AnalysisDB database
       - Tables: market_data, factor_scores, signal_analysis,
                 gate_evaluation, modulator_effects, signal_outcomes,
                 scan_statistics (v7.2)
       - Created by: init_databases.py
       - Used by: realtime_signal_scanner.py

DATA CACHE:
    ğŸ“ data/backtest/cache/
       - Historical OHLCV data cache
       - Used by: backtesting systems
       - Not used by: realtime_signal_scanner.py

STATISTICS:
    ğŸ“Š data/ev_stats.json
       - EV calculation statistics
       - Diagnostic file


â–ˆ PART 8: SCRIPT EXECUTION MAP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PRIMARY EXECUTABLE SCRIPTS:
  1. setup.sh [MAIN ENTRY]
     â””â”€ Orchestrates initial setup
        â”œâ”€ Environment checks
        â”œâ”€ Dependency installation
        â”œâ”€ Database initialization
        â””â”€ Launches realtime_signal_scanner.py

  2. scripts/realtime_signal_scanner.py [CORE RUNTIME]
     â””â”€ Main signal scanning service
        â”œâ”€ Single scan mode
        â”œâ”€ Periodic scan mode (--interval)
        â”œâ”€ Data recording (optional)
        â”œâ”€ Telegram notifications (optional)
        â””â”€ Auto-restart capability

  3. scripts/init_databases.py [SETUP UTILITY]
     â””â”€ Database initialization
        â”œâ”€ Creates trade_history.db
        â”œâ”€ Creates analysis.db
        â””â”€ Verifies table structures

SECONDARY SCRIPTS (Utility):
  4. scripts/shadow_runner.py [SHADOW MODE]
     â””â”€ Parallel signal comparison system
        â”œâ”€ Compares current vs. previous analysis
        â”œâ”€ Used for validation and debugging

  5. scripts/view_database.py [DIAGNOSTIC]
     â””â”€ Database inspection tool
        â”œâ”€ View signal history
        â”œâ”€ Query analysis results

  6. scripts/query_stats.py [DIAGNOSTIC]
     â””â”€ Query system statistics
        â”œâ”€ View collection status
        â”œâ”€ Performance metrics

  7. scripts/diagnose_network.py [DIAGNOSTIC]
     â””â”€ Network connectivity check
        â”œâ”€ Binance connection test
        â”œâ”€ WebSocket connectivity


â–ˆ PART 9: ACTUAL RUNTIME FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Sequence of Operations:
  
  1. INITIALIZATION PHASE
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ RealtimeSignalScanner.__init__()        â”‚
     â”‚  â”œâ”€ Load Telegram config                â”‚
     â”‚  â”œâ”€ Initialize AntiJitter system        â”‚
     â”‚  â”œâ”€ Initialize TradeRecorder (optional) â”‚
     â”‚  â””â”€ Initialize AnalysisDB (optional)    â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ RealtimeSignalScanner.initialize()      â”‚
     â”‚  â””â”€ OptimizedBatchScanner.initialize()  â”‚
     â”‚     â”œâ”€ Connect to Binance WebSocket     â”‚
     â”‚     â”œâ”€ Fetch symbol universe            â”‚
     â”‚     â””â”€ Warm up kline cache (200 syms)   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              Takes 3-4 minutes
  
  2. PERIODIC SCANNING PHASE
     Every --interval seconds:
     
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ RealtimeSignalScanner.scan_once()       â”‚
     â”‚  â”œâ”€ OptimizedBatchScanner.scan()        â”‚
     â”‚  â”‚  â”œâ”€ Fetch 200 symbols via WebSocket  â”‚ (0 API calls)
     â”‚  â”‚  â”œâ”€ Calculate technical factors      â”‚ (12-15 sec total)
     â”‚  â”‚  â””â”€ Detect trade signals             â”‚
     â”‚  â”‚                                      â”‚
     â”‚  â”œâ”€ For each signal:                    â”‚
     â”‚  â”‚  â”œâ”€ apply_v72_enhancements()         â”‚
     â”‚  â”‚  â”‚  â””â”€ Enhanced probability/EV calc  â”‚
     â”‚  â”‚  â”œâ”€ record_signal_snapshot()         â”‚
     â”‚  â”‚  â””â”€ write_complete_signal()          â”‚
     â”‚  â”‚                                      â”‚
     â”‚  â”œâ”€ filter_prime_signals_v72()          â”‚
     â”‚  â”‚  â”œâ”€ Check all_gates_passed = True    â”‚
     â”‚  â”‚  â”œâ”€ Check confidence >= min_score    â”‚
     â”‚  â”‚  â””â”€ Apply AntiJitter deduplication   â”‚
     â”‚  â”‚                                      â”‚
     â”‚  â””â”€ For each Prime signal:              â”‚
     â”‚     â”œâ”€ render_trade_v72()               â”‚
     â”‚     â””â”€ telegram_send_wrapper()          â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              Takes 12-20 seconds per cycle


â–ˆ PART 10: SUMMARY TABLE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Component Category        Status  Files  Key Module
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Scanning Engine           âœ… ACTIVE  3   batch_scan_optimized.py
Symbol Analysis           âœ… ACTIVE  3   analyze_symbol.py, analyze_symbol_v72.py
Data Collection           âœ… ACTIVE  4   realtime_kline_cache.py, trade_recorder.py
Binance Connection        âœ… ACTIVE  1   binance_futures_client.py
Factor Calculation        âœ… ACTIVE  7   factors_v2/*, features/*
Scoring & Probability     âœ… ACTIVE  6   scoring/*.py
Gates & Filtering         âœ… ACTIVE  2   integrated_gates.py, anti_jitter.py
Output Formatting         âœ… ACTIVE  1   telegram_fmt.py
Signal Recording          âœ… ACTIVE  2   trade_recorder.py, analysis_db.py
Infrastructure            âœ… ACTIVE  4   logging.py, cfg.py, backoff.py, quality.py

Trading Execution         âŒ UNUSED  5   auto_trader.py, position_manager.py
Legacy Connectors         âŒ UNUSED  3   binance_websocket_client.py, etc.
Legacy Analysis           âŒ UNUSED 18   accel.py, momentum.py, trend.py, etc.
Legacy Scoring            âŒ UNUSED  4   empirical_calibration.py, etc.
Legacy Database           âŒ UNUSED  3   database/models.py, etc.
Utilities/Tools           âŒ UNUSED  7   adaptive_params.py, rate_limiter.py, etc.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TOTAL: 34 ACTIVE / 71 UNUSED (32.4% usage rate)


â–ˆ PART 11: KEY FINDINGS & RECOMMENDATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CRITICAL ACTIVE COMPONENTS:
  âœ… batch_scan_optimized.py - Optimized WebSocket scanning engine
  âœ… analyze_symbol_v72.py - v7.2 signal analysis with enhanced calibration
  âœ… integrated_gates.py - Four-gate filtering system
  âœ… trade_recorder.py + analysis_db.py - Data persistence
  âœ… anti_jitter.py - Signal deduplication to prevent spam

DEPRECATED & CANDIDATES FOR REMOVAL:
  âŒ ats_core/execution/ (5 files) - Trading execution modules not implemented
  âŒ ats_core/features/ (18 files) - Mostly legacy factor definitions
  âŒ ats_core/database/ (3 files) - Superseded by trade_recorder/analysis_db
  âŒ ats_core/streaming/ (1 file) - Superseded by realtime_kline_cache
  âŒ ats_core/data_feeds/ (2 files) - New coin detection removed
  âŒ config/params.json - Superseded by factors_unified.json

RECOMMENDED CLEANUP:
  1. Archive or delete unused execution modules (not used)
  2. Consolidate legacy feature definitions into a "deprecated" folder
  3. Remove old database models (replaced by SQLite-based approach)
  4. Clean up __init__.py files in unused directories

PERFORMANCE CHARACTERISTICS:
  â€¢ Initialization: 3-4 minutes (first time WebSocket warmup)
  â€¢ Scan cycle: 12-15 seconds (200 symbols, 0 API calls)
  â€¢ Signal check: ~50ms per symbol
  â€¢ Data retention: Unlimited (SQLite local storage)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
END OF DEPENDENCY ANALYSIS REPORT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
