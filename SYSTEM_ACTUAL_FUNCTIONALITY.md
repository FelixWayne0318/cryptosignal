# CryptoSignal ç³»ç»Ÿå®žé™…åŠŸèƒ½æ€»ç»“

**ç”Ÿæˆæ—¥æœŸ**: 2025-10-27
**åˆ†æžç‰ˆæœ¬**: v2.0 (åŸºäºŽä»£ç å®žé™…ä½¿ç”¨æƒ…å†µ)

---

## ðŸ“Š ç³»ç»ŸçœŸå®žæž¶æž„ï¼ˆåŸºäºŽä»£ç å®žé™…è°ƒç”¨ï¼‰

### 1. æ ¸å¿ƒåˆ†æžå¼•æ“Ž (ACTIVE - V1ç³»ç»Ÿ)

#### ä¸»è¦å…¥å£
- **`ats_core/pipeline/analyze_symbol.py`** âœ… ä¸»åŠ›åˆ†æžå¼•æ“Ž
  - è¢«28ä¸ªæ–‡ä»¶ä¸»åŠ¨è°ƒç”¨
  - 7+1ç»´åº¦åˆ†æžç³»ç»Ÿï¼ˆT/M/C/V/S/O/E + Fè°ƒèŠ‚å™¨ï¼‰
  - ç»Ÿä¸€Â±100è¯„åˆ†ä½“ç³»

#### å› å­è®¡ç®—æ¨¡å— (V1 - ç”Ÿäº§çŽ¯å¢ƒ)
```
ats_core/features/
â”œâ”€â”€ trend.py           âœ… Tå› å­ï¼ˆè¶‹åŠ¿ï¼‰- ç”Ÿäº§ä½¿ç”¨
â”œâ”€â”€ momentum.py        âœ… Må› å­ï¼ˆåŠ¨é‡ï¼‰- ç”Ÿäº§ä½¿ç”¨
â”œâ”€â”€ cvd.py             âœ… CVDæ ¸å¿ƒè®¡ç®—
â”œâ”€â”€ cvd_flow.py        âœ… Cå› å­ï¼ˆèµ„é‡‘æµï¼‰- ç”Ÿäº§ä½¿ç”¨
â”œâ”€â”€ volume.py          âœ… Vå› å­ï¼ˆæˆäº¤é‡ï¼‰- ç”Ÿäº§ä½¿ç”¨
â”œâ”€â”€ structure_sq.py    âœ… Så› å­ï¼ˆç»“æž„ï¼‰- ç”Ÿäº§ä½¿ç”¨
â”œâ”€â”€ open_interest.py   âœ… Oå› å­ï¼ˆæŒä»“é‡ï¼‰- ç”Ÿäº§ä½¿ç”¨
â”œâ”€â”€ environment.py     âœ… Eå› å­ï¼ˆçŽ¯å¢ƒï¼‰- ç”Ÿäº§ä½¿ç”¨
â”œâ”€â”€ fund_leading.py    âœ… Få› å­ï¼ˆè°ƒèŠ‚å™¨ï¼‰- ç”Ÿäº§ä½¿ç”¨
â”œâ”€â”€ ta_core.py         âœ… æŠ€æœ¯åˆ†æžæ ¸å¿ƒ
â”œâ”€â”€ scoring_utils.py   âœ… ç»Ÿä¸€è¯„åˆ†å·¥å…·
â”œâ”€â”€ market_regime.py   âœ… å¸‚åœºçŠ¶æ€è¯†åˆ«
â”œâ”€â”€ pricing.py         âœ… ä»·æ ¼è®¡ç®—
â”œâ”€â”€ microconfirm_15m.py â“ å¾®è§‚ç¡®è®¤ï¼ˆæœªéªŒè¯ç”Ÿäº§ä½¿ç”¨ï¼‰
â”œâ”€â”€ multi_timeframe.py  â“ å¤šæ—¶é—´æ¡†æž¶ï¼ˆæœªéªŒè¯ç”Ÿäº§ä½¿ç”¨ï¼‰
â””â”€â”€ accel.py           âŒ Aå› å­ï¼ˆå·²å¼ƒç”¨ï¼Œä½†ä»å­˜åœ¨ï¼‰
```

**å®žé™…ä½¿ç”¨**: 7+1ç»´åº¦ï¼ˆT/M/C/V/S/O/E + Fï¼‰

---

### 2. å®žéªŒæ€§æ¨¡å— (V2ç³»ç»Ÿ - æœªæŠ•å…¥ç”Ÿäº§)

#### å¢žå¼ºå› å­ç³»ç»Ÿ (ä»…åœ¨æµ‹è¯•ä¸­ä½¿ç”¨)
```
ats_core/factors_v2/
â”œâ”€â”€ cvd_enhanced.py     ðŸ§ª C+å› å­ï¼ˆå®žéªŒæ€§ï¼‰
â”œâ”€â”€ oi_regime.py        ðŸ§ª O+å› å­ï¼ˆå®žéªŒæ€§ï¼‰
â”œâ”€â”€ volume_trigger.py   ðŸ§ª V+å› å­ï¼ˆå®žéªŒæ€§ï¼‰
â”œâ”€â”€ liquidity.py        ðŸ§ª Lå› å­ï¼ˆå®žéªŒæ€§ï¼‰
â”œâ”€â”€ basis_funding.py    ðŸ§ª Bå› å­ï¼ˆå®žéªŒæ€§ï¼‰
â”œâ”€â”€ liquidation.py      ðŸ§ª Qå› å­ï¼ˆå®žéªŒæ€§ï¼‰
â””â”€â”€ independence.py     ðŸ§ª Iå› å­ï¼ˆå®žéªŒæ€§ï¼‰
```

**å®žé™…ä½¿ç”¨**: ä»…è¢« `analyze_symbol_v2.py` è°ƒç”¨ï¼Œè€Œè¯¥æ–‡ä»¶åªæœ‰1å¤„å¯é€‰è°ƒç”¨

#### å®žéªŒæ€§åˆ†æžå¼•æ“Ž
- **`ats_core/pipeline/analyze_symbol_v2.py`** ðŸ§ª
  - é›†æˆ10+1ç»´åº¦å› å­
  - ä½†åœ¨å®žé™…è¿è¡Œä¸­é»˜è®¤å…³é—­ï¼ˆuse_v2=Falseï¼‰
  - æœªè¢«ç”Ÿäº§çŽ¯å¢ƒé‡‡ç”¨

---

### 3. å€™é€‰æ± ç³»ç»Ÿ (åŒæž¶æž„å¹¶å­˜)

#### æž¶æž„A: Legacyæ± ç³»ç»Ÿ
```
ats_core/pools/
â”œâ”€â”€ base_builder.py     ðŸ”¶ åŸºç¡€æ± æž„å»ºå™¨ï¼ˆè€ç³»ç»Ÿï¼‰
â”œâ”€â”€ overlay_builder.py  ðŸ”¶ å åŠ æ± æž„å»ºå™¨ï¼ˆè€ç³»ç»Ÿï¼‰
â””â”€â”€ main.py             ðŸ”¶ è¾…åŠ©å·¥å…·
```
**ä½¿ç”¨åœºæ™¯**: `tools/full_run.py`, `tools/full_run_v2.py`

#### æž¶æž„B: Eliteæ± ç³»ç»Ÿ
```
ats_core/pools/
â”œâ”€â”€ elite_builder.py    âœ… ç²¾è‹±æ± æž„å»ºå™¨ï¼ˆçŽ°ä»£ç³»ç»Ÿï¼‰
â”œâ”€â”€ pool_manager.py     âœ… ç»Ÿä¸€æ± ç®¡ç†å™¨
```
**ä½¿ç”¨åœºæ™¯**: `tools/full_run_elite.py`, `scripts/run_auto_trader.py`

**é—®é¢˜**: ä¸¤å¥—ç³»ç»Ÿå¹¶å­˜ï¼Œé€ æˆç»´æŠ¤è´Ÿæ‹…

---

### 4. æ•°æ®èŽ·å–å±‚ (ç”Ÿäº§ä½¿ç”¨)

#### REST API (ä¸»åŠ›)
```
ats_core/sources/
â”œâ”€â”€ binance.py          âœ… æ ¸å¿ƒREST API
â”œâ”€â”€ binance_safe.py     âœ… é™æµåŒ…è£…å™¨
â”œâ”€â”€ klines.py           âœ… Kçº¿æ•°æ®
â”œâ”€â”€ oi.py               âœ… æŒä»“é‡æ•°æ®
â””â”€â”€ tickers.py          âœ… è¡Œæƒ…æ•°æ®
```

#### WebSocketæµå¼æ•°æ® (ä¼˜åŒ–åŠŸèƒ½)
```
ats_core/streaming/
â””â”€â”€ websocket_client.py âœ… å®žæ—¶WebSocketå®¢æˆ·ç«¯

ats_core/data/
â””â”€â”€ realtime_kline_cache.py âœ… Kçº¿ç¼“å­˜ï¼ˆ17å€æé€Ÿï¼‰
```

**å®žé™…æ•ˆæžœ**:
- `batch_scan_optimized.py` ä½¿ç”¨WebSocketç¼“å­˜
- ä½†è¯¥æ–‡ä»¶åœ¨gitåŽ†å²ä¸­æ ‡è®°æœ‰4ä¸ªä¸¥é‡ç¼ºé™·

---

### 5. è¯„åˆ†ä¸Žå†³ç­–ç³»ç»Ÿ (ç”Ÿäº§ä½¿ç”¨)

```
ats_core/scoring/
â”œâ”€â”€ scorecard.py        âœ… ç»Ÿä¸€Â±100è¯„åˆ†èšåˆ
â”œâ”€â”€ probability.py      âœ… æ¦‚çŽ‡è®¡ç®—ï¼ˆä¸»åŠ›ï¼‰
â”œâ”€â”€ probability_v2.py   ðŸ”¶ v2.0æ¦‚çŽ‡ï¼ˆæœ‰Fè°ƒæ•´ï¼Œæœªç¡®è®¤ç”Ÿäº§ä½¿ç”¨ï¼‰
â””â”€â”€ adaptive_weights.py â“ è‡ªé€‚åº”æƒé‡ï¼ˆæœªéªŒè¯ç”Ÿäº§ä½¿ç”¨ï¼‰
```

**å†³ç­–é€»è¾‘**:
- æ¦‚çŽ‡ >= 62% + dims_ok >= 4 â†’ TRADE
- 58% <= æ¦‚çŽ‡ <= 61% â†’ WATCH
- å…¶ä»– â†’ TRASH

---

### 6. äº¤æ˜“æ‰§è¡Œç³»ç»Ÿ (ç”Ÿäº§ä½¿ç”¨)

```
ats_core/execution/
â”œâ”€â”€ auto_trader.py              âœ… ä¸»æŽ§åˆ¶å™¨
â”œâ”€â”€ binance_futures_client.py   âœ… æœŸè´§APIå®¢æˆ·ç«¯
â”œâ”€â”€ position_manager.py         âœ… ä»“ä½ç®¡ç†å™¨
â””â”€â”€ signal_executor.py          âœ… ä¿¡å·æ‰§è¡Œå™¨
```

**å®žé™…åŠŸèƒ½**:
- WebSocketå®žæ—¶ç›‘æŽ§ï¼ˆ<200mså»¶è¿Ÿï¼‰
- åŠ¨æ€æ­¢æŸ/æ­¢ç›ˆ
- åˆ†å±‚å‡ºåœºï¼ˆTP1: 50%, TP2: 50%ï¼‰

---

### 7. å¼ºåŒ–å­¦ä¹ æ¨¡å— (éª¨æž¶ä»£ç  - æœªä½¿ç”¨)

```
ats_core/rl/
â””â”€â”€ dynamic_stop_loss.py  âŒ 400+è¡Œéª¨æž¶ä»£ç 
                             8+ TODOæ³¨é‡Š
                             ä»…åœ¨æµ‹è¯•ä¸­è°ƒç”¨
                             ç”Ÿäº§çŽ¯å¢ƒä»Žæœªä½¿ç”¨
```

**å»ºè®®**: åˆ é™¤æˆ–ç§»è‡³experimentalåˆ†æ”¯

---

### 8. å›žæµ‹ç³»ç»Ÿ (åŠŸèƒ½å®Œæ•´)

```
ats_backtest/
â”œâ”€â”€ data_loader.py      âœ… åŽ†å²æ•°æ®åŠ è½½
â”œâ”€â”€ engine.py           âœ… å›žæµ‹å¼•æ“Ž
â”œâ”€â”€ metrics.py          âœ… æ€§èƒ½æŒ‡æ ‡
â””â”€â”€ report.py           âœ… æŠ¥å‘Šç”Ÿæˆ
```

**å·¥å…·æ”¯æŒ**:
- `tools/run_backtest.py` âœ… ä¸»åŠ›å›žæµ‹å·¥å…·
- `tools/run_real_backtest.py` âœ… å®žæ—¶æ•°æ®å›žæµ‹
- `tools/generate_backtest_signals.py` âœ… ä¿¡å·ç”Ÿæˆå™¨
- `tools/run_workflow_backtest.py` âŒ 6ä¸ªæœªå®ŒæˆTODO

---

### 9. è¾“å‡ºç³»ç»Ÿ (ç”Ÿäº§ä½¿ç”¨)

```
ats_core/outputs/
â”œâ”€â”€ telegram_fmt.py     âœ… 6Dæ¶ˆæ¯æ ¼å¼åŒ–
â””â”€â”€ publisher.py        âœ… UTF-8å®‰å…¨å‘é€å™¨
```

---

### 10. å¼€å‘å·¥å…· (tools/ - 28ä¸ªæ–‡ä»¶)

#### è¿è¡Œå™¨ (4ä¸ªç‰ˆæœ¬ - å†—ä½™)
- **`full_run.py`** ðŸ”¶ Legacyç‰ˆæœ¬ï¼ˆ7Dåˆ†æž + æ—§æ± ç³»ç»Ÿï¼‰
- **`full_run_v2.py`** ðŸ”¶ V2ç‰ˆæœ¬ï¼ˆå¯é€‰v2åˆ†æžå™¨ï¼Œä½†é»˜è®¤å…³é—­ï¼‰
- **`full_run_v2_fast.py`** âœ… WebSocketä¼˜åŒ–ç‰ˆæœ¬
- **`full_run_elite.py`** âœ… Eliteæ± ä¸“ç”¨ç‰ˆæœ¬

**å»ºè®®**: ä¿ç•™ `full_run_v2_fast.py` å’Œ `full_run_elite.py`ï¼Œåˆ é™¤å‰ä¸¤ä¸ª

#### è¯Šæ–­å·¥å…· (6ä¸ª - éƒ¨åˆ†é‡å )
```
tools/
â”œâ”€â”€ diagnose_single.py     âœ… å•äº¤æ˜“å¯¹è¯Šæ–­
â”œâ”€â”€ diagnose_zeros.py      âœ… é›¶åˆ†è¯Šæ–­
â”œâ”€â”€ diagnose_F.py          âœ… Få› å­è°ƒè¯•
â”œâ”€â”€ diagnose_oi.py         âœ… OIåˆ†æž
â”œâ”€â”€ quick_run.py           ðŸ”¶ å¿«é€Ÿæµ‹è¯•ï¼ˆä¸Žfull_run_v2_fasté‡å ï¼Ÿï¼‰
â””â”€â”€ self_check.py          âœ… ç³»ç»Ÿå¥åº·æ£€æŸ¥
```

#### æ‰‹åŠ¨å·¥å…· (æœ‰ç”¨)
```
tools/
â”œâ”€â”€ manual_run.py          âœ… æ‰‹åŠ¨ä¿¡å·ç”Ÿæˆ
â”œâ”€â”€ send_symbol.py         âœ… å‘é€äº¤æ˜“ä¿¡å·
â”œâ”€â”€ send_text.py           âœ… å‘é€æ–‡æœ¬æ¶ˆæ¯
â””â”€â”€ scan_watch.py          âœ… å®žæ—¶ç›‘æŽ§
```

---

## ðŸ” å†—ä½™ä»£ç ç»Ÿè®¡

### å·²è¯†åˆ«å†—ä½™ï¼ˆå¯å®‰å…¨åˆ é™¤ï¼‰

| ç±»åž‹ | æ–‡ä»¶ | åŽŸå›  | ä»£ç è¡Œæ•° |
|------|------|------|---------|
| **æœªä½¿ç”¨æ¨¡å—** | `ats_core/rl/dynamic_stop_loss.py` | éª¨æž¶ä»£ç ï¼Œç”Ÿäº§ä»Žæœªä½¿ç”¨ | ~400 |
| **å·²å¼ƒç”¨å› å­** | `ats_core/features/accel.py` | æ–‡æ¡£æ ‡è®°å·²å¼ƒç”¨ | ~60 |
| **æœªå®Œæˆå·¥å…·** | `tools/run_workflow_backtest.py` | 6ä¸ªTODOæœªå®Œæˆ | ~250 |
| **Legacyè¿è¡Œå™¨** | `tools/full_run.py` | è¢«v2ç‰ˆæœ¬æ›¿ä»£ | ~200 |
| **å­åˆè®¡** | | | **~910è¡Œ** |

### å®žéªŒæ€§ä»£ç ï¼ˆå¾…å†³ç­–ï¼‰

| ç±»åž‹ | æ–‡ä»¶/ç›®å½• | çŠ¶æ€ | ä»£ç è¡Œæ•° |
|------|----------|------|---------|
| **V2å› å­ç³»ç»Ÿ** | `ats_core/factors_v2/` (7ä¸ªæ–‡ä»¶) | ä»…æµ‹è¯•ä½¿ç”¨ï¼ŒæœªæŠ•äº§ | ~800 |
| **V2åˆ†æžå™¨** | `ats_core/pipeline/analyze_symbol_v2.py` | é»˜è®¤å…³é—­ | ~350 |
| **V2æ¦‚çŽ‡** | `ats_core/scoring/probability_v2.py` | ä¸ç¡®å®šæ˜¯å¦ä½¿ç”¨ | ~100 |
| **å­åˆè®¡** | | | **~1,250è¡Œ** |

### é‡å¤æž¶æž„ï¼ˆéœ€åˆå¹¶ï¼‰

| ç±»åž‹ | å†—ä½™éƒ¨åˆ† | å»ºè®® |
|------|----------|------|
| **æ± ç³»ç»Ÿ** | base_builder.py + overlay_builder.py | ç»Ÿä¸€åˆ°eliteç³»ç»Ÿ |
| **æ‰¹é‡æ‰«æ** | batch_scan.py vs batch_scan_optimized.py | ä½¿ç”¨ä¼˜åŒ–ç‰ˆæœ¬ |

---

## âœ… ç”Ÿäº§çŽ¯å¢ƒå®žé™…ä½¿ç”¨çš„æ ¸å¿ƒåŠŸèƒ½

### æ•°æ®æµç¨‹
```
1. æ•°æ®èŽ·å–
   â”œâ”€ binance.py (REST API)
   â”œâ”€ websocket_client.py (å®žæ—¶æµ)
   â””â”€ realtime_kline_cache.py (ç¼“å­˜ä¼˜åŒ–)

2. å€™é€‰æ± æž„å»º
   â”œâ”€ elite_builder.py (4å±‚è¿‡æ»¤)
   â””â”€ pool_manager.py (ç»Ÿä¸€ç®¡ç†)

3. å› å­è®¡ç®— (7+1ç»´åº¦)
   â”œâ”€ trend.py (T)
   â”œâ”€ momentum.py (M)
   â”œâ”€ cvd_flow.py (C)
   â”œâ”€ volume.py (V)
   â”œâ”€ structure_sq.py (S)
   â”œâ”€ open_interest.py (O)
   â”œâ”€ environment.py (E)
   â””â”€ fund_leading.py (F - è°ƒèŠ‚å™¨)

4. è¯„åˆ†å†³ç­–
   â”œâ”€ scorecard.py (èšåˆè¯„åˆ†)
   â””â”€ probability.py (æ¦‚çŽ‡è®¡ç®—)

5. ä¿¡å·å‘å¸ƒ
   â”œâ”€ analyze_symbol.py (ä¸»å¼•æ“Ž)
   â””â”€ telegram_fmt.py (æ ¼å¼åŒ–)

6. äº¤æ˜“æ‰§è¡Œ
   â”œâ”€ auto_trader.py (ä¸»æŽ§)
   â”œâ”€ binance_futures_client.py (ä¸‹å•)
   â””â”€ position_manager.py (é£ŽæŽ§)
```

### é…ç½®æ–‡ä»¶
- **`config/params.json`** âœ… ä¸»é…ç½®ï¼ˆ200+å‚æ•°ï¼‰
- **`config/factors_unified.json`** ðŸ§ª V2é…ç½®ï¼ˆæœªç¡®è®¤ä½¿ç”¨ï¼‰
- **`config/blacklist.json`** âœ… é»‘åå•

---

## ðŸŽ¯ æ¸…ç†å»ºè®®ä¼˜å…ˆçº§

### é«˜ä¼˜å…ˆçº§ï¼ˆç«‹å³æ¸…ç† - ä½Žé£Žé™©ï¼‰
1. âœ… åˆ é™¤ `ats_core/rl/` ï¼ˆæœªä½¿ç”¨ï¼‰
2. âœ… åˆ é™¤ `ats_core/features/accel.py` ï¼ˆå·²å¼ƒç”¨ï¼‰
3. âœ… åˆ é™¤ `tools/full_run.py` ï¼ˆLegacyï¼‰
4. âœ… åˆ é™¤ `tools/run_workflow_backtest.py` ï¼ˆæœªå®Œæˆï¼‰

**é¢„è®¡æ¸…ç†**: ~910è¡Œä»£ç 

### ä¸­ä¼˜å…ˆçº§ï¼ˆæ ‡è®°ä¸ºå®žéªŒæ€§ï¼‰
1. ðŸ§ª æ ‡è®° `ats_core/factors_v2/` ä¸ºå®žéªŒæ€§
2. ðŸ§ª æ ‡è®° `analyze_symbol_v2.py` ä¸ºå®žéªŒæ€§
3. ðŸ“ åœ¨æ–‡æ¡£ä¸­æ˜Žç¡®V1æ˜¯ç”Ÿäº§ç‰ˆæœ¬

### ä½Žä¼˜å…ˆçº§ï¼ˆé€æ­¥è¿ç§»ï¼‰
1. ç»Ÿä¸€æ± ç³»ç»Ÿæž¶æž„
2. åˆå¹¶é‡å¤çš„è¿è¡Œå™¨
3. æ•´åˆè¯Šæ–­å·¥å…·

---

## ðŸ“Š æœ€ç»ˆç»Ÿè®¡

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| **æ€»ä»£ç è¡Œæ•°** | 27,709 |
| **ç”Ÿäº§ä½¿ç”¨** | ~18,000 (65%) |
| **å®žéªŒæ€§ä»£ç ** | ~1,250 (4.5%) |
| **å†—ä½™ä»£ç ** | ~910 (3.3%) |
| **æµ‹è¯•/å·¥å…·** | ~7,549 (27.2%) |

---

## ðŸš€ ç³»ç»Ÿå®žé™…èƒ½åŠ›

### å½“å‰ç”Ÿäº§åŠŸèƒ½
âœ… 7+1ç»´åº¦å› å­åˆ†æžï¼ˆV1ç³»ç»Ÿï¼‰
âœ… Eliteå€™é€‰æ± æ™ºèƒ½è¿‡æ»¤
âœ… WebSocketå®žæ—¶æ•°æ®ä¼˜åŒ–ï¼ˆ17å€æé€Ÿï¼‰
âœ… è‡ªåŠ¨äº¤æ˜“æ‰§è¡Œï¼ˆåŠ¨æ€TP/SLï¼‰
âœ… å®Œæ•´å›žæµ‹ç³»ç»Ÿ
âœ… Telegramå®žæ—¶æŽ¨é€

### å®žéªŒæ€§åŠŸèƒ½ï¼ˆæœªæŠ•äº§ï¼‰
ðŸ§ª 10+1ç»´åº¦å¢žå¼ºå› å­ï¼ˆV2ç³»ç»Ÿï¼‰
ðŸ§ª å¾®è§‚ç»“æž„å› å­ï¼ˆL/B/Q/Iï¼‰

### æœªå®ŒæˆåŠŸèƒ½
âŒ å¼ºåŒ–å­¦ä¹ æ­¢æŸä¼˜åŒ–
âŒ å·¥ä½œæµå¼å›žæµ‹
âŒ Aå› å­ï¼ˆåŠ é€Ÿåº¦ï¼‰

---

**ç»“è®º**: ç³»ç»Ÿæ ¸å¿ƒåŠŸèƒ½ç¨³å®šï¼ˆV1ï¼‰ï¼Œä½†å­˜åœ¨~2,000è¡Œå†—ä½™/å®žéªŒæ€§ä»£ç éœ€è¦æ¸…ç†æˆ–æ ‡è®°ã€‚
